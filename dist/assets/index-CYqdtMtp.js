var D0=t=>{throw TypeError(t)};var tm=(t,e,n)=>e.has(t)||D0("Cannot "+n);var $=(t,e,n)=>(tm(t,e,"read from private field"),n?n.call(t):e.get(t)),Ve=(t,e,n)=>e.has(t)?D0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,r)=>(tm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),on=(t,e,n)=>(tm(t,e,"access private method"),n);var ld=(t,e,n,r)=>({set _(s){be(t,e,s,n)},get _(){return $(t,e,r)}});function Z2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ub(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $b={exports:{}},vf={},Bb={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),eD=Symbol.for("react.portal"),tD=Symbol.for("react.fragment"),nD=Symbol.for("react.strict_mode"),rD=Symbol.for("react.profiler"),sD=Symbol.for("react.provider"),oD=Symbol.for("react.context"),iD=Symbol.for("react.forward_ref"),aD=Symbol.for("react.suspense"),lD=Symbol.for("react.memo"),cD=Symbol.for("react.lazy"),O0=Symbol.iterator;function uD(t){return t===null||typeof t!="object"?null:(t=O0&&t[O0]||t["@@iterator"],typeof t=="function"?t:null)}var zb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wb=Object.assign,Hb={};function hl(t,e,n){this.props=t,this.context=e,this.refs=Hb,this.updater=n||zb}hl.prototype.isReactComponent={};hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qb(){}qb.prototype=hl.prototype;function ov(t,e,n){this.props=t,this.context=e,this.refs=Hb,this.updater=n||zb}var iv=ov.prototype=new qb;iv.constructor=ov;Wb(iv,hl.prototype);iv.isPureReactComponent=!0;var M0=Array.isArray,Gb=Object.prototype.hasOwnProperty,av={current:null},Kb={key:!0,ref:!0,__self:!0,__source:!0};function Qb(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Gb.call(e,r)&&!Kb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:mu,type:t,key:o,ref:i,props:s,_owner:av.current}}function dD(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lv(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function hD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var j0=/\/+/g;function nm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hD(""+t.key):e.toString(36)}function zd(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case mu:case eD:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+nm(i,0):r,M0(s)?(n="",t!=null&&(n=t.replace(j0,"$&/")+"/"),zd(s,e,n,"",function(u){return u})):s!=null&&(lv(s)&&(s=dD(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(j0,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",M0(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+nm(o,a);i+=zd(o,e,n,l,s)}else if(l=uD(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+nm(o,a++),i+=zd(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function cd(t,e,n){if(t==null)return t;var r=[],s=0;return zd(t,r,"","",function(o){return e.call(n,o,s++)}),r}function fD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},Wd={transition:null},pD={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:av};function Yb(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:cd,forEach:function(t,e,n){cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!lv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=hl;je.Fragment=tD;je.Profiler=rD;je.PureComponent=ov;je.StrictMode=nD;je.Suspense=aD;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD;je.act=Yb;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Wb({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=av.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Gb.call(e,l)&&!Kb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:mu,type:t.type,key:s,ref:o,props:r,_owner:i}};je.createContext=function(t){return t={$$typeof:oD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sD,_context:t},t.Consumer=t};je.createElement=Qb;je.createFactory=function(t){var e=Qb.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:iD,render:t}};je.isValidElement=lv;je.lazy=function(t){return{$$typeof:cD,_payload:{_status:-1,_result:t},_init:fD}};je.memo=function(t,e){return{$$typeof:lD,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};je.unstable_act=Yb;je.useCallback=function(t,e){return In.current.useCallback(t,e)};je.useContext=function(t){return In.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return In.current.useDeferredValue(t)};je.useEffect=function(t,e){return In.current.useEffect(t,e)};je.useId=function(){return In.current.useId()};je.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return In.current.useMemo(t,e)};je.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};je.useRef=function(t){return In.current.useRef(t)};je.useState=function(t){return In.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return In.current.useTransition()};je.version="18.3.1";Bb.exports=je;var m=Bb.exports;const ne=Ub(m),cv=Z2({__proto__:null,default:ne},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD=m,gD=Symbol.for("react.element"),yD=Symbol.for("react.fragment"),vD=Object.prototype.hasOwnProperty,wD=mD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_D={key:!0,ref:!0,__self:!0,__source:!0};function Xb(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)vD.call(e,r)&&!_D.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:gD,type:t,key:o,ref:i,props:s,_owner:wD.current}}vf.Fragment=yD;vf.jsx=Xb;vf.jsxs=Xb;$b.exports=vf;var d=$b.exports,Jb={exports:{}},Qn={},Zb={exports:{}},eS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var H=F.length;F.push(j);e:for(;0<H;){var te=H-1>>>1,X=F[te];if(0<s(X,j))F[te]=j,F[H]=X,H=te;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],H=F.pop();if(H!==j){F[0]=H;e:for(var te=0,X=F.length,le=X>>>1;te<le;){var pe=2*(te+1)-1,De=F[pe],$e=pe+1,Y=F[$e];if(0>s(De,H))$e<X&&0>s(Y,De)?(F[te]=Y,F[$e]=H,te=$e):(F[te]=De,F[pe]=H,te=pe);else if($e<X&&0>s(Y,H))F[te]=Y,F[$e]=H,te=$e;else break e}}return j}function s(F,j){var H=F.sortIndex-j.sortIndex;return H!==0?H:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],h=1,f=null,p=3,y=!1,b=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=F)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function k(F){if(v=!1,T(F),!b)if(n(l)!==null)b=!0,J(D);else{var j=n(u);j!==null&&q(k,j.startTime-F)}}function D(F,j){b=!1,v&&(v=!1,E(S),S=-1),y=!0;var H=p;try{for(T(j),f=n(l);f!==null&&(!(f.expirationTime>j)||F&&!C());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var X=te(f.expirationTime<=j);j=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),T(j)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var pe=n(u);pe!==null&&q(k,pe.startTime-j),le=!1}return le}finally{f=null,p=H,y=!1}}var M=!1,I=null,S=-1,R=5,P=-1;function C(){return!(t.unstable_now()-P<R)}function O(){if(I!==null){var F=t.unstable_now();P=F;var j=!0;try{j=I(!0,F)}finally{j?N():(M=!1,I=null)}}else M=!1}var N;if(typeof w=="function")N=function(){w(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ie=U.port2;U.port1.onmessage=O,N=function(){ie.postMessage(null)}}else N=function(){x(O,0)};function J(F){I=F,M||(M=!0,N())}function q(F,j){S=x(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,J(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var H=p;p=j;try{return F()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=p;p=F;try{return j()}finally{p=H}},t.unstable_scheduleCallback=function(F,j,H){var te=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,F={id:h++,callback:j,priorityLevel:F,startTime:H,expirationTime:X,sortIndex:-1},H>te?(F.sortIndex=H,e(u,F),n(l)===null&&F===n(u)&&(v?(E(S),S=-1):v=!0,q(k,H-te))):(F.sortIndex=X,e(l,F),b||y||(b=!0,J(D))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var j=p;return function(){var H=p;p=j;try{return F.apply(this,arguments)}finally{p=H}}}})(eS);Zb.exports=eS;var xD=Zb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ED=m,Kn=xD;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tS=new Set,Ac={};function Vi(t,e){Ga(t,e),Ga(t+"Capture",e)}function Ga(t,e){for(Ac[t]=e,t=0;t<e.length;t++)tS.add(e[t])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lg=Object.prototype.hasOwnProperty,TD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L0={},F0={};function bD(t){return lg.call(F0,t)?!0:lg.call(L0,t)?!1:TD.test(t)?F0[t]=!0:(L0[t]=!0,!1)}function SD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ID(t,e,n,r){if(e===null||typeof e>"u"||SD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var uv=/[\-:]([a-z])/g;function dv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uv,dv);en[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uv,dv);en[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uv,dv);en[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function hv(t,e,n,r){var s=en.hasOwnProperty(e)?en[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ID(e,n,s,r)&&(n=null),r||s===null?bD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vs=ED.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ud=Symbol.for("react.element"),fa=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),nS=Symbol.for("react.provider"),rS=Symbol.for("react.context"),pv=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),mv=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),sS=Symbol.for("react.offscreen"),V0=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=V0&&t[V0]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,rm;function Jl(t){if(rm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rm=e&&e[1]||""}return`
`+rm+t}var sm=!1;function om(t,e){if(!t||sm)return"";sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jl(t):""}function CD(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=om(t.type,!1),t;case 11:return t=om(t.type.render,!1),t;case 1:return t=om(t.type,!0),t;default:return""}}function hg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pa:return"Fragment";case fa:return"Portal";case cg:return"Profiler";case fv:return"StrictMode";case ug:return"Suspense";case dg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rS:return(t.displayName||"Context")+".Consumer";case nS:return(t._context.displayName||"Context")+".Provider";case pv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mv:return e=t.displayName||null,e!==null?e:hg(t.type)||"Memo";case no:e=t._payload,t=t._init;try{return hg(t(e))}catch{}}return null}function RD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hg(e);case 8:return e===fv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AD(t){var e=oS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dd(t){t._valueTracker||(t._valueTracker=AD(t))}function iS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fg(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function U0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aS(t,e){e=e.checked,e!=null&&hv(t,"checked",e,!1)}function pg(t,e){aS(t,e);var n=ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mg(t,e.type,n):e.hasOwnProperty("defaultValue")&&mg(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mg(t,e,n){(e!=="number"||gh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function Sa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ko(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function gg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Zl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ko(n)}}function lS(t,e){var n=ko(e.value),r=ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function z0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hd,uS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PD=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(t){PD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fc[e]=fc[t]})});function dS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fc.hasOwnProperty(t)&&fc[t]?(""+e).trim():e+"px"}function hS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kD=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vg(t,e){if(e){if(kD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=null;function gv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xg=null,Ia=null,Ca=null;function W0(t){if(t=vu(t)){if(typeof xg!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Tf(e),xg(t.stateNode,t.type,e))}}function fS(t){Ia?Ca?Ca.push(t):Ca=[t]:Ia=t}function pS(){if(Ia){var t=Ia,e=Ca;if(Ca=Ia=null,W0(t),e)for(t=0;t<e.length;t++)W0(e[t])}}function mS(t,e){return t(e)}function gS(){}var im=!1;function yS(t,e,n){if(im)return t(e,n);im=!0;try{return mS(t,e,n)}finally{im=!1,(Ia!==null||Ca!==null)&&(gS(),pS())}}function kc(t,e){var n=t.stateNode;if(n===null)return null;var r=Tf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Eg=!1;if(Cs)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){Eg=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Eg=!1}function ND(t,e,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var pc=!1,yh=null,vh=!1,Tg=null,DD={onError:function(t){pc=!0,yh=t}};function OD(t,e,n,r,s,o,i,a,l){pc=!1,yh=null,ND.apply(DD,arguments)}function MD(t,e,n,r,s,o,i,a,l){if(OD.apply(this,arguments),pc){if(pc){var u=yh;pc=!1,yh=null}else throw Error(Q(198));vh||(vh=!0,Tg=u)}}function Ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function H0(t){if(Ui(t)!==t)throw Error(Q(188))}function jD(t){var e=t.alternate;if(!e){if(e=Ui(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return H0(s),t;if(o===r)return H0(s),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function wS(t){return t=jD(t),t!==null?_S(t):null}function _S(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_S(t);if(e!==null)return e;t=t.sibling}return null}var xS=Kn.unstable_scheduleCallback,q0=Kn.unstable_cancelCallback,LD=Kn.unstable_shouldYield,FD=Kn.unstable_requestPaint,Ct=Kn.unstable_now,VD=Kn.unstable_getCurrentPriorityLevel,yv=Kn.unstable_ImmediatePriority,ES=Kn.unstable_UserBlockingPriority,wh=Kn.unstable_NormalPriority,UD=Kn.unstable_LowPriority,TS=Kn.unstable_IdlePriority,wf=null,Hr=null;function $D(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(wf,t,void 0,(t.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:WD,BD=Math.log,zD=Math.LN2;function WD(t){return t>>>=0,t===0?32:31-(BD(t)/zD|0)|0}var fd=64,pd=4194304;function ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _h(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=ec(a):(o&=i,o!==0&&(r=ec(o)))}else i=n&~s,i!==0?r=ec(i):o!==0&&(r=ec(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tr(e),s=1<<n,r|=t[n],e&=~s;return r}function HD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Tr(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=HD(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bS(){var t=fd;return fd<<=1,!(fd&4194240)&&(fd=64),t}function am(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tr(e),t[e]=n}function GD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Tr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function vv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ze=0;function SS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IS,wv,CS,RS,AS,Sg=!1,md=[],_o=null,xo=null,Eo=null,Nc=new Map,Dc=new Map,so=[],KD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G0(t,e){switch(t){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":Nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(e.pointerId)}}function Ul(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=vu(e),e!==null&&wv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function QD(t,e,n,r,s){switch(e){case"focusin":return _o=Ul(_o,t,e,n,r,s),!0;case"dragenter":return xo=Ul(xo,t,e,n,r,s),!0;case"mouseover":return Eo=Ul(Eo,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Nc.set(o,Ul(Nc.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Dc.set(o,Ul(Dc.get(o)||null,t,e,n,r,s)),!0}return!1}function PS(t){var e=ii(t.target);if(e!==null){var n=Ui(e);if(n!==null){if(e=n.tag,e===13){if(e=vS(n),e!==null){t.blockedOn=e,AS(t.priority,function(){CS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ig(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_g=r,n.target.dispatchEvent(r),_g=null}else return e=vu(n),e!==null&&wv(e),t.blockedOn=n,!1;e.shift()}return!0}function K0(t,e,n){Hd(t)&&n.delete(e)}function YD(){Sg=!1,_o!==null&&Hd(_o)&&(_o=null),xo!==null&&Hd(xo)&&(xo=null),Eo!==null&&Hd(Eo)&&(Eo=null),Nc.forEach(K0),Dc.forEach(K0)}function $l(t,e){t.blockedOn===e&&(t.blockedOn=null,Sg||(Sg=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,YD)))}function Oc(t){function e(s){return $l(s,t)}if(0<md.length){$l(md[0],t);for(var n=1;n<md.length;n++){var r=md[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_o!==null&&$l(_o,t),xo!==null&&$l(xo,t),Eo!==null&&$l(Eo,t),Nc.forEach(e),Dc.forEach(e),n=0;n<so.length;n++)r=so[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<so.length&&(n=so[0],n.blockedOn===null);)PS(n),n.blockedOn===null&&so.shift()}var Ra=Vs.ReactCurrentBatchConfig,xh=!0;function XD(t,e,n,r){var s=Ze,o=Ra.transition;Ra.transition=null;try{Ze=1,_v(t,e,n,r)}finally{Ze=s,Ra.transition=o}}function JD(t,e,n,r){var s=Ze,o=Ra.transition;Ra.transition=null;try{Ze=4,_v(t,e,n,r)}finally{Ze=s,Ra.transition=o}}function _v(t,e,n,r){if(xh){var s=Ig(t,e,n,r);if(s===null)ym(t,e,r,Eh,n),G0(t,r);else if(QD(s,t,e,n,r))r.stopPropagation();else if(G0(t,r),e&4&&-1<KD.indexOf(t)){for(;s!==null;){var o=vu(s);if(o!==null&&IS(o),o=Ig(t,e,n,r),o===null&&ym(t,e,r,Eh,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ym(t,e,r,null,n)}}var Eh=null;function Ig(t,e,n,r){if(Eh=null,t=gv(r),t=ii(t),t!==null)if(e=Ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eh=t,null}function kS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VD()){case yv:return 1;case ES:return 4;case wh:case UD:return 16;case TS:return 536870912;default:return 16}default:return 16}}var po=null,xv=null,qd=null;function NS(){if(qd)return qd;var t,e=xv,n=e.length,r,s="value"in po?po.value:po.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return qd=s.slice(t,1<r?1-r:void 0)}function Gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gd(){return!0}function Q0(){return!1}function Yn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gd:Q0,this.isPropagationStopped=Q0,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),e}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ev=Yn(fl),yu=vt({},fl,{view:0,detail:0}),ZD=Yn(yu),lm,cm,Bl,_f=vt({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(lm=t.screenX-Bl.screenX,cm=t.screenY-Bl.screenY):cm=lm=0,Bl=t),lm)},movementY:function(t){return"movementY"in t?t.movementY:cm}}),Y0=Yn(_f),eO=vt({},_f,{dataTransfer:0}),tO=Yn(eO),nO=vt({},yu,{relatedTarget:0}),um=Yn(nO),rO=vt({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),sO=Yn(rO),oO=vt({},fl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iO=Yn(oO),aO=vt({},fl,{data:0}),X0=Yn(aO),lO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uO[t])?!!e[t]:!1}function Tv(){return dO}var hO=vt({},yu,{key:function(t){if(t.key){var e=lO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tv,charCode:function(t){return t.type==="keypress"?Gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fO=Yn(hO),pO=vt({},_f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J0=Yn(pO),mO=vt({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tv}),gO=Yn(mO),yO=vt({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),vO=Yn(yO),wO=vt({},_f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_O=Yn(wO),xO=[9,13,27,32],bv=Cs&&"CompositionEvent"in window,mc=null;Cs&&"documentMode"in document&&(mc=document.documentMode);var EO=Cs&&"TextEvent"in window&&!mc,DS=Cs&&(!bv||mc&&8<mc&&11>=mc),Z0=" ",ex=!1;function OS(t,e){switch(t){case"keyup":return xO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function TO(t,e){switch(t){case"compositionend":return MS(e);case"keypress":return e.which!==32?null:(ex=!0,Z0);case"textInput":return t=e.data,t===Z0&&ex?null:t;default:return null}}function bO(t,e){if(ma)return t==="compositionend"||!bv&&OS(t,e)?(t=NS(),qd=xv=po=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DS&&e.locale!=="ko"?null:e.data;default:return null}}var SO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SO[t.type]:e==="textarea"}function jS(t,e,n,r){fS(r),e=Th(e,"onChange"),0<e.length&&(n=new Ev("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gc=null,Mc=null;function IO(t){GS(t,0)}function xf(t){var e=va(t);if(iS(e))return t}function CO(t,e){if(t==="change")return e}var LS=!1;if(Cs){var dm;if(Cs){var hm="oninput"in document;if(!hm){var nx=document.createElement("div");nx.setAttribute("oninput","return;"),hm=typeof nx.oninput=="function"}dm=hm}else dm=!1;LS=dm&&(!document.documentMode||9<document.documentMode)}function rx(){gc&&(gc.detachEvent("onpropertychange",FS),Mc=gc=null)}function FS(t){if(t.propertyName==="value"&&xf(Mc)){var e=[];jS(e,Mc,t,gv(t)),yS(IO,e)}}function RO(t,e,n){t==="focusin"?(rx(),gc=e,Mc=n,gc.attachEvent("onpropertychange",FS)):t==="focusout"&&rx()}function AO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xf(Mc)}function PO(t,e){if(t==="click")return xf(e)}function kO(t,e){if(t==="input"||t==="change")return xf(e)}function NO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ir=typeof Object.is=="function"?Object.is:NO;function jc(t,e){if(Ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lg.call(e,s)||!Ir(t[s],e[s]))return!1}return!0}function sx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ox(t,e){var n=sx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sx(n)}}function VS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function US(){for(var t=window,e=gh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gh(t.document)}return e}function Sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DO(t){var e=US(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VS(n.ownerDocument.documentElement,n)){if(r!==null&&Sv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=ox(n,o);var i=ox(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OO=Cs&&"documentMode"in document&&11>=document.documentMode,ga=null,Cg=null,yc=null,Rg=!1;function ix(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rg||ga==null||ga!==gh(r)||(r=ga,"selectionStart"in r&&Sv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yc&&jc(yc,r)||(yc=r,r=Th(Cg,"onSelect"),0<r.length&&(e=new Ev("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ga)))}function yd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ya={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},fm={},$S={};Cs&&($S=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Ef(t){if(fm[t])return fm[t];if(!ya[t])return t;var e=ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $S)return fm[t]=e[n];return t}var BS=Ef("animationend"),zS=Ef("animationiteration"),WS=Ef("animationstart"),HS=Ef("transitionend"),qS=new Map,ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){qS.set(t,e),Vi(e,[t])}for(var pm=0;pm<ax.length;pm++){var mm=ax[pm],MO=mm.toLowerCase(),jO=mm[0].toUpperCase()+mm.slice(1);Vo(MO,"on"+jO)}Vo(BS,"onAnimationEnd");Vo(zS,"onAnimationIteration");Vo(WS,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(HS,"onTransitionEnd");Ga("onMouseEnter",["mouseout","mouseover"]);Ga("onMouseLeave",["mouseout","mouseover"]);Ga("onPointerEnter",["pointerout","pointerover"]);Ga("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LO=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function lx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MD(r,e,void 0,t),t.currentTarget=null}function GS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;lx(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;lx(s,a,u),o=l}}}if(vh)throw t=Tg,vh=!1,Tg=null,t}function lt(t,e){var n=e[Dg];n===void 0&&(n=e[Dg]=new Set);var r=t+"__bubble";n.has(r)||(KS(e,t,2,!1),n.add(r))}function gm(t,e,n){var r=0;e&&(r|=4),KS(n,t,r,e)}var vd="_reactListening"+Math.random().toString(36).slice(2);function Lc(t){if(!t[vd]){t[vd]=!0,tS.forEach(function(n){n!=="selectionchange"&&(LO.has(n)||gm(n,!1,t),gm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vd]||(e[vd]=!0,gm("selectionchange",!1,e))}}function KS(t,e,n,r){switch(kS(e)){case 1:var s=XD;break;case 4:s=JD;break;default:s=_v}n=s.bind(null,e,n,t),s=void 0,!Eg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ym(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ii(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}yS(function(){var u=o,h=gv(n),f=[];e:{var p=qS.get(t);if(p!==void 0){var y=Ev,b=t;switch(t){case"keypress":if(Gd(n)===0)break e;case"keydown":case"keyup":y=fO;break;case"focusin":b="focus",y=um;break;case"focusout":b="blur",y=um;break;case"beforeblur":case"afterblur":y=um;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=tO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gO;break;case BS:case zS:case WS:y=sO;break;case HS:y=vO;break;case"scroll":y=ZD;break;case"wheel":y=_O;break;case"copy":case"cut":case"paste":y=iO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=J0}var v=(e&4)!==0,x=!v&&t==="scroll",E=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,T;w!==null;){T=w;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,E!==null&&(k=kc(w,E),k!=null&&v.push(Fc(w,k,T)))),x)break;w=w.return}0<v.length&&(p=new y(p,b,null,n,h),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==_g&&(b=n.relatedTarget||n.fromElement)&&(ii(b)||b[Rs]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?ii(b):null,b!==null&&(x=Ui(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(v=Y0,k="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=J0,k="onPointerLeave",E="onPointerEnter",w="pointer"),x=y==null?p:va(y),T=b==null?p:va(b),p=new v(k,w+"leave",y,n,h),p.target=x,p.relatedTarget=T,k=null,ii(h)===u&&(v=new v(E,w+"enter",b,n,h),v.target=T,v.relatedTarget=x,k=v),x=k,y&&b)t:{for(v=y,E=b,w=0,T=v;T;T=na(T))w++;for(T=0,k=E;k;k=na(k))T++;for(;0<w-T;)v=na(v),w--;for(;0<T-w;)E=na(E),T--;for(;w--;){if(v===E||E!==null&&v===E.alternate)break t;v=na(v),E=na(E)}v=null}else v=null;y!==null&&cx(f,p,y,v,!1),b!==null&&x!==null&&cx(f,x,b,v,!0)}}e:{if(p=u?va(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var D=CO;else if(tx(p))if(LS)D=kO;else{D=AO;var M=RO}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=PO);if(D&&(D=D(t,u))){jS(f,D,n,h);break e}M&&M(t,p,u),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&mg(p,"number",p.value)}switch(M=u?va(u):window,t){case"focusin":(tx(M)||M.contentEditable==="true")&&(ga=M,Cg=u,yc=null);break;case"focusout":yc=Cg=ga=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,ix(f,n,h);break;case"selectionchange":if(OO)break;case"keydown":case"keyup":ix(f,n,h)}var I;if(bv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ma?OS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(DS&&n.locale!=="ko"&&(ma||S!=="onCompositionStart"?S==="onCompositionEnd"&&ma&&(I=NS()):(po=h,xv="value"in po?po.value:po.textContent,ma=!0)),M=Th(u,S),0<M.length&&(S=new X0(S,t,null,n,h),f.push({event:S,listeners:M}),I?S.data=I:(I=MS(n),I!==null&&(S.data=I)))),(I=EO?TO(t,n):bO(t,n))&&(u=Th(u,"onBeforeInput"),0<u.length&&(h=new X0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=I))}GS(f,e)})}function Fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Th(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=kc(t,n),o!=null&&r.unshift(Fc(t,o,s)),o=kc(t,e),o!=null&&r.push(Fc(t,o,s))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cx(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=kc(n,o),l!=null&&i.unshift(Fc(n,l,a))):s||(l=kc(n,o),l!=null&&i.push(Fc(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var FO=/\r\n?/g,VO=/\u0000|\uFFFD/g;function ux(t){return(typeof t=="string"?t:""+t).replace(FO,`
`).replace(VO,"")}function wd(t,e,n){if(e=ux(e),ux(t)!==e&&n)throw Error(Q(425))}function bh(){}var Ag=null,Pg=null;function kg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ng=typeof setTimeout=="function"?setTimeout:void 0,UO=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,$O=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(t){return dx.resolve(null).then(t).catch(BO)}:Ng;function BO(t){setTimeout(function(){throw t})}function vm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oc(e)}function To(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pl=Math.random().toString(36).slice(2),$r="__reactFiber$"+pl,Vc="__reactProps$"+pl,Rs="__reactContainer$"+pl,Dg="__reactEvents$"+pl,zO="__reactListeners$"+pl,WO="__reactHandles$"+pl;function ii(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rs]||n[$r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hx(t);t!==null;){if(n=t[$r])return n;t=hx(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[$r]||t[Rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Tf(t){return t[Vc]||null}var Og=[],wa=-1;function Uo(t){return{current:t}}function ut(t){0>wa||(t.current=Og[wa],Og[wa]=null,wa--)}function ot(t,e){wa++,Og[wa]=t.current,t.current=e}var No={},gn=Uo(No),Mn=Uo(!1),Ei=No;function Ka(t,e){var n=t.type.contextTypes;if(!n)return No;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jn(t){return t=t.childContextTypes,t!=null}function Sh(){ut(Mn),ut(gn)}function fx(t,e,n){if(gn.current!==No)throw Error(Q(168));ot(gn,e),ot(Mn,n)}function QS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,RD(t)||"Unknown",s));return vt({},n,r)}function Ih(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||No,Ei=gn.current,ot(gn,t),ot(Mn,Mn.current),!0}function px(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=QS(t,e,Ei),r.__reactInternalMemoizedMergedChildContext=t,ut(Mn),ut(gn),ot(gn,t)):ut(Mn),ot(Mn,n)}var ds=null,bf=!1,wm=!1;function YS(t){ds===null?ds=[t]:ds.push(t)}function HO(t){bf=!0,YS(t)}function $o(){if(!wm&&ds!==null){wm=!0;var t=0,e=Ze;try{var n=ds;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ds=null,bf=!1}catch(s){throw ds!==null&&(ds=ds.slice(t+1)),xS(yv,$o),s}finally{Ze=e,wm=!1}}return null}var _a=[],xa=0,Ch=null,Rh=0,tr=[],nr=0,Ti=null,ys=1,vs="";function ei(t,e){_a[xa++]=Rh,_a[xa++]=Ch,Ch=t,Rh=e}function XS(t,e,n){tr[nr++]=ys,tr[nr++]=vs,tr[nr++]=Ti,Ti=t;var r=ys;t=vs;var s=32-Tr(r)-1;r&=~(1<<s),n+=1;var o=32-Tr(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ys=1<<32-Tr(e)+s|n<<s|r,vs=o+t}else ys=1<<o|n<<s|r,vs=t}function Iv(t){t.return!==null&&(ei(t,1),XS(t,1,0))}function Cv(t){for(;t===Ch;)Ch=_a[--xa],_a[xa]=null,Rh=_a[--xa],_a[xa]=null;for(;t===Ti;)Ti=tr[--nr],tr[nr]=null,vs=tr[--nr],tr[nr]=null,ys=tr[--nr],tr[nr]=null}var Hn=null,zn=null,ht=!1,Er=null;function JS(t,e){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,zn=To(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ti!==null?{id:ys,overflow:vs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hn=t,zn=null,!0):!1;default:return!1}}function Mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jg(t){if(ht){var e=zn;if(e){var n=e;if(!mx(t,e)){if(Mg(t))throw Error(Q(418));e=To(n.nextSibling);var r=Hn;e&&mx(t,e)?JS(r,n):(t.flags=t.flags&-4097|2,ht=!1,Hn=t)}}else{if(Mg(t))throw Error(Q(418));t.flags=t.flags&-4097|2,ht=!1,Hn=t}}}function gx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function _d(t){if(t!==Hn)return!1;if(!ht)return gx(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kg(t.type,t.memoizedProps)),e&&(e=zn)){if(Mg(t))throw ZS(),Error(Q(418));for(;e;)JS(t,e),e=To(e.nextSibling)}if(gx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=To(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=Hn?To(t.stateNode.nextSibling):null;return!0}function ZS(){for(var t=zn;t;)t=To(t.nextSibling)}function Qa(){zn=Hn=null,ht=!1}function Rv(t){Er===null?Er=[t]:Er.push(t)}var qO=Vs.ReactCurrentBatchConfig;function zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yx(t){var e=t._init;return e(t._payload)}function eI(t){function e(E,w){if(t){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Co(E,w),E.index=0,E.sibling=null,E}function o(E,w,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function i(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,T,k){return w===null||w.tag!==6?(w=Im(T,E.mode,k),w.return=E,w):(w=s(w,T),w.return=E,w)}function l(E,w,T,k){var D=T.type;return D===pa?h(E,w,T.props.children,k,T.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===no&&yx(D)===w.type)?(k=s(w,T.props),k.ref=zl(E,w,T),k.return=E,k):(k=eh(T.type,T.key,T.props,null,E.mode,k),k.ref=zl(E,w,T),k.return=E,k)}function u(E,w,T,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Cm(T,E.mode,k),w.return=E,w):(w=s(w,T.children||[]),w.return=E,w)}function h(E,w,T,k,D){return w===null||w.tag!==7?(w=vi(T,E.mode,k,D),w.return=E,w):(w=s(w,T),w.return=E,w)}function f(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Im(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ud:return T=eh(w.type,w.key,w.props,null,E.mode,T),T.ref=zl(E,null,w),T.return=E,T;case fa:return w=Cm(w,E.mode,T),w.return=E,w;case no:var k=w._init;return f(E,k(w._payload),T)}if(Zl(w)||Fl(w))return w=vi(w,E.mode,T,null),w.return=E,w;xd(E,w)}return null}function p(E,w,T,k){var D=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(E,w,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ud:return T.key===D?l(E,w,T,k):null;case fa:return T.key===D?u(E,w,T,k):null;case no:return D=T._init,p(E,w,D(T._payload),k)}if(Zl(T)||Fl(T))return D!==null?null:h(E,w,T,k,null);xd(E,T)}return null}function y(E,w,T,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(T)||null,a(w,E,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ud:return E=E.get(k.key===null?T:k.key)||null,l(w,E,k,D);case fa:return E=E.get(k.key===null?T:k.key)||null,u(w,E,k,D);case no:var M=k._init;return y(E,w,T,M(k._payload),D)}if(Zl(k)||Fl(k))return E=E.get(T)||null,h(w,E,k,D,null);xd(w,k)}return null}function b(E,w,T,k){for(var D=null,M=null,I=w,S=w=0,R=null;I!==null&&S<T.length;S++){I.index>S?(R=I,I=null):R=I.sibling;var P=p(E,I,T[S],k);if(P===null){I===null&&(I=R);break}t&&I&&P.alternate===null&&e(E,I),w=o(P,w,S),M===null?D=P:M.sibling=P,M=P,I=R}if(S===T.length)return n(E,I),ht&&ei(E,S),D;if(I===null){for(;S<T.length;S++)I=f(E,T[S],k),I!==null&&(w=o(I,w,S),M===null?D=I:M.sibling=I,M=I);return ht&&ei(E,S),D}for(I=r(E,I);S<T.length;S++)R=y(I,E,S,T[S],k),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?S:R.key),w=o(R,w,S),M===null?D=R:M.sibling=R,M=R);return t&&I.forEach(function(C){return e(E,C)}),ht&&ei(E,S),D}function v(E,w,T,k){var D=Fl(T);if(typeof D!="function")throw Error(Q(150));if(T=D.call(T),T==null)throw Error(Q(151));for(var M=D=null,I=w,S=w=0,R=null,P=T.next();I!==null&&!P.done;S++,P=T.next()){I.index>S?(R=I,I=null):R=I.sibling;var C=p(E,I,P.value,k);if(C===null){I===null&&(I=R);break}t&&I&&C.alternate===null&&e(E,I),w=o(C,w,S),M===null?D=C:M.sibling=C,M=C,I=R}if(P.done)return n(E,I),ht&&ei(E,S),D;if(I===null){for(;!P.done;S++,P=T.next())P=f(E,P.value,k),P!==null&&(w=o(P,w,S),M===null?D=P:M.sibling=P,M=P);return ht&&ei(E,S),D}for(I=r(E,I);!P.done;S++,P=T.next())P=y(I,E,S,P.value,k),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),w=o(P,w,S),M===null?D=P:M.sibling=P,M=P);return t&&I.forEach(function(O){return e(E,O)}),ht&&ei(E,S),D}function x(E,w,T,k){if(typeof T=="object"&&T!==null&&T.type===pa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ud:e:{for(var D=T.key,M=w;M!==null;){if(M.key===D){if(D=T.type,D===pa){if(M.tag===7){n(E,M.sibling),w=s(M,T.props.children),w.return=E,E=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===no&&yx(D)===M.type){n(E,M.sibling),w=s(M,T.props),w.ref=zl(E,M,T),w.return=E,E=w;break e}n(E,M);break}else e(E,M);M=M.sibling}T.type===pa?(w=vi(T.props.children,E.mode,k,T.key),w.return=E,E=w):(k=eh(T.type,T.key,T.props,null,E.mode,k),k.ref=zl(E,w,T),k.return=E,E=k)}return i(E);case fa:e:{for(M=T.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=s(w,T.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Cm(T,E.mode,k),w.return=E,E=w}return i(E);case no:return M=T._init,x(E,w,M(T._payload),k)}if(Zl(T))return b(E,w,T,k);if(Fl(T))return v(E,w,T,k);xd(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,T),w.return=E,E=w):(n(E,w),w=Im(T,E.mode,k),w.return=E,E=w),i(E)):n(E,w)}return x}var Ya=eI(!0),tI=eI(!1),Ah=Uo(null),Ph=null,Ea=null,Av=null;function Pv(){Av=Ea=Ph=null}function kv(t){var e=Ah.current;ut(Ah),t._currentValue=e}function Lg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Aa(t,e){Ph=t,Av=Ea=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if(Av!==t)if(t={context:t,memoizedValue:e,next:null},Ea===null){if(Ph===null)throw Error(Q(308));Ea=t,Ph.dependencies={lanes:0,firstContext:t}}else Ea=Ea.next=t;return e}var ai=null;function Nv(t){ai===null?ai=[t]:ai.push(t)}function nI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Nv(e)):(n.next=s.next,s.next=n),e.interleaved=n,As(t,r)}function As(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ro=!1;function Dv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,As(t,n)}return s=r.interleaved,s===null?(e.next=e,Nv(r)):(e.next=s.next,s.next=e),r.interleaved=e,As(t,n)}function Kd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vv(t,n)}}function vx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kh(t,e,n,r){var s=t.updateQueue;ro=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==i&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,h=u=l=null,a=o;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,v=a;switch(p=e,y=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(y,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,p=typeof b=="function"?b.call(y,f,p):b,p==null)break e;f=vt({},f,p);break e;case 2:ro=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,l=f):h=h.next=y,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Si|=i,t.lanes=i,t.memoizedState=f}}function wx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var wu={},qr=Uo(wu),Uc=Uo(wu),$c=Uo(wu);function li(t){if(t===wu)throw Error(Q(174));return t}function Ov(t,e){switch(ot($c,e),ot(Uc,t),ot(qr,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yg(e,t)}ut(qr),ot(qr,e)}function Xa(){ut(qr),ut(Uc),ut($c)}function sI(t){li($c.current);var e=li(qr.current),n=yg(e,t.type);e!==n&&(ot(Uc,t),ot(qr,n))}function Mv(t){Uc.current===t&&(ut(qr),ut(Uc))}var mt=Uo(0);function Nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _m=[];function jv(){for(var t=0;t<_m.length;t++)_m[t]._workInProgressVersionPrimary=null;_m.length=0}var Qd=Vs.ReactCurrentDispatcher,xm=Vs.ReactCurrentBatchConfig,bi=0,gt=null,Ot=null,Bt=null,Dh=!1,vc=!1,Bc=0,GO=0;function an(){throw Error(Q(321))}function Lv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ir(t[n],e[n]))return!1;return!0}function Fv(t,e,n,r,s,o){if(bi=o,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qd.current=t===null||t.memoizedState===null?XO:JO,t=n(r,s),vc){o=0;do{if(vc=!1,Bc=0,25<=o)throw Error(Q(301));o+=1,Bt=Ot=null,e.updateQueue=null,Qd.current=ZO,t=n(r,s)}while(vc)}if(Qd.current=Oh,e=Ot!==null&&Ot.next!==null,bi=0,Bt=Ot=gt=null,Dh=!1,e)throw Error(Q(300));return t}function Vv(){var t=Bc!==0;return Bc=0,t}function Lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function lr(){if(Ot===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Bt===null?gt.memoizedState:Bt.next;if(e!==null)Bt=e,Ot=t;else{if(t===null)throw Error(Q(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Bt===null?gt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function zc(t,e){return typeof e=="function"?e(t):e}function Em(t){var e=lr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Ot,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var h=u.lane;if((bi&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,gt.lanes|=h,Si|=h}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,Ir(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,gt.lanes|=o,Si|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tm(t){var e=lr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Ir(o,e.memoizedState)||(On=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function oI(){}function iI(t,e){var n=gt,r=lr(),s=e(),o=!Ir(r.memoizedState,s);if(o&&(r.memoizedState=s,On=!0),r=r.queue,Uv(cI.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Wc(9,lI.bind(null,n,r,s,e),void 0,null),zt===null)throw Error(Q(349));bi&30||aI(n,e,s)}return s}function aI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lI(t,e,n,r){e.value=n,e.getSnapshot=r,uI(e)&&dI(t)}function cI(t,e,n){return n(function(){uI(e)&&dI(t)})}function uI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ir(t,n)}catch{return!0}}function dI(t){var e=As(t,1);e!==null&&br(e,t,1,-1)}function _x(t){var e=Lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=YO.bind(null,gt,t),[e.memoizedState,t]}function Wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hI(){return lr().memoizedState}function Yd(t,e,n,r){var s=Lr();gt.flags|=t,s.memoizedState=Wc(1|e,n,void 0,r===void 0?null:r)}function Sf(t,e,n,r){var s=lr();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var i=Ot.memoizedState;if(o=i.destroy,r!==null&&Lv(r,i.deps)){s.memoizedState=Wc(e,n,o,r);return}}gt.flags|=t,s.memoizedState=Wc(1|e,n,o,r)}function xx(t,e){return Yd(8390656,8,t,e)}function Uv(t,e){return Sf(2048,8,t,e)}function fI(t,e){return Sf(4,2,t,e)}function pI(t,e){return Sf(4,4,t,e)}function mI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gI(t,e,n){return n=n!=null?n.concat([t]):null,Sf(4,4,mI.bind(null,e,t),n)}function $v(){}function yI(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vI(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wI(t,e,n){return bi&21?(Ir(n,e)||(n=bS(),gt.lanes|=n,Si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function KO(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=xm.transition;xm.transition={};try{t(!1),e()}finally{Ze=n,xm.transition=r}}function _I(){return lr().memoizedState}function QO(t,e,n){var r=Io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xI(t))EI(e,n);else if(n=nI(t,e,n,r),n!==null){var s=Tn();br(n,t,r,s),TI(n,e,r)}}function YO(t,e,n){var r=Io(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xI(t))EI(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Ir(a,i)){var l=e.interleaved;l===null?(s.next=s,Nv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=nI(t,e,s,r),n!==null&&(s=Tn(),br(n,t,r,s),TI(n,e,r))}}function xI(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function EI(t,e){vc=Dh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vv(t,n)}}var Oh={readContext:ar,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},XO={readContext:ar,useCallback:function(t,e){return Lr().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:xx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4194308,4,mI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var n=Lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QO.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Lr();return t={current:t},e.memoizedState=t},useState:_x,useDebugValue:$v,useDeferredValue:function(t){return Lr().memoizedState=t},useTransition:function(){var t=_x(!1),e=t[0];return t=KO.bind(null,t[1]),Lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,s=Lr();if(ht){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),zt===null)throw Error(Q(349));bi&30||aI(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,xx(cI.bind(null,r,o,t),[t]),r.flags|=2048,Wc(9,lI.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Lr(),e=zt.identifierPrefix;if(ht){var n=vs,r=ys;n=(r&~(1<<32-Tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JO={readContext:ar,useCallback:yI,useContext:ar,useEffect:Uv,useImperativeHandle:gI,useInsertionEffect:fI,useLayoutEffect:pI,useMemo:vI,useReducer:Em,useRef:hI,useState:function(){return Em(zc)},useDebugValue:$v,useDeferredValue:function(t){var e=lr();return wI(e,Ot.memoizedState,t)},useTransition:function(){var t=Em(zc)[0],e=lr().memoizedState;return[t,e]},useMutableSource:oI,useSyncExternalStore:iI,useId:_I,unstable_isNewReconciler:!1},ZO={readContext:ar,useCallback:yI,useContext:ar,useEffect:Uv,useImperativeHandle:gI,useInsertionEffect:fI,useLayoutEffect:pI,useMemo:vI,useReducer:Tm,useRef:hI,useState:function(){return Tm(zc)},useDebugValue:$v,useDeferredValue:function(t){var e=lr();return Ot===null?e.memoizedState=t:wI(e,Ot.memoizedState,t)},useTransition:function(){var t=Tm(zc)[0],e=lr().memoizedState;return[t,e]},useMutableSource:oI,useSyncExternalStore:iI,useId:_I,unstable_isNewReconciler:!1};function yr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var If={isMounted:function(t){return(t=t._reactInternals)?Ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),s=Io(t),o=Es(r,s);o.payload=e,n!=null&&(o.callback=n),e=bo(t,o,s),e!==null&&(br(e,t,s,r),Kd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),s=Io(t),o=Es(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bo(t,o,s),e!==null&&(br(e,t,s,r),Kd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=Io(t),s=Es(n,r);s.tag=2,e!=null&&(s.callback=e),e=bo(t,s,r),e!==null&&(br(e,t,r,n),Kd(e,t,r))}};function Ex(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!jc(n,r)||!jc(s,o):!0}function bI(t,e,n){var r=!1,s=No,o=e.contextType;return typeof o=="object"&&o!==null?o=ar(o):(s=jn(e)?Ei:gn.current,r=e.contextTypes,o=(r=r!=null)?Ka(t,s):No),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=If,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Tx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&If.enqueueReplaceState(e,e.state,null)}function Vg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Dv(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=ar(o):(o=jn(e)?Ei:gn.current,s.context=Ka(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Fg(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&If.enqueueReplaceState(s,s.state,null),kh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ja(t,e){try{var n="",r=e;do n+=CD(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function bm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eM=typeof WeakMap=="function"?WeakMap:Map;function SI(t,e,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jh||(jh=!0,Yg=r),Ug(t,e)},n}function II(t,e,n){n=Es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ug(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ug(t,e),typeof r!="function"&&(So===null?So=new Set([this]):So.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function bx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=pM.bind(null,t,e,n),e.then(t,t))}function Sx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ix(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Es(-1,1),e.tag=2,bo(n,e,1))),n.lanes|=1),t)}var tM=Vs.ReactCurrentOwner,On=!1;function _n(t,e,n,r){e.child=t===null?tI(e,null,n,r):Ya(e,t.child,n,r)}function Cx(t,e,n,r,s){n=n.render;var o=e.ref;return Aa(e,s),r=Fv(t,e,n,r,o,s),n=Vv(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ps(t,e,s)):(ht&&n&&Iv(e),e.flags|=1,_n(t,e,r,s),e.child)}function Rx(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Qv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,CI(t,e,o,r,s)):(t=eh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(i,r)&&t.ref===e.ref)return Ps(t,e,s)}return e.flags|=1,t=Co(o,r),t.ref=e.ref,t.return=e,e.child=t}function CI(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(jc(o,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Ps(t,e,s)}return $g(t,e,n,r,s)}function RI(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(ba,Un),Un|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(ba,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ot(ba,Un),Un|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ot(ba,Un),Un|=r;return _n(t,e,s,n),e.child}function AI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $g(t,e,n,r,s){var o=jn(n)?Ei:gn.current;return o=Ka(e,o),Aa(e,s),n=Fv(t,e,n,r,o,s),r=Vv(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ps(t,e,s)):(ht&&r&&Iv(e),e.flags|=1,_n(t,e,n,s),e.child)}function Ax(t,e,n,r,s){if(jn(n)){var o=!0;Ih(e)}else o=!1;if(Aa(e,s),e.stateNode===null)Xd(t,e),bI(e,n,r),Vg(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=jn(n)?Ei:gn.current,u=Ka(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Tx(e,i,r,u),ro=!1;var p=e.memoizedState;i.state=p,kh(e,r,i,s),l=e.memoizedState,a!==r||p!==l||Mn.current||ro?(typeof h=="function"&&(Fg(e,n,h,r),l=e.memoizedState),(a=ro||Ex(e,n,a,r,p,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,rI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yr(e.type,a),i.props=u,f=e.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=jn(n)?Ei:gn.current,l=Ka(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Tx(e,i,r,l),ro=!1,p=e.memoizedState,i.state=p,kh(e,r,i,s);var b=e.memoizedState;a!==f||p!==b||Mn.current||ro?(typeof y=="function"&&(Fg(e,n,y,r),b=e.memoizedState),(u=ro||Ex(e,n,u,r,p,b,l)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),i.props=r,i.state=b,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Bg(t,e,n,r,o,s)}function Bg(t,e,n,r,s,o){AI(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&px(e,n,!1),Ps(t,e,o);r=e.stateNode,tM.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,a,o)):_n(t,e,a,o),e.memoizedState=r.state,s&&px(e,n,!0),e.child}function PI(t){var e=t.stateNode;e.pendingContext?fx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fx(t,e.context,!1),Ov(t,e.containerInfo)}function Px(t,e,n,r,s){return Qa(),Rv(s),e.flags|=256,_n(t,e,n,r),e.child}var zg={dehydrated:null,treeContext:null,retryLane:0};function Wg(t){return{baseLanes:t,cachePool:null,transitions:null}}function kI(t,e,n){var r=e.pendingProps,s=mt.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ot(mt,s&1),t===null)return jg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Af(i,r,0,null),t=vi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Wg(n),e.memoizedState=zg,t):Bv(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nM(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Co(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Co(a,o):(o=vi(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?Wg(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=zg,r}return o=t.child,t=o.sibling,r=Co(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bv(t,e){return e=Af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ed(t,e,n,r){return r!==null&&Rv(r),Ya(e,t.child,null,n),t=Bv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nM(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=bm(Error(Q(422))),Ed(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Af({mode:"visible",children:r.children},s,0,null),o=vi(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ya(e,t.child,null,i),e.child.memoizedState=Wg(i),e.memoizedState=zg,o);if(!(e.mode&1))return Ed(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=bm(o,r,void 0),Ed(t,e,i,r)}if(a=(i&t.childLanes)!==0,On||a){if(r=zt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,As(t,s),br(r,t,s,-1))}return Kv(),r=bm(Error(Q(421))),Ed(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mM.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,zn=To(s.nextSibling),Hn=e,ht=!0,Er=null,t!==null&&(tr[nr++]=ys,tr[nr++]=vs,tr[nr++]=Ti,ys=t.id,vs=t.overflow,Ti=e),e=Bv(e,r.children),e.flags|=4096,e)}function kx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lg(t.return,e,n)}function Sm(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function NI(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(_n(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kx(t,n,e);else if(t.tag===19)kx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(mt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Nh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sm(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sm(e,!0,n,null,o);break;case"together":Sm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rM(t,e,n){switch(e.tag){case 3:PI(e),Qa();break;case 5:sI(e);break;case 1:jn(e.type)&&Ih(e);break;case 4:Ov(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ot(Ah,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?kI(t,e,n):(ot(mt,mt.current&1),t=Ps(t,e,n),t!==null?t.sibling:null);ot(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ot(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,RI(t,e,n)}return Ps(t,e,n)}var DI,Hg,OI,MI;DI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hg=function(){};OI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,li(qr.current);var o=null;switch(n){case"input":s=fg(t,s),r=fg(t,r),o=[];break;case"select":s=vt({},s,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":s=gg(t,s),r=gg(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bh)}vg(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ac.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};MI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wl(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sM(t,e,n){var r=e.pendingProps;switch(Cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return jn(e.type)&&Sh(),ln(e),null;case 3:return r=e.stateNode,Xa(),ut(Mn),ut(gn),jv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(Zg(Er),Er=null))),Hg(t,e),ln(e),null;case 5:Mv(e);var s=li($c.current);if(n=e.type,t!==null&&e.stateNode!=null)OI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return ln(e),null}if(t=li(qr.current),_d(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$r]=e,r[Vc]=o,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(s=0;s<tc.length;s++)lt(tc[s],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":U0(r,o),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},lt("invalid",r);break;case"textarea":B0(r,o),lt("invalid",r)}vg(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),s=["children",""+a]):Ac.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&lt("scroll",r)}switch(n){case"input":dd(r),$0(r,o,!0);break;case"textarea":dd(r),z0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[$r]=e,t[Vc]=r,DI(t,e,!1,!1),e.stateNode=t;e:{switch(i=wg(n,r),n){case"dialog":lt("cancel",t),lt("close",t),s=r;break;case"iframe":case"object":case"embed":lt("load",t),s=r;break;case"video":case"audio":for(s=0;s<tc.length;s++)lt(tc[s],t);s=r;break;case"source":lt("error",t),s=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),s=r;break;case"details":lt("toggle",t),s=r;break;case"input":U0(t,r),s=fg(t,r),lt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=vt({},r,{value:void 0}),lt("invalid",t);break;case"textarea":B0(t,r),s=gg(t,r),lt("invalid",t);break;default:s=r}vg(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?hS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pc(t,l):typeof l=="number"&&Pc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ac.hasOwnProperty(o)?l!=null&&o==="onScroll"&&lt("scroll",t):l!=null&&hv(t,o,l,i))}switch(n){case"input":dd(t),$0(t,r,!1);break;case"textarea":dd(t),z0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Sa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Sa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=bh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)MI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=li($c.current),li(qr.current),_d(e)){if(r=e.stateNode,n=e.memoizedProps,r[$r]=e,(o=r.nodeValue!==n)&&(t=Hn,t!==null))switch(t.tag){case 3:wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=e,e.stateNode=r}return ln(e),null;case 13:if(ut(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&zn!==null&&e.mode&1&&!(e.flags&128))ZS(),Qa(),e.flags|=98560,o=!1;else if(o=_d(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[$r]=e}else Qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),o=!1}else Er!==null&&(Zg(Er),Er=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Mt===0&&(Mt=3):Kv())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return Xa(),Hg(t,e),t===null&&Lc(e.stateNode.containerInfo),ln(e),null;case 10:return kv(e.type._context),ln(e),null;case 17:return jn(e.type)&&Sh(),ln(e),null;case 19:if(ut(mt),o=e.memoizedState,o===null)return ln(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Wl(o,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Nh(t),i!==null){for(e.flags|=128,Wl(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(mt,mt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ct()>Za&&(e.flags|=128,r=!0,Wl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Nh(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ht)return ln(e),null}else 2*Ct()-o.renderingStartTime>Za&&n!==1073741824&&(e.flags|=128,r=!0,Wl(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,n=mt.current,ot(mt,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return Gv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function oM(t,e){switch(Cv(e),e.tag){case 1:return jn(e.type)&&Sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),ut(Mn),ut(gn),jv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mv(e),null;case 13:if(ut(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(mt),null;case 4:return Xa(),null;case 10:return kv(e.type._context),null;case 22:case 23:return Gv(),null;case 24:return null;default:return null}}var Td=!1,dn=!1,iM=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ta(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function qg(t,e,n){try{n()}catch(r){Et(t,e,r)}}var Nx=!1;function aM(t,e){if(Ag=xh,t=US(),Sv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=i),p===o&&++h===r&&(l=i),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pg={focusedElem:t,selectionRange:n},xh=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,x=b.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:yr(e.type,v),x);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(k){Et(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return b=Nx,Nx=!1,b}function wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&qg(e,n,o)}s=s.next}while(s!==r)}}function Cf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jI(t){var e=t.alternate;e!==null&&(t.alternate=null,jI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$r],delete e[Vc],delete e[Dg],delete e[zO],delete e[WO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LI(t){return t.tag===5||t.tag===3||t.tag===4}function Dx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bh));else if(r!==4&&(t=t.child,t!==null))for(Kg(t,e,n),t=t.sibling;t!==null;)Kg(t,e,n),t=t.sibling}function Qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qg(t,e,n),t=t.sibling;t!==null;)Qg(t,e,n),t=t.sibling}var Qt=null,xr=!1;function Ks(t,e,n){for(n=n.child;n!==null;)FI(t,e,n),n=n.sibling}function FI(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(wf,n)}catch{}switch(n.tag){case 5:dn||Ta(n,e);case 6:var r=Qt,s=xr;Qt=null,Ks(t,e,n),Qt=r,xr=s,Qt!==null&&(xr?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(xr?(t=Qt,n=n.stateNode,t.nodeType===8?vm(t.parentNode,n):t.nodeType===1&&vm(t,n),Oc(t)):vm(Qt,n.stateNode));break;case 4:r=Qt,s=xr,Qt=n.stateNode.containerInfo,xr=!0,Ks(t,e,n),Qt=r,xr=s;break;case 0:case 11:case 14:case 15:if(!dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&qg(n,e,i),s=s.next}while(s!==r)}Ks(t,e,n);break;case 1:if(!dn&&(Ta(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Et(n,e,a)}Ks(t,e,n);break;case 21:Ks(t,e,n);break;case 22:n.mode&1?(dn=(r=dn)||n.memoizedState!==null,Ks(t,e,n),dn=r):Ks(t,e,n);break;default:Ks(t,e,n)}}function Ox(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iM),e.forEach(function(r){var s=gM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,xr=!1;break e;case 3:Qt=a.stateNode.containerInfo,xr=!0;break e;case 4:Qt=a.stateNode.containerInfo,xr=!0;break e}a=a.return}if(Qt===null)throw Error(Q(160));FI(o,i,s),Qt=null,xr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Et(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VI(e,t),e=e.sibling}function VI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pr(e,t),jr(t),r&4){try{wc(3,t,t.return),Cf(3,t)}catch(v){Et(t,t.return,v)}try{wc(5,t,t.return)}catch(v){Et(t,t.return,v)}}break;case 1:pr(e,t),jr(t),r&512&&n!==null&&Ta(n,n.return);break;case 5:if(pr(e,t),jr(t),r&512&&n!==null&&Ta(n,n.return),t.flags&32){var s=t.stateNode;try{Pc(s,"")}catch(v){Et(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&aS(s,o),wg(a,i);var u=wg(a,o);for(i=0;i<l.length;i+=2){var h=l[i],f=l[i+1];h==="style"?hS(s,f):h==="dangerouslySetInnerHTML"?uS(s,f):h==="children"?Pc(s,f):hv(s,h,f,u)}switch(a){case"input":pg(s,o);break;case"textarea":lS(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Sa(s,!!o.multiple,y,!1):p!==!!o.multiple&&(o.defaultValue!=null?Sa(s,!!o.multiple,o.defaultValue,!0):Sa(s,!!o.multiple,o.multiple?[]:"",!1))}s[Vc]=o}catch(v){Et(t,t.return,v)}}break;case 6:if(pr(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){Et(t,t.return,v)}}break;case 3:if(pr(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oc(e.containerInfo)}catch(v){Et(t,t.return,v)}break;case 4:pr(e,t),jr(t);break;case 13:pr(e,t),jr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Hv=Ct())),r&4&&Ox(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(u=dn)||h,pr(e,t),dn=u):pr(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ue=t,h=t.child;h!==null;){for(f=ue=h;ue!==null;){switch(p=ue,y=p.child,p.tag){case 0:case 11:case 14:case 15:wc(4,p,p.return);break;case 1:Ta(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){Et(r,n,v)}}break;case 5:Ta(p,p.return);break;case 22:if(p.memoizedState!==null){jx(f);continue}}y!==null?(y.return=p,ue=y):jx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dS("display",i))}catch(v){Et(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Et(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pr(e,t),jr(t),r&4&&Ox(t);break;case 21:break;default:pr(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pc(s,""),r.flags&=-33);var o=Dx(t);Qg(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Dx(t);Kg(t,a,i);break;default:throw Error(Q(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lM(t,e,n){ue=t,UI(t)}function UI(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var s=ue,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Td;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||dn;a=Td;var u=dn;if(Td=i,(dn=l)&&!u)for(ue=s;ue!==null;)i=ue,l=i.child,i.tag===22&&i.memoizedState!==null?Lx(s):l!==null?(l.return=i,ue=l):Lx(s);for(;o!==null;)ue=o,UI(o),o=o.sibling;ue=s,Td=a,dn=u}Mx(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ue=o):Mx(t)}}function Mx(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||Cf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wx(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wx(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Oc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}dn||e.flags&512&&Gg(e)}catch(p){Et(e,e.return,p)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function jx(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function Lx(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cf(4,e)}catch(l){Et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Et(e,s,l)}}var o=e.return;try{Gg(e)}catch(l){Et(e,o,l)}break;case 5:var i=e.return;try{Gg(e)}catch(l){Et(e,i,l)}}}catch(l){Et(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var cM=Math.ceil,Mh=Vs.ReactCurrentDispatcher,zv=Vs.ReactCurrentOwner,or=Vs.ReactCurrentBatchConfig,He=0,zt=null,kt=null,Jt=0,Un=0,ba=Uo(0),Mt=0,Hc=null,Si=0,Rf=0,Wv=0,_c=null,Nn=null,Hv=0,Za=1/0,us=null,jh=!1,Yg=null,So=null,bd=!1,mo=null,Lh=0,xc=0,Xg=null,Jd=-1,Zd=0;function Tn(){return He&6?Ct():Jd!==-1?Jd:Jd=Ct()}function Io(t){return t.mode&1?He&2&&Jt!==0?Jt&-Jt:qO.transition!==null?(Zd===0&&(Zd=bS()),Zd):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:kS(t.type)),t):1}function br(t,e,n,r){if(50<xc)throw xc=0,Xg=null,Error(Q(185));gu(t,n,r),(!(He&2)||t!==zt)&&(t===zt&&(!(He&2)&&(Rf|=n),Mt===4&&oo(t,Jt)),Ln(t,r),n===1&&He===0&&!(e.mode&1)&&(Za=Ct()+500,bf&&$o()))}function Ln(t,e){var n=t.callbackNode;qD(t,e);var r=_h(t,t===zt?Jt:0);if(r===0)n!==null&&q0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&q0(n),e===1)t.tag===0?HO(Fx.bind(null,t)):YS(Fx.bind(null,t)),$O(function(){!(He&6)&&$o()}),n=null;else{switch(SS(r)){case 1:n=yv;break;case 4:n=ES;break;case 16:n=wh;break;case 536870912:n=TS;break;default:n=wh}n=KI(n,$I.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $I(t,e){if(Jd=-1,Zd=0,He&6)throw Error(Q(327));var n=t.callbackNode;if(Pa()&&t.callbackNode!==n)return null;var r=_h(t,t===zt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fh(t,r);else{e=r;var s=He;He|=2;var o=zI();(zt!==t||Jt!==e)&&(us=null,Za=Ct()+500,yi(t,e));do try{hM();break}catch(a){BI(t,a)}while(!0);Pv(),Mh.current=o,He=s,kt!==null?e=0:(zt=null,Jt=0,e=Mt)}if(e!==0){if(e===2&&(s=bg(t),s!==0&&(r=s,e=Jg(t,s))),e===1)throw n=Hc,yi(t,0),oo(t,r),Ln(t,Ct()),n;if(e===6)oo(t,r);else{if(s=t.current.alternate,!(r&30)&&!uM(s)&&(e=Fh(t,r),e===2&&(o=bg(t),o!==0&&(r=o,e=Jg(t,o))),e===1))throw n=Hc,yi(t,0),oo(t,r),Ln(t,Ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:ti(t,Nn,us);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=Hv+500-Ct(),10<e)){if(_h(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ng(ti.bind(null,t,Nn,us),e);break}ti(t,Nn,us);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-Tr(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cM(r/1960))-r,10<r){t.timeoutHandle=Ng(ti.bind(null,t,Nn,us),r);break}ti(t,Nn,us);break;case 5:ti(t,Nn,us);break;default:throw Error(Q(329))}}}return Ln(t,Ct()),t.callbackNode===n?$I.bind(null,t):null}function Jg(t,e){var n=_c;return t.current.memoizedState.isDehydrated&&(yi(t,e).flags|=256),t=Fh(t,e),t!==2&&(e=Nn,Nn=n,e!==null&&Zg(e)),t}function Zg(t){Nn===null?Nn=t:Nn.push.apply(Nn,t)}function uM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ir(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~Wv,e&=~Rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tr(e),r=1<<n;t[n]=-1,e&=~r}}function Fx(t){if(He&6)throw Error(Q(327));Pa();var e=_h(t,0);if(!(e&1))return Ln(t,Ct()),null;var n=Fh(t,e);if(t.tag!==0&&n===2){var r=bg(t);r!==0&&(e=r,n=Jg(t,r))}if(n===1)throw n=Hc,yi(t,0),oo(t,e),Ln(t,Ct()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ti(t,Nn,us),Ln(t,Ct()),null}function qv(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(Za=Ct()+500,bf&&$o())}}function Ii(t){mo!==null&&mo.tag===0&&!(He&6)&&Pa();var e=He;He|=1;var n=or.transition,r=Ze;try{if(or.transition=null,Ze=1,t)return t()}finally{Ze=r,or.transition=n,He=e,!(He&6)&&$o()}}function Gv(){Un=ba.current,ut(ba)}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UO(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Cv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sh();break;case 3:Xa(),ut(Mn),ut(gn),jv();break;case 5:Mv(r);break;case 4:Xa();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:kv(r.type._context);break;case 22:case 23:Gv()}n=n.return}if(zt=t,kt=t=Co(t.current,null),Jt=Un=e,Mt=0,Hc=null,Wv=Rf=Si=0,Nn=_c=null,ai!==null){for(e=0;e<ai.length;e++)if(n=ai[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ai=null}return t}function BI(t,e){do{var n=kt;try{if(Pv(),Qd.current=Oh,Dh){for(var r=gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dh=!1}if(bi=0,Bt=Ot=gt=null,vc=!1,Bc=0,zv.current=null,n===null||n.return===null){Mt=1,Hc=e,kt=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=Jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Sx(i);if(y!==null){y.flags&=-257,Ix(y,i,a,o,e),y.mode&1&&bx(o,u,e),e=y,l=u;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){bx(o,u,e),Kv();break e}l=Error(Q(426))}}else if(ht&&a.mode&1){var x=Sx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ix(x,i,a,o,e),Rv(Ja(l,a));break e}}o=l=Ja(l,a),Mt!==4&&(Mt=2),_c===null?_c=[o]:_c.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=SI(o,l,e);vx(o,E);break e;case 1:a=l;var w=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(So===null||!So.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=II(o,a,e);vx(o,k);break e}}o=o.return}while(o!==null)}HI(n)}catch(D){e=D,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function zI(){var t=Mh.current;return Mh.current=Oh,t===null?Oh:t}function Kv(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(Si&268435455)&&!(Rf&268435455)||oo(zt,Jt)}function Fh(t,e){var n=He;He|=2;var r=zI();(zt!==t||Jt!==e)&&(us=null,yi(t,e));do try{dM();break}catch(s){BI(t,s)}while(!0);if(Pv(),He=n,Mh.current=r,kt!==null)throw Error(Q(261));return zt=null,Jt=0,Mt}function dM(){for(;kt!==null;)WI(kt)}function hM(){for(;kt!==null&&!LD();)WI(kt)}function WI(t){var e=GI(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?HI(t):kt=e,zv.current=null}function HI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oM(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,kt=null;return}}else if(n=sM(n,e,Un),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Mt===0&&(Mt=5)}function ti(t,e,n){var r=Ze,s=or.transition;try{or.transition=null,Ze=1,fM(t,e,n,r)}finally{or.transition=s,Ze=r}return null}function fM(t,e,n,r){do Pa();while(mo!==null);if(He&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(GD(t,o),t===zt&&(kt=zt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bd||(bd=!0,KI(wh,function(){return Pa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=or.transition,or.transition=null;var i=Ze;Ze=1;var a=He;He|=4,zv.current=null,aM(t,n),VI(n,t),DO(Pg),xh=!!Ag,Pg=Ag=null,t.current=n,lM(n),FD(),He=a,Ze=i,or.transition=o}else t.current=n;if(bd&&(bd=!1,mo=t,Lh=s),o=t.pendingLanes,o===0&&(So=null),$D(n.stateNode),Ln(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(jh)throw jh=!1,t=Yg,Yg=null,t;return Lh&1&&t.tag!==0&&Pa(),o=t.pendingLanes,o&1?t===Xg?xc++:(xc=0,Xg=t):xc=0,$o(),null}function Pa(){if(mo!==null){var t=SS(Lh),e=or.transition,n=Ze;try{if(or.transition=null,Ze=16>t?16:t,mo===null)var r=!1;else{if(t=mo,mo=null,Lh=0,He&6)throw Error(Q(331));var s=He;for(He|=4,ue=t.current;ue!==null;){var o=ue,i=o.child;if(ue.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ue=u;ue!==null;){var h=ue;switch(h.tag){case 0:case 11:case 15:wc(8,h,o)}var f=h.child;if(f!==null)f.return=h,ue=f;else for(;ue!==null;){h=ue;var p=h.sibling,y=h.return;if(jI(h),h===u){ue=null;break}if(p!==null){p.return=y,ue=p;break}ue=y}}}var b=o.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ue=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ue=i;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wc(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,ue=E;break e}ue=o.return}}var w=t.current;for(ue=w;ue!==null;){i=ue;var T=i.child;if(i.subtreeFlags&2064&&T!==null)T.return=i,ue=T;else e:for(i=w;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cf(9,a)}}catch(D){Et(a,a.return,D)}if(a===i){ue=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ue=k;break e}ue=a.return}}if(He=s,$o(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(wf,t)}catch{}r=!0}return r}finally{Ze=n,or.transition=e}}return!1}function Vx(t,e,n){e=Ja(n,e),e=SI(t,e,1),t=bo(t,e,1),e=Tn(),t!==null&&(gu(t,1,e),Ln(t,e))}function Et(t,e,n){if(t.tag===3)Vx(t,t,n);else for(;e!==null;){if(e.tag===3){Vx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(So===null||!So.has(r))){t=Ja(n,t),t=II(e,t,1),e=bo(e,t,1),t=Tn(),e!==null&&(gu(e,1,t),Ln(e,t));break}}e=e.return}}function pM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Jt&n)===n&&(Mt===4||Mt===3&&(Jt&130023424)===Jt&&500>Ct()-Hv?yi(t,0):Wv|=n),Ln(t,e)}function qI(t,e){e===0&&(t.mode&1?(e=pd,pd<<=1,!(pd&130023424)&&(pd=4194304)):e=1);var n=Tn();t=As(t,e),t!==null&&(gu(t,e,n),Ln(t,n))}function mM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qI(t,n)}function gM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),qI(t,n)}var GI;GI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,rM(t,e,n);On=!!(t.flags&131072)}else On=!1,ht&&e.flags&1048576&&XS(e,Rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xd(t,e),t=e.pendingProps;var s=Ka(e,gn.current);Aa(e,n),s=Fv(null,e,r,t,s,n);var o=Vv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(o=!0,Ih(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dv(e),s.updater=If,e.stateNode=s,s._reactInternals=e,Vg(e,r,t,n),e=Bg(null,e,r,!0,o,n)):(e.tag=0,ht&&o&&Iv(e),_n(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=vM(r),t=yr(r,t),s){case 0:e=$g(null,e,r,t,n);break e;case 1:e=Ax(null,e,r,t,n);break e;case 11:e=Cx(null,e,r,t,n);break e;case 14:e=Rx(null,e,r,yr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yr(r,s),$g(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yr(r,s),Ax(t,e,r,s,n);case 3:e:{if(PI(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,s=o.element,rI(t,e),kh(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Ja(Error(Q(423)),e),e=Px(t,e,r,n,s);break e}else if(r!==s){s=Ja(Error(Q(424)),e),e=Px(t,e,r,n,s);break e}else for(zn=To(e.stateNode.containerInfo.firstChild),Hn=e,ht=!0,Er=null,n=tI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qa(),r===s){e=Ps(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return sI(e),t===null&&jg(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,kg(r,s)?i=null:o!==null&&kg(r,o)&&(e.flags|=32),AI(t,e),_n(t,e,i,n),e.child;case 6:return t===null&&jg(e),null;case 13:return kI(t,e,n);case 4:return Ov(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yr(r,s),Cx(t,e,r,s,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,ot(Ah,r._currentValue),r._currentValue=i,o!==null)if(Ir(o.value,i)){if(o.children===s.children&&!Mn.current){e=Ps(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Es(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lg(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Q(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Lg(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}_n(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Aa(e,n),s=ar(s),r=r(s),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,s=yr(r,e.pendingProps),s=yr(r.type,s),Rx(t,e,r,s,n);case 15:return CI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yr(r,s),Xd(t,e),e.tag=1,jn(r)?(t=!0,Ih(e)):t=!1,Aa(e,n),bI(e,r,s),Vg(e,r,s,n),Bg(null,e,r,!0,t,n);case 19:return NI(t,e,n);case 22:return RI(t,e,n)}throw Error(Q(156,e.tag))};function KI(t,e){return xS(t,e)}function yM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,e,n,r){return new yM(t,e,n,r)}function Qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vM(t){if(typeof t=="function")return Qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pv)return 11;if(t===mv)return 14}return 2}function Co(t,e){var n=t.alternate;return n===null?(n=rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eh(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")Qv(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case pa:return vi(n.children,s,o,e);case fv:i=8,s|=8;break;case cg:return t=rr(12,n,e,s|2),t.elementType=cg,t.lanes=o,t;case ug:return t=rr(13,n,e,s),t.elementType=ug,t.lanes=o,t;case dg:return t=rr(19,n,e,s),t.elementType=dg,t.lanes=o,t;case sS:return Af(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nS:i=10;break e;case rS:i=9;break e;case pv:i=11;break e;case mv:i=14;break e;case no:i=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=rr(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function vi(t,e,n,r){return t=rr(7,t,r,e),t.lanes=n,t}function Af(t,e,n,r){return t=rr(22,t,r,e),t.elementType=sS,t.lanes=n,t.stateNode={isHidden:!1},t}function Im(t,e,n){return t=rr(6,t,null,e),t.lanes=n,t}function Cm(t,e,n){return e=rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=am(0),this.expirationTimes=am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=am(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yv(t,e,n,r,s,o,i,a,l){return t=new wM(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dv(o),t}function _M(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QI(t){if(!t)return No;t=t._reactInternals;e:{if(Ui(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(jn(n))return QS(t,n,e)}return e}function YI(t,e,n,r,s,o,i,a,l){return t=Yv(n,r,!0,t,s,o,i,a,l),t.context=QI(null),n=t.current,r=Tn(),s=Io(n),o=Es(r,s),o.callback=e??null,bo(n,o,s),t.current.lanes=s,gu(t,s,r),Ln(t,r),t}function Pf(t,e,n,r){var s=e.current,o=Tn(),i=Io(s);return n=QI(n),e.context===null?e.context=n:e.pendingContext=n,e=Es(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bo(s,e,i),t!==null&&(br(t,s,i,o),Kd(t,s,i)),i}function Vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ux(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xv(t,e){Ux(t,e),(t=t.alternate)&&Ux(t,e)}function xM(){return null}var XI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jv(t){this._internalRoot=t}kf.prototype.render=Jv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Pf(t,e,null,null)};kf.prototype.unmount=Jv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ii(function(){Pf(null,t,null,null)}),e[Rs]=null}};function kf(t){this._internalRoot=t}kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=RS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<so.length&&e!==0&&e<so[n].priority;n++);so.splice(n,0,t),n===0&&PS(t)}};function Zv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $x(){}function EM(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Vh(i);o.call(u)}}var i=YI(e,r,t,0,null,!1,!1,"",$x);return t._reactRootContainer=i,t[Rs]=i.current,Lc(t.nodeType===8?t.parentNode:t),Ii(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Vh(l);a.call(u)}}var l=Yv(t,0,!1,null,null,!1,!1,"",$x);return t._reactRootContainer=l,t[Rs]=l.current,Lc(t.nodeType===8?t.parentNode:t),Ii(function(){Pf(e,l,n,r)}),l}function Df(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Vh(i);a.call(l)}}Pf(e,i,t,s)}else i=EM(n,e,t,s,r);return Vh(i)}IS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ec(e.pendingLanes);n!==0&&(vv(e,n|1),Ln(e,Ct()),!(He&6)&&(Za=Ct()+500,$o()))}break;case 13:Ii(function(){var r=As(t,1);if(r!==null){var s=Tn();br(r,t,1,s)}}),Xv(t,1)}};wv=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var n=Tn();br(e,t,134217728,n)}Xv(t,134217728)}};CS=function(t){if(t.tag===13){var e=Io(t),n=As(t,e);if(n!==null){var r=Tn();br(n,t,e,r)}Xv(t,e)}};RS=function(){return Ze};AS=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};xg=function(t,e,n){switch(e){case"input":if(pg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Tf(r);if(!s)throw Error(Q(90));iS(r),pg(r,s)}}}break;case"textarea":lS(t,n);break;case"select":e=n.value,e!=null&&Sa(t,!!n.multiple,e,!1)}};mS=qv;gS=Ii;var TM={usingClientEntryPoint:!1,Events:[vu,va,Tf,fS,pS,qv]},Hl={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bM={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wS(t),t===null?null:t.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||xM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{wf=Sd.inject(bM),Hr=Sd}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TM;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zv(e))throw Error(Q(200));return _M(t,e,null,n)};Qn.createRoot=function(t,e){if(!Zv(t))throw Error(Q(299));var n=!1,r="",s=XI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yv(t,1,!1,null,null,n,!1,r,s),t[Rs]=e.current,Lc(t.nodeType===8?t.parentNode:t),new Jv(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=wS(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return Ii(t)};Qn.hydrate=function(t,e,n){if(!Nf(e))throw Error(Q(200));return Df(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!Zv(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=XI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=YI(e,null,t,1,n??null,s,!1,o,i),t[Rs]=e.current,Lc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new kf(e)};Qn.render=function(t,e,n){if(!Nf(e))throw Error(Q(200));return Df(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!Nf(t))throw Error(Q(40));return t._reactRootContainer?(Ii(function(){Df(null,null,t,!1,function(){t._reactRootContainer=null,t[Rs]=null})}),!0):!1};Qn.unstable_batchedUpdates=qv;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Df(t,e,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function JI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JI)}catch(t){console.error(t)}}JI(),Jb.exports=Qn;var $i=Jb.exports;const ZI=Ub($i);var e1,Bx=$i;e1=Bx.createRoot,Bx.hydrateRoot;const SM=1,IM=1e6;let Rm=0;function CM(){return Rm=(Rm+1)%Number.MAX_SAFE_INTEGER,Rm.toString()}const Am=new Map,zx=t=>{if(Am.has(t))return;const e=setTimeout(()=>{Am.delete(t),Ec({type:"REMOVE_TOAST",toastId:t})},IM);Am.set(t,e)},RM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,SM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?zx(n):t.toasts.forEach(r=>{zx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},th=[];let nh={toasts:[]};function Ec(t){nh=RM(nh,t),th.forEach(e=>{e(nh)})}function AM({...t}){const e=CM(),n=s=>Ec({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ec({type:"DISMISS_TOAST",toastId:e});return Ec({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function PM(){const[t,e]=m.useState(nh);return m.useEffect(()=>(th.push(e),()=>{const n=th.indexOf(e);n>-1&&th.splice(n,1)}),[t]),{...t,toast:AM,dismiss:n=>Ec({type:"DISMISS_TOAST",toastId:n})}}function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Wx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Of(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Wx(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Wx(t[s],null)}}}}function Ke(...t){return m.useCallback(Of(...t),t)}function kM(t,e){const n=m.createContext(e),r=o=>{const{children:i,...a}=o,l=m.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:i})};r.displayName=t+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Pr(t,e=[]){let n=[];function r(o,i){const a=m.createContext(i),l=n.length;n=[...n,i];const u=f=>{var E;const{scope:p,children:y,...b}=f,v=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,x=m.useMemo(()=>b,Object.values(b));return d.jsx(v.Provider,{value:x,children:y})};u.displayName=o+"Provider";function h(f,p){var v;const y=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,b=m.useContext(y);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,NM(s,...e)]}function NM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Ci(t){const e=OM(t),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,a=m.Children.toArray(o),l=a.find(jM);if(l){const u=l.props.children,h=a.map(f=>f===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return d.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var DM=Ci("Slot");function OM(t){const e=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=FM(s),a=LM(o,s.props);return s.type!==m.Fragment&&(a.ref=r?Of(r,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var t1=Symbol("radix.slottable");function MM(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=t1,e}function jM(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===t1}function LM(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function FM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mf(t){const e=t+"CollectionProvider",[n,r]=Pr(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:x,children:E}=v,w=ne.useRef(null),T=ne.useRef(new Map).current;return d.jsx(s,{scope:x,itemMap:T,collectionRef:w,children:E})};i.displayName=e;const a=t+"CollectionSlot",l=Ci(a),u=ne.forwardRef((v,x)=>{const{scope:E,children:w}=v,T=o(a,E),k=Ke(x,T.collectionRef);return d.jsx(l,{ref:k,children:w})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ci(h),y=ne.forwardRef((v,x)=>{const{scope:E,children:w,...T}=v,k=ne.useRef(null),D=Ke(x,k),M=o(h,E);return ne.useEffect(()=>(M.itemMap.set(k,{ref:k,...T}),()=>void M.itemMap.delete(k))),d.jsx(p,{[f]:"",ref:D,children:w})});y.displayName=h;function b(v){const x=o(t+"CollectionConsumer",v);return ne.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((M,I)=>T.indexOf(M.ref.current)-T.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},b,r]}var VM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=VM.reduce((t,e)=>{const n=Ci(`Primitive.${e}`),r=m.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ew(t,e){t&&$i.flushSync(()=>t.dispatchEvent(e))}function Fn(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function UM(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $M="DismissableLayer",ey="dismissableLayer.update",BM="dismissableLayer.pointerDownOutside",zM="dismissableLayer.focusOutside",Hx,n1=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ml=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,u=m.useContext(n1),[h,f]=m.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),b=Ke(e,I=>f(I)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(x),w=h?v.indexOf(h):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=E,D=HM(I=>{const S=I.target,R=[...u.branches].some(P=>P.contains(S));!k||R||(s==null||s(I),i==null||i(I),I.defaultPrevented||a==null||a())},p),M=qM(I=>{const S=I.target;[...u.branches].some(P=>P.contains(S))||(o==null||o(I),i==null||i(I),I.defaultPrevented||a==null||a())},p);return UM(I=>{w===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),m.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Hx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),qx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Hx)}},[h,p,n,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),qx())},[h,u]),m.useEffect(()=>{const I=()=>y({});return document.addEventListener(ey,I),()=>document.removeEventListener(ey,I)},[]),d.jsx(Ee.div,{...l,ref:b,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,D.onPointerDownCapture)})});ml.displayName=$M;var WM="DismissableLayerBranch",r1=m.forwardRef((t,e)=>{const n=m.useContext(n1),r=m.useRef(null),s=Ke(e,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),d.jsx(Ee.div,{...t,ref:s})});r1.displayName=WM;function HM(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){s1(BM,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qM(t,e=globalThis==null?void 0:globalThis.document){const n=Fn(t),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&s1(zM,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qx(){const t=new CustomEvent(ey);document.dispatchEvent(t)}function s1(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ew(s,o):s.dispatchEvent(o)}var GM=ml,KM=r1,tn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},QM="Portal",_u=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=m.useState(!1);tn(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?ZI.createPortal(d.jsx(Ee.div,{...r,ref:e}),i):null});_u.displayName=QM;function YM(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var kr=t=>{const{present:e,children:n}=t,r=XM(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Ke(r.ref,JM(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};kr.displayName="Presence";function XM(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),o=m.useRef("none"),i=t?"mounted":"unmounted",[a,l]=YM(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Id(r.current);o.current=a==="mounted"?u:"none"},[a]),tn(()=>{const u=r.current,h=s.current;if(h!==t){const p=o.current,y=Id(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),tn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=y=>{const v=Id(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=y=>{y.target===e&&(o.current=Id(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Id(t){return(t==null?void 0:t.animationName)||"none"}function JM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ZM=cv[" useInsertionEffect ".trim().toString()]||tn;function Ri({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=ej({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=m.useRef(t!==void 0);m.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=m.useCallback(h=>{var f;if(a){const p=tj(h)?h(t):h;p!==t&&((f=i.current)==null||f.call(i,p))}else o(h)},[a,t,o,i]);return[l,u]}function ej({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),o=m.useRef(e);return ZM(()=>{o.current=e},[e]),m.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function tj(t){return typeof t=="function"}var o1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nj="VisuallyHidden",jf=m.forwardRef((t,e)=>d.jsx(Ee.span,{...t,ref:e,style:{...o1,...t.style}}));jf.displayName=nj;var rj=jf,tw="ToastProvider",[nw,sj,oj]=Mf("Toast"),[i1]=Pr("Toast",[oj]),[ij,Lf]=i1(tw),a1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=m.useState(null),[u,h]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${tw}\`. Expected non-empty \`string\`.`),d.jsx(nw.Provider,{scope:e,children:d.jsx(ij,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>h(y=>y+1),[]),onToastRemove:m.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};a1.displayName=tw;var l1="ToastViewport",aj=["F8"],ty="toast.viewportPause",ny="toast.viewportResume",c1=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=aj,label:s="Notifications ({hotkey})",...o}=t,i=Lf(l1,n),a=sj(n),l=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=m.useRef(null),p=Ke(e,f,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;m.useEffect(()=>{const x=E=>{var T;r.length!==0&&r.every(k=>E[k]||E.code===k)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,E=f.current;if(b&&x&&E){const w=()=>{if(!i.isClosePausedRef.current){const M=new CustomEvent(ty);E.dispatchEvent(M),i.isClosePausedRef.current=!0}},T=()=>{if(i.isClosePausedRef.current){const M=new CustomEvent(ny);E.dispatchEvent(M),i.isClosePausedRef.current=!1}},k=M=>{!x.contains(M.relatedTarget)&&T()},D=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",w),x.addEventListener("focusout",k),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[b,i.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:x})=>{const w=a().map(T=>{const k=T.ref.current,D=[k,..._j(k)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return m.useEffect(()=>{const x=f.current;if(x){const E=w=>{var D,M,I;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const S=document.activeElement,R=w.shiftKey;if(w.target===x&&R){(D=u.current)==null||D.focus();return}const O=v({tabbingDirection:R?"backwards":"forwards"}),N=O.findIndex(U=>U===S);Pm(O.slice(N+1))?w.preventDefault():R?(M=u.current)==null||M.focus():(I=h.current)==null||I.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[a,v]),d.jsxs(KM,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&d.jsx(ry,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});Pm(x)}}),d.jsx(nw.Slot,{scope:n,children:d.jsx(Ee.ol,{tabIndex:-1,...o,ref:p})}),b&&d.jsx(ry,{ref:h,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});Pm(x)}})]})});c1.displayName=l1;var u1="ToastFocusProxy",ry=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Lf(u1,n);return d.jsx(jf,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});ry.displayName=u1;var xu="Toast",lj="toast.swipeStart",cj="toast.swipeMove",uj="toast.swipeCancel",dj="toast.swipeEnd",d1=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a,l]=Ri({prop:r,defaultProp:s??!0,onChange:o,caller:xu});return d.jsx(kr,{present:n||a,children:d.jsx(pj,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Fn(t.onPause),onResume:Fn(t.onResume),onSwipeStart:oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});d1.displayName=xu;var[hj,fj]=i1(xu,{onClose(){}}),pj=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:y,...b}=t,v=Lf(xu,n),[x,E]=m.useState(null),w=Ke(e,U=>E(U)),T=m.useRef(null),k=m.useRef(null),D=s||v.duration,M=m.useRef(0),I=m.useRef(D),S=m.useRef(0),{onToastAdd:R,onToastRemove:P}=v,C=Fn(()=>{var ie;(x==null?void 0:x.contains(document.activeElement))&&((ie=v.viewport)==null||ie.focus()),i()}),O=m.useCallback(U=>{!U||U===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(C,U))},[C]);m.useEffect(()=>{const U=v.viewport;if(U){const ie=()=>{O(I.current),u==null||u()},J=()=>{const q=new Date().getTime()-M.current;I.current=I.current-q,window.clearTimeout(S.current),l==null||l()};return U.addEventListener(ty,J),U.addEventListener(ny,ie),()=>{U.removeEventListener(ty,J),U.removeEventListener(ny,ie)}}},[v.viewport,D,l,u,O]),m.useEffect(()=>{o&&!v.isClosePausedRef.current&&O(D)},[o,D,v.isClosePausedRef,O]),m.useEffect(()=>(R(),()=>P()),[R,P]);const N=m.useMemo(()=>x?v1(x):null,[x]);return v.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(mj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:N}),d.jsx(hj,{scope:n,onClose:C,children:$i.createPortal(d.jsx(nw.ItemSlot,{scope:n,children:d.jsx(GM,{asChild:!0,onEscapeKeyDown:oe(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||C(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ee.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:oe(t.onPointerDown,U=>{U.button===0&&(T.current={x:U.clientX,y:U.clientY})}),onPointerMove:oe(t.onPointerMove,U=>{if(!T.current)return;const ie=U.clientX-T.current.x,J=U.clientY-T.current.y,q=!!k.current,F=["left","right"].includes(v.swipeDirection),j=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,H=F?j(0,ie):0,te=F?0:j(0,J),X=U.pointerType==="touch"?10:2,le={x:H,y:te},pe={originalEvent:U,delta:le};q?(k.current=le,Cd(cj,f,pe,{discrete:!1})):Gx(le,v.swipeDirection,X)?(k.current=le,Cd(lj,h,pe,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(ie)>X||Math.abs(J)>X)&&(T.current=null)}),onPointerUp:oe(t.onPointerUp,U=>{const ie=k.current,J=U.target;if(J.hasPointerCapture(U.pointerId)&&J.releasePointerCapture(U.pointerId),k.current=null,T.current=null,ie){const q=U.currentTarget,F={originalEvent:U,delta:ie};Gx(ie,v.swipeDirection,v.swipeThreshold)?Cd(dj,y,F,{discrete:!0}):Cd(uj,p,F,{discrete:!0}),q.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),mj=t=>{const{__scopeToast:e,children:n,...r}=t,s=Lf(xu,e),[o,i]=m.useState(!1),[a,l]=m.useState(!1);return vj(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(_u,{asChild:!0,children:d.jsx(jf,{...r,children:o&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},gj="ToastTitle",h1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ee.div,{...r,ref:e})});h1.displayName=gj;var yj="ToastDescription",f1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ee.div,{...r,ref:e})});f1.displayName=yj;var p1="ToastAction",m1=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(y1,{altText:n,asChild:!0,children:d.jsx(rw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${p1}\`. Expected non-empty \`string\`.`),null)});m1.displayName=p1;var g1="ToastClose",rw=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=fj(g1,n);return d.jsx(y1,{asChild:!0,children:d.jsx(Ee.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,s.onClose)})})});rw.displayName=g1;var y1=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function v1(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wj(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...v1(r))}}),e}function Cd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ew(s,o):s.dispatchEvent(o)}var Gx=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function vj(t=()=>{}){const e=Fn(t);tn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wj(t){return t.nodeType===t.ELEMENT_NODE}function _j(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Pm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xj=a1,w1=c1,_1=d1,x1=h1,E1=f1,T1=m1,b1=rw;function S1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=S1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function I1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=S1(t))&&(r&&(r+=" "),r+=e);return r}const Kx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qx=I1,Ff=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Qx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=o==null?void 0:o[u];if(h===null)return null;const p=Kx(h)||Kx(f);return s[u][p]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(b=>{let[v,x]=b;return Array.isArray(x)?x.includes({...o,...a}[v]):{...o,...a}[v]===x})?[...u,f,p]:u},[]);return Qx(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>m.createElement("svg",{ref:l,...Tj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:C1("lucide",s),...a},[...i.map(([u,h])=>m.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=m.forwardRef(({className:r,...s},o)=>m.createElement(bj,{ref:o,iconNode:e,className:C1(`lucide-${Ej(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Re("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Re("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Re("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=Re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Re("MoonStar",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9",key:"4ay0iu"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Re("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=Re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=Re("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=Re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Re("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sw="-",Qj=t=>{const e=Xj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(sw);return a[0]===""&&a.length!==1&&a.shift(),V1(a,e)||Yj(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},V1=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?V1(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(sw);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Zx=/^\[(.+)\]$/,Yj=t=>{if(Zx.test(t)){const e=Zx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Xj=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Zj(Object.entries(t.classGroups),n).forEach(([o,i])=>{oy(i,r,o,e)}),r},oy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:eE(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(Jj(s)){oy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{oy(i,eE(e,o),n,r)})})},eE=(t,e)=>{let n=t;return e.split(sw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Jj=t=>t.isThemeGetter,Zj=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,eL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},U1="!",tL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let u=0,h=0,f;for(let x=0;x<a.length;x++){let E=a[x];if(u===0){if(E===s&&(r||a.slice(x,x+o)===e)){l.push(a.slice(h,x)),h=x+o;continue}if(E==="/"){f=x;continue}}E==="["?u++:E==="]"&&u--}const p=l.length===0?a:a.substring(h),y=p.startsWith(U1),b=y?p.substring(1):p,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:i}):i},nL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},rL=t=>({cache:eL(t.cacheSize),parseClassName:tL(t),...Qj(t)}),sL=/\s+/,oL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(sL);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}=n(u);let b=!!y,v=r(b?p.substring(0,y):p);if(!v){if(!b){a=u+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=u+(a.length>0?" "+a:a);continue}b=!1}const x=nL(h).join(":"),E=f?x+U1:x,w=E+v;if(o.includes(w))continue;o.push(w);const T=s(v,b);for(let k=0;k<T.length;++k){const D=T[k];o.push(E+D)}a=u+(a.length>0?" "+a:a)}return a};function iL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=$1(e))&&(r&&(r+=" "),r+=n);return r}const $1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=$1(t[r]))&&(n&&(n+=" "),n+=e);return n};function aL(t,...e){let n,r,s,o=i;function i(l){const u=e.reduce((h,f)=>f(h),t());return n=rL(u),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=oL(l,n);return s(l,h),h}return function(){return o(iL.apply(null,arguments))}}const at=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},B1=/^\[(?:([a-z-]+):)?(.+)\]$/i,lL=/^\d+\/\d+$/,cL=new Set(["px","full","screen"]),uL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=t=>ka(t)||cL.has(t)||lL.test(t),Qs=t=>gl(t,"length",EL),ka=t=>!!t&&!Number.isNaN(Number(t)),km=t=>gl(t,"number",ka),ql=t=>!!t&&Number.isInteger(Number(t)),mL=t=>t.endsWith("%")&&ka(t.slice(0,-1)),Pe=t=>B1.test(t),Ys=t=>uL.test(t),gL=new Set(["length","size","percentage"]),yL=t=>gl(t,gL,z1),vL=t=>gl(t,"position",z1),wL=new Set(["image","url"]),_L=t=>gl(t,wL,bL),xL=t=>gl(t,"",TL),Gl=()=>!0,gl=(t,e,n)=>{const r=B1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},EL=t=>dL.test(t)&&!hL.test(t),z1=()=>!1,TL=t=>fL.test(t),bL=t=>pL.test(t),SL=()=>{const t=at("colors"),e=at("spacing"),n=at("blur"),r=at("brightness"),s=at("borderColor"),o=at("borderRadius"),i=at("borderSpacing"),a=at("borderWidth"),l=at("contrast"),u=at("grayscale"),h=at("hueRotate"),f=at("invert"),p=at("gap"),y=at("gradientColorStops"),b=at("gradientColorStopPositions"),v=at("inset"),x=at("margin"),E=at("opacity"),w=at("padding"),T=at("saturate"),k=at("scale"),D=at("sepia"),M=at("skew"),I=at("space"),S=at("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Pe,e],O=()=>[Pe,e],N=()=>["",is,Qs],U=()=>["auto",ka,Pe],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Pe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[ka,Pe];return{cacheSize:500,separator:":",theme:{colors:[Gl],spacing:[is,Qs],blur:["none","",Ys,Pe],brightness:te(),borderColor:[t],borderRadius:["none","","full",Ys,Pe],borderSpacing:O(),borderWidth:N(),contrast:te(),grayscale:j(),hueRotate:te(),invert:j(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[mL,Qs],inset:C(),margin:C(),opacity:te(),padding:O(),saturate:te(),scale:te(),sepia:j(),skew:te(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[Ys]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Pe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ql,Pe]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",ql,Pe]}],"grid-cols":[{"grid-cols":[Gl]}],"col-start-end":[{col:["auto",{span:["full",ql,Pe]},Pe]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Gl]}],"row-start-end":[{row:["auto",{span:[ql,Pe]},Pe]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,e]}],"min-w":[{"min-w":[Pe,e,"min","max","fit"]}],"max-w":[{"max-w":[Pe,e,"none","full","min","max","fit","prose",{screen:[Ys]},Ys]}],h:[{h:[Pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ys,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",km]}],"font-family":[{font:[Gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",ka,km]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,Qs]}],"underline-offset":[{"underline-offset":["auto",is,Pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),vL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_L]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[is,Pe]}],"outline-w":[{outline:[is,Qs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[is,Qs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ys,xL]}],"shadow-color":[{shadow:[Gl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ys,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ql,Pe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[is,Qs,km]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IL=aL(SL);function ye(...t){return IL(I1(t))}const CL=xj,W1=m.forwardRef(({className:t,...e},n)=>d.jsx(w1,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));W1.displayName=w1.displayName;const RL=Ff("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),H1=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(_1,{ref:r,className:ye(RL({variant:e}),t),...n}));H1.displayName=_1.displayName;const AL=m.forwardRef(({className:t,...e},n)=>d.jsx(T1,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));AL.displayName=T1.displayName;const q1=m.forwardRef(({className:t,...e},n)=>d.jsx(b1,{ref:n,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Bf,{className:"h-4 w-4"})}));q1.displayName=b1.displayName;const G1=m.forwardRef(({className:t,...e},n)=>d.jsx(x1,{ref:n,className:ye("text-sm font-semibold",t),...e}));G1.displayName=x1.displayName;const K1=m.forwardRef(({className:t,...e},n)=>d.jsx(E1,{ref:n,className:ye("text-sm opacity-90",t),...e}));K1.displayName=E1.displayName;function PL(){const{toasts:t}=PM();return d.jsxs(CL,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return d.jsxs(H1,{...o,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(G1,{children:n}),r&&d.jsx(K1,{children:r})]}),s,d.jsx(q1,{})]},e)}),d.jsx(W1,{})]})}var tE=["light","dark"],kL="(prefers-color-scheme: dark)",NL=m.createContext(void 0),DL={setTheme:t=>{},themes:[]},OL=()=>{var t;return(t=m.useContext(NL))!=null?t:DL};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let u=o==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?tE.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,v=!1,x=!0)=>{let E=i?i[b]:b,w=v?b+"|| ''":`'${E}'`,T="";return s&&x&&!v&&tE.includes(b)&&(T+=`d.style.colorScheme = '${b}';`),n==="class"?v||E?T+=`c.add(${w})`:T+="null":E&&(T+=`d[s](n,${w})`),T},y=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${kL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})});var ML=t=>{switch(t){case"success":return FL;case"info":return UL;case"warning":return VL;case"error":return $L;default:return null}},jL=Array(12).fill(0),LL=({visible:t,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ne.createElement("div",{className:"sonner-spinner"},jL.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),FL=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VL=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UL=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$L=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BL=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zL=()=>{let[t,e]=ne.useState(document.hidden);return ne.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},iy=1,WL=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:iy++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,o,i=r.then(async l=>{if(o=["resolve",l],ne.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(qL(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:h})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>i.then(()=>o[0]==="reject"?u(o[1]):l(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||iy++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},kn=new WL,HL=(t,e)=>{let n=(e==null?void 0:e.id)||iy++;return kn.addToast({title:t,...e,id:n}),n},qL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",GL=HL,KL=()=>kn.toasts,QL=()=>kn.getActiveToasts(),de=Object.assign(GL,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:KL,getToasts:QL});function YL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}YL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rd(t){return t.label!==void 0}var XL=3,JL="32px",ZL="16px",nE=4e3,eF=356,tF=14,nF=20,rF=200;function mr(...t){return t.filter(Boolean).join(" ")}function sF(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var oF=t=>{var e,n,r,s,o,i,a,l,u,h,f;let{invert:p,toast:y,unstyled:b,interacting:v,setHeights:x,visibleToasts:E,heights:w,index:T,toasts:k,expanded:D,removeToast:M,defaultRichColors:I,closeButton:S,style:R,cancelButtonStyle:P,actionButtonStyle:C,className:O="",descriptionClassName:N="",duration:U,position:ie,gap:J,loadingIcon:q,expandByDefault:F,classNames:j,icons:H,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:X}=t,[le,pe]=ne.useState(null),[De,$e]=ne.useState(null),[Y,Oe]=ne.useState(!1),[ke,W]=ne.useState(!1),[ee,ce]=ne.useState(!1),[we,Fe]=ne.useState(!1),[Rt,Lt]=ne.useState(!1),[Ht,hr]=ne.useState(0),[B,Z]=ne.useState(0),se=ne.useRef(y.duration||U||nE),ve=ne.useRef(null),me=ne.useRef(null),Me=T===0,tt=T+1<=E,Ne=y.type,Be=y.dismissible!==!1,Xn=y.className||"",Ko=y.descriptionClassName||"",Or=ne.useMemo(()=>w.findIndex(Te=>Te.toastId===y.id)||0,[w,y.id]),Yi=ne.useMemo(()=>{var Te;return(Te=y.closeButton)!=null?Te:S},[y.closeButton,S]),Ft=ne.useMemo(()=>y.duration||U||nE,[y.duration,U]),ns=ne.useRef(0),Jn=ne.useRef(0),Xi=ne.useRef(0),Ws=ne.useRef(null),[Bp,Cl]=ie.split("-"),Rl=ne.useMemo(()=>w.reduce((Te,We,nt)=>nt>=Or?Te:Te+We.height,0),[w,Or]),Al=zL(),Qo=y.invert||p,Yo=Ne==="loading";Jn.current=ne.useMemo(()=>Or*J+Rl,[Or,Rl]),ne.useEffect(()=>{se.current=Ft},[Ft]),ne.useEffect(()=>{Oe(!0)},[]),ne.useEffect(()=>{let Te=me.current;if(Te){let We=Te.getBoundingClientRect().height;return Z(We),x(nt=>[{toastId:y.id,height:We,position:y.position},...nt]),()=>x(nt=>nt.filter(qt=>qt.toastId!==y.id))}},[x,y.id]),ne.useLayoutEffect(()=>{if(!Y)return;let Te=me.current,We=Te.style.height;Te.style.height="auto";let nt=Te.getBoundingClientRect().height;Te.style.height=We,Z(nt),x(qt=>qt.find(An=>An.toastId===y.id)?qt.map(An=>An.toastId===y.id?{...An,height:nt}:An):[{toastId:y.id,height:nt,position:y.position},...qt])},[Y,y.title,y.description,x,y.id]);let Zn=ne.useCallback(()=>{W(!0),hr(Jn.current),x(Te=>Te.filter(We=>We.toastId!==y.id)),setTimeout(()=>{M(y)},rF)},[y,M,x,Jn]);ne.useEffect(()=>{if(y.promise&&Ne==="loading"||y.duration===1/0||y.type==="loading")return;let Te;return D||v||X&&Al?(()=>{if(Xi.current<ns.current){let We=new Date().getTime()-ns.current;se.current=se.current-We}Xi.current=new Date().getTime()})():se.current!==1/0&&(ns.current=new Date().getTime(),Te=setTimeout(()=>{var We;(We=y.onAutoClose)==null||We.call(y,y),Zn()},se.current)),()=>clearTimeout(Te)},[D,v,y,Ne,X,Al,Zn]),ne.useEffect(()=>{y.delete&&Zn()},[Zn,y.delete]);function rs(){var Te,We,nt;return H!=null&&H.loading?ne.createElement("div",{className:mr(j==null?void 0:j.loader,(Te=y==null?void 0:y.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":Ne==="loading"},H.loading):q?ne.createElement("div",{className:mr(j==null?void 0:j.loader,(We=y==null?void 0:y.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":Ne==="loading"},q):ne.createElement(LL,{className:mr(j==null?void 0:j.loader,(nt=y==null?void 0:y.classNames)==null?void 0:nt.loader),visible:Ne==="loading"})}return ne.createElement("li",{tabIndex:0,ref:me,className:mr(O,Xn,j==null?void 0:j.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Ne],(n=y==null?void 0:y.classNames)==null?void 0:n[Ne]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:I,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":Y,"data-promise":!!y.promise,"data-swiped":Rt,"data-removed":ke,"data-visible":tt,"data-y-position":Bp,"data-x-position":Cl,"data-index":T,"data-front":Me,"data-swiping":ee,"data-dismissible":Be,"data-type":Ne,"data-invert":Qo,"data-swipe-out":we,"data-swipe-direction":De,"data-expanded":!!(D||F&&Y),style:{"--index":T,"--toasts-before":T,"--z-index":k.length-T,"--offset":`${ke?Ht:Jn.current}px`,"--initial-height":F?"auto":`${B}px`,...R,...y.style},onDragEnd:()=>{ce(!1),pe(null),Ws.current=null},onPointerDown:Te=>{Yo||!Be||(ve.current=new Date,hr(Jn.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(ce(!0),Ws.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,We,nt,qt;if(we||!Be)return;Ws.current=null;let An=Number(((Te=me.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dt=Number(((We=me.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mr=new Date().getTime()-((nt=ve.current)==null?void 0:nt.getTime()),Gt=le==="x"?An:dt,Pn=Math.abs(Gt)/Mr;if(Math.abs(Gt)>=nF||Pn>.11){hr(Jn.current),(qt=y.onDismiss)==null||qt.call(y,y),$e(le==="x"?An>0?"right":"left":dt>0?"down":"up"),Zn(),Fe(!0),Lt(!1);return}ce(!1),pe(null)},onPointerMove:Te=>{var We,nt,qt,An;if(!Ws.current||!Be||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;let dt=Te.clientY-Ws.current.y,Mr=Te.clientX-Ws.current.x,Gt=(nt=t.swipeDirections)!=null?nt:sF(ie);!le&&(Math.abs(Mr)>1||Math.abs(dt)>1)&&pe(Math.abs(Mr)>Math.abs(dt)?"x":"y");let Pn={x:0,y:0};le==="y"?(Gt.includes("top")||Gt.includes("bottom"))&&(Gt.includes("top")&&dt<0||Gt.includes("bottom")&&dt>0)&&(Pn.y=dt):le==="x"&&(Gt.includes("left")||Gt.includes("right"))&&(Gt.includes("left")&&Mr<0||Gt.includes("right")&&Mr>0)&&(Pn.x=Mr),(Math.abs(Pn.x)>0||Math.abs(Pn.y)>0)&&Lt(!0),(qt=me.current)==null||qt.style.setProperty("--swipe-amount-x",`${Pn.x}px`),(An=me.current)==null||An.style.setProperty("--swipe-amount-y",`${Pn.y}px`)}},Yi&&!y.jsx?ne.createElement("button",{"aria-label":te,"data-disabled":Yo,"data-close-button":!0,onClick:Yo||!Be?()=>{}:()=>{var Te;Zn(),(Te=y.onDismiss)==null||Te.call(y,y)},className:mr(j==null?void 0:j.closeButton,(s=y==null?void 0:y.classNames)==null?void 0:s.closeButton)},(o=H==null?void 0:H.close)!=null?o:BL):null,y.jsx||m.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:ne.createElement(ne.Fragment,null,Ne||y.icon||y.promise?ne.createElement("div",{"data-icon":"",className:mr(j==null?void 0:j.icon,(i=y==null?void 0:y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||rs():null,y.type!=="loading"?y.icon||(H==null?void 0:H[Ne])||ML(Ne):null):null,ne.createElement("div",{"data-content":"",className:mr(j==null?void 0:j.content,(a=y==null?void 0:y.classNames)==null?void 0:a.content)},ne.createElement("div",{"data-title":"",className:mr(j==null?void 0:j.title,(l=y==null?void 0:y.classNames)==null?void 0:l.title)},typeof y.title=="function"?y.title():y.title),y.description?ne.createElement("div",{"data-description":"",className:mr(N,Ko,j==null?void 0:j.description,(u=y==null?void 0:y.classNames)==null?void 0:u.description)},typeof y.description=="function"?y.description():y.description):null),m.isValidElement(y.cancel)?y.cancel:y.cancel&&Rd(y.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||P,onClick:Te=>{var We,nt;Rd(y.cancel)&&Be&&((nt=(We=y.cancel).onClick)==null||nt.call(We,Te),Zn())},className:mr(j==null?void 0:j.cancelButton,(h=y==null?void 0:y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,m.isValidElement(y.action)?y.action:y.action&&Rd(y.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||C,onClick:Te=>{var We,nt;Rd(y.action)&&((nt=(We=y.action).onClick)==null||nt.call(We,Te),!Te.defaultPrevented&&Zn())},className:mr(j==null?void 0:j.actionButton,(f=y==null?void 0:y.classNames)==null?void 0:f.actionButton)},y.action.label):null))};function rE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function iF(t,e){let n={};return[t,e].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?ZL:JL;function l(u){["top","right","bottom","left"].forEach(h=>{n[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var Q1=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:u,theme:h="light",richColors:f,duration:p,style:y,visibleToasts:b=XL,toastOptions:v,dir:x=rE(),gap:E=tF,loadingIcon:w,icons:T,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:D}=t,[M,I]=ne.useState([]),S=ne.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[R,P]=ne.useState([]),[C,O]=ne.useState(!1),[N,U]=ne.useState(!1),[ie,J]=ne.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=ne.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=ne.useRef(null),H=ne.useRef(!1),te=ne.useCallback(X=>{I(le=>{var pe;return(pe=le.find(De=>De.id===X.id))!=null&&pe.delete||kn.dismiss(X.id),le.filter(({id:De})=>De!==X.id)})},[]);return ne.useEffect(()=>kn.subscribe(X=>{if(X.dismiss){I(le=>le.map(pe=>pe.id===X.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{ZI.flushSync(()=>{I(le=>{let pe=le.findIndex(De=>De.id===X.id);return pe!==-1?[...le.slice(0,pe),{...le[pe],...X},...le.slice(pe+1)]:[X,...le]})})})}),[]),ne.useEffect(()=>{if(h!=="system"){J(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:le})=>{J(le?"dark":"light")})}catch{X.addListener(({matches:pe})=>{try{J(pe?"dark":"light")}catch(De){console.error(De)}})}},[h]),ne.useEffect(()=>{M.length<=1&&O(!1)},[M]),ne.useEffect(()=>{let X=le=>{var pe,De;s.every($e=>le[$e]||le.code===$e)&&(O(!0),(pe=q.current)==null||pe.focus()),le.code==="Escape"&&(document.activeElement===q.current||(De=q.current)!=null&&De.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),ne.useEffect(()=>{if(q.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,H.current=!1)}},[q.current]),ne.createElement("section",{ref:e,"aria-label":`${k} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((X,le)=>{var pe;let[De,$e]=X.split("-");return M.length?ne.createElement("ol",{key:X,dir:x==="auto"?rE():x,tabIndex:-1,ref:q,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":De,"data-lifted":C&&M.length>1&&!o,"data-x-position":$e,style:{"--front-toast-height":`${((pe=R[0])==null?void 0:pe.height)||0}px`,"--width":`${eF}px`,"--gap":`${E}px`,...y,...iF(l,u)},onBlur:Y=>{H.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(H.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||H.current||(H.current=!0,j.current=Y.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{N||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},M.filter(Y=>!Y.position&&le===0||Y.position===X).map((Y,Oe)=>{var ke,W;return ne.createElement(oF,{key:Y.id,icons:T,index:Oe,toast:Y,defaultRichColors:f,duration:(ke=v==null?void 0:v.duration)!=null?ke:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:b,closeButton:(W=v==null?void 0:v.closeButton)!=null?W:i,interacting:N,position:X,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:te,toasts:M.filter(ee=>ee.position==Y.position),heights:R.filter(ee=>ee.position==Y.position),setHeights:P,expandByDefault:o,gap:E,loadingIcon:w,expanded:C,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const Nm=Object.freeze(Object.defineProperty({__proto__:null,Toaster:Q1,toast:de},Symbol.toStringTag,{value:"Module"})),aF=({...t})=>{const{theme:e="system"}=OL();return d.jsx(Q1,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var lF=cv[" useId ".trim().toString()]||(()=>{}),cF=0;function Gr(t){const[e,n]=m.useState(lF());return tn(()=>{n(r=>r??String(cF++))},[t]),e?`radix-${e}`:""}const uF=["top","right","bottom","left"],Do=Math.min,Bn=Math.max,Uh=Math.round,Ad=Math.floor,Kr=t=>({x:t,y:t}),dF={left:"right",right:"left",bottom:"top",top:"bottom"},hF={start:"end",end:"start"};function ay(t,e,n){return Bn(t,Do(e,n))}function ks(t,e){return typeof t=="function"?t(e):t}function Ns(t){return t.split("-")[0]}function yl(t){return t.split("-")[1]}function ow(t){return t==="x"?"y":"x"}function iw(t){return t==="y"?"height":"width"}const fF=new Set(["top","bottom"]);function zr(t){return fF.has(Ns(t))?"y":"x"}function aw(t){return ow(zr(t))}function pF(t,e,n){n===void 0&&(n=!1);const r=yl(t),s=aw(t),o=iw(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=$h(i)),[i,$h(i)]}function mF(t){const e=$h(t);return[ly(t),e,ly(e)]}function ly(t){return t.replace(/start|end/g,e=>hF[e])}const sE=["left","right"],oE=["right","left"],gF=["top","bottom"],yF=["bottom","top"];function vF(t,e,n){switch(t){case"top":case"bottom":return n?e?oE:sE:e?sE:oE;case"left":case"right":return e?gF:yF;default:return[]}}function wF(t,e,n,r){const s=yl(t);let o=vF(Ns(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(ly)))),o}function $h(t){return t.replace(/left|right|bottom|top/g,e=>dF[e])}function _F(t){return{top:0,right:0,bottom:0,left:0,...t}}function Y1(t){return typeof t!="number"?_F(t):{top:t,right:t,bottom:t,left:t}}function Bh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function iE(t,e,n){let{reference:r,floating:s}=t;const o=zr(e),i=aw(e),a=iw(i),l=Ns(e),u=o==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(yl(e)){case"start":y[i]-=p*(n&&u?-1:1);break;case"end":y[i]+=p*(n&&u?-1:1);break}return y}const xF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=iE(u,r,l),p=r,y={},b=0;for(let v=0;v<a.length;v++){const{name:x,fn:E}=a[v],{x:w,y:T,data:k,reset:D}=await E({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:u,platform:i,elements:{reference:t,floating:e}});h=w??h,f=T??f,y={...y,[x]:{...y[x],...k}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(u=D.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=iE(u,p,l)),v=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:y}};async function qc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=ks(e,t),b=Y1(y),x=a[p?f==="floating"?"reference":"floating":f],E=Bh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),k=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Bh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:l}):w);return{top:(E.top-D.top+b.top)/k.y,bottom:(D.bottom-E.bottom+b.bottom)/k.y,left:(E.left-D.left+b.left)/k.x,right:(D.right-E.right+b.right)/k.x}}const EF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=ks(t,e)||{};if(u==null)return{};const f=Y1(h),p={x:n,y:r},y=aw(s),b=iw(y),v=await i.getDimensions(u),x=y==="y",E=x?"top":"left",w=x?"bottom":"right",T=x?"clientHeight":"clientWidth",k=o.reference[b]+o.reference[y]-p[y]-o.floating[b],D=p[y]-o.reference[y],M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let I=M?M[T]:0;(!I||!await(i.isElement==null?void 0:i.isElement(M)))&&(I=a.floating[T]||o.floating[b]);const S=k/2-D/2,R=I/2-v[b]/2-1,P=Do(f[E],R),C=Do(f[w],R),O=P,N=I-v[b]-C,U=I/2-v[b]/2+S,ie=ay(O,U,N),J=!l.arrow&&yl(s)!=null&&U!==ie&&o.reference[b]/2-(U<O?P:C)-v[b]/2<0,q=J?U<O?U-O:U-N:0;return{[y]:p[y]+q,data:{[y]:ie,centerOffset:U-ie-q,...J&&{alignmentOffset:q}},reset:J}}}),TF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...x}=ks(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Ns(s),w=zr(a),T=Ns(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=p||(T||!v?[$h(a)]:mF(a)),M=b!=="none";!p&&M&&D.push(...wF(a,v,b,k));const I=[a,...D],S=await qc(e,x),R=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&R.push(S[E]),f){const U=pF(s,i,k);R.push(S[U[0]],S[U[1]])}if(P=[...P,{placement:s,overflows:R}],!R.every(U=>U<=0)){var C,O;const U=(((C=o.flip)==null?void 0:C.index)||0)+1,ie=I[U];if(ie&&(!(f==="alignment"?w!==zr(ie):!1)||P.every(F=>zr(F.placement)===w?F.overflows[0]>0:!0)))return{data:{index:U,overflows:P},reset:{placement:ie}};let J=(O=P.filter(q=>q.overflows[0]<=0).sort((q,F)=>q.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(y){case"bestFit":{var N;const q=(N=P.filter(F=>{if(M){const j=zr(F.placement);return j===w||j==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,H)=>j+H,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:N[0];q&&(J=q);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function aE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lE(t){return uF.some(e=>t[e]>=0)}const bF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ks(t,e);switch(r){case"referenceHidden":{const o=await qc(e,{...s,elementContext:"reference"}),i=aE(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:lE(i)}}}case"escaped":{const o=await qc(e,{...s,altBoundary:!0}),i=aE(o,n.floating);return{data:{escapedOffsets:i,escaped:lE(i)}}}default:return{}}}}},X1=new Set(["left","top"]);async function SF(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Ns(n),a=yl(n),l=zr(n)==="y",u=X1.has(i)?-1:1,h=o&&l?-1:1,f=ks(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),l?{x:y*h,y:p*u}:{x:p*u,y:y*h}}const IF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await SF(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},CF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:E,y:w}=x;return{x:E,y:w}}},...l}=ks(t,e),u={x:n,y:r},h=await qc(e,l),f=zr(Ns(s)),p=ow(f);let y=u[p],b=u[f];if(o){const x=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=y+h[x],T=y-h[E];y=ay(w,y,T)}if(i){const x=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=b+h[x],T=b-h[E];b=ay(w,b,T)}const v=a.fn({...e,[p]:y,[f]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:o,[f]:i}}}}}},RF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ks(t,e),h={x:n,y:r},f=zr(s),p=ow(f);let y=h[p],b=h[f];const v=ks(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const T=p==="y"?"height":"width",k=o.reference[p]-o.floating[T]+x.mainAxis,D=o.reference[p]+o.reference[T]-x.mainAxis;y<k?y=k:y>D&&(y=D)}if(u){var E,w;const T=p==="y"?"width":"height",k=X1.has(Ns(s)),D=o.reference[f]-o.floating[T]+(k&&((E=i.offset)==null?void 0:E[f])||0)+(k?0:x.crossAxis),M=o.reference[f]+o.reference[T]+(k?0:((w=i.offset)==null?void 0:w[f])||0)-(k?x.crossAxis:0);b<D?b=D:b>M&&(b=M)}return{[p]:y,[f]:b}}}},AF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...u}=ks(t,e),h=await qc(e,u),f=Ns(s),p=yl(s),y=zr(s)==="y",{width:b,height:v}=o.floating;let x,E;f==="top"||f==="bottom"?(x=f,E=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,x=p==="end"?"top":"bottom");const w=v-h.top-h.bottom,T=b-h.left-h.right,k=Do(v-h[x],w),D=Do(b-h[E],T),M=!e.middlewareData.shift;let I=k,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),M&&!p){const P=Bn(h.left,0),C=Bn(h.right,0),O=Bn(h.top,0),N=Bn(h.bottom,0);y?S=b-2*(P!==0||C!==0?P+C:Bn(h.left,h.right)):I=v-2*(O!==0||N!==0?O+N:Bn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:I});const R=await i.getDimensions(a.floating);return b!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function zf(){return typeof window<"u"}function vl(t){return J1(t)?(t.nodeName||"").toLowerCase():"#document"}function qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ts(t){var e;return(e=(J1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function J1(t){return zf()?t instanceof Node||t instanceof qn(t).Node:!1}function Cr(t){return zf()?t instanceof Element||t instanceof qn(t).Element:!1}function Jr(t){return zf()?t instanceof HTMLElement||t instanceof qn(t).HTMLElement:!1}function cE(t){return!zf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qn(t).ShadowRoot}const PF=new Set(["inline","contents"]);function Eu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!PF.has(s)}const kF=new Set(["table","td","th"]);function NF(t){return kF.has(vl(t))}const DF=[":popover-open",":modal"];function Wf(t){return DF.some(e=>{try{return t.matches(e)}catch{return!1}})}const OF=["transform","translate","scale","rotate","perspective"],MF=["transform","translate","scale","rotate","perspective","filter"],jF=["paint","layout","strict","content"];function lw(t){const e=cw(),n=Cr(t)?Rr(t):t;return OF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||MF.some(r=>(n.willChange||"").includes(r))||jF.some(r=>(n.contain||"").includes(r))}function LF(t){let e=Oo(t);for(;Jr(e)&&!el(e);){if(lw(e))return e;if(Wf(e))return null;e=Oo(e)}return null}function cw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FF=new Set(["html","body","#document"]);function el(t){return FF.has(vl(t))}function Rr(t){return qn(t).getComputedStyle(t)}function Hf(t){return Cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Oo(t){if(vl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cE(t)&&t.host||ts(t);return cE(e)?e.host:e}function Z1(t){const e=Oo(t);return el(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&Eu(e)?e:Z1(e)}function Gc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Z1(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=qn(s);if(o){const a=cy(i);return e.concat(i,i.visualViewport||[],Eu(s)?s:[],a&&n?Gc(a):[])}return e.concat(s,Gc(s,[],n))}function cy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eC(t){const e=Rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Jr(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=Uh(n)!==o||Uh(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function uw(t){return Cr(t)?t:t.contextElement}function Na(t){const e=uw(t);if(!Jr(e))return Kr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=eC(e);let i=(o?Uh(n.width):n.width)/r,a=(o?Uh(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const VF=Kr(0);function tC(t){const e=qn(t);return!cw()||!e.visualViewport?VF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==qn(t)?!1:e}function Ai(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=uw(t);let i=Kr(1);e&&(r?Cr(r)&&(i=Na(r)):i=Na(t));const a=UF(o,n,r)?tC(o):Kr(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(o){const p=qn(o),y=r&&Cr(r)?qn(r):r;let b=p,v=cy(b);for(;v&&r&&y!==b;){const x=Na(v),E=v.getBoundingClientRect(),w=Rr(v),T=E.left+(v.clientLeft+parseFloat(w.paddingLeft))*x.x,k=E.top+(v.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,u*=x.y,h*=x.x,f*=x.y,l+=T,u+=k,b=qn(v),v=cy(b)}}return Bh({width:h,height:f,x:l,y:u})}function qf(t,e){const n=Hf(t).scrollLeft;return e?e.left+n:Ai(ts(t)).left+n}function nC(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-qf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function $F(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=ts(r),a=e?Wf(e.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Kr(1);const h=Kr(0),f=Jr(r);if((f||!f&&!o)&&((vl(r)!=="body"||Eu(i))&&(l=Hf(r)),Jr(r))){const y=Ai(r);u=Na(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=i&&!f&&!o?nC(i,l):Kr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-l.scrollTop*u.y+h.y+p.y}}function BF(t){return Array.from(t.getClientRects())}function zF(t){const e=ts(t),n=Hf(t),r=t.ownerDocument.body,s=Bn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Bn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+qf(t);const a=-n.scrollTop;return Rr(r).direction==="rtl"&&(i+=Bn(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const uE=25;function WF(t,e){const n=qn(t),r=ts(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const h=cw();(!h||h&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=qf(r);if(u<=0){const h=r.ownerDocument,f=h.body,p=getComputedStyle(f),y=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(r.clientWidth-f.clientWidth-y);b<=uE&&(o-=b)}else u<=uE&&(o+=u);return{width:o,height:i,x:a,y:l}}const HF=new Set(["absolute","fixed"]);function qF(t,e){const n=Ai(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Jr(t)?Na(t):Kr(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function dE(t,e,n){let r;if(e==="viewport")r=WF(t,n);else if(e==="document")r=zF(ts(t));else if(Cr(e))r=qF(e,n);else{const s=tC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Bh(r)}function rC(t,e){const n=Oo(t);return n===e||!Cr(n)||el(n)?!1:Rr(n).position==="fixed"||rC(n,e)}function GF(t,e){const n=e.get(t);if(n)return n;let r=Gc(t,[],!1).filter(a=>Cr(a)&&vl(a)!=="body"),s=null;const o=Rr(t).position==="fixed";let i=o?Oo(t):t;for(;Cr(i)&&!el(i);){const a=Rr(i),l=lw(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&HF.has(s.position)||Eu(i)&&!l&&rC(t,i))?r=r.filter(h=>h!==i):s=a,i=Oo(i)}return e.set(t,r),r}function KF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Wf(e)?[]:GF(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,h)=>{const f=dE(e,h,s);return u.top=Bn(f.top,u.top),u.right=Do(f.right,u.right),u.bottom=Do(f.bottom,u.bottom),u.left=Bn(f.left,u.left),u},dE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function QF(t){const{width:e,height:n}=eC(t);return{width:e,height:n}}function YF(t,e,n){const r=Jr(e),s=ts(e),o=n==="fixed",i=Ai(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Kr(0);function u(){l.x=qf(s)}if(r||!r&&!o)if((vl(e)!=="body"||Eu(s))&&(a=Hf(e)),r){const y=Ai(e,!0,o,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else s&&u();o&&!r&&s&&u();const h=s&&!r&&!o?nC(s,a):Kr(0),f=i.left+a.scrollLeft-l.x-h.x,p=i.top+a.scrollTop-l.y-h.y;return{x:f,y:p,width:i.width,height:i.height}}function Dm(t){return Rr(t).position==="static"}function hE(t,e){if(!Jr(t)||Rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ts(t)===n&&(n=n.ownerDocument.body),n}function sC(t,e){const n=qn(t);if(Wf(t))return n;if(!Jr(t)){let s=Oo(t);for(;s&&!el(s);){if(Cr(s)&&!Dm(s))return s;s=Oo(s)}return n}let r=hE(t,e);for(;r&&NF(r)&&Dm(r);)r=hE(r,e);return r&&el(r)&&Dm(r)&&!lw(r)?n:r||LF(t)||n}const XF=async function(t){const e=this.getOffsetParent||sC,n=this.getDimensions,r=await n(t.floating);return{reference:YF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JF(t){return Rr(t).direction==="rtl"}const ZF={convertOffsetParentRelativeRectToViewportRelativeRect:$F,getDocumentElement:ts,getClippingRect:KF,getOffsetParent:sC,getElementRects:XF,getClientRects:BF,getDimensions:QF,getScale:Na,isElement:Cr,isRTL:JF};function oC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function eV(t,e){let n=null,r;const s=ts(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=u;if(a||e(),!p||!y)return;const b=Ad(f),v=Ad(s.clientWidth-(h+p)),x=Ad(s.clientHeight-(f+y)),E=Ad(h),T={rootMargin:-b+"px "+-v+"px "+-x+"px "+-E+"px",threshold:Bn(0,Do(1,l))||1};let k=!0;function D(M){const I=M[0].intersectionRatio;if(I!==l){if(!k)return i();I?i(!1,I):r=setTimeout(()=>{i(!1,1e-7)},1e3)}I===1&&!oC(u,t.getBoundingClientRect())&&i(),k=!1}try{n=new IntersectionObserver(D,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(t)}return i(!0),o}function tV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=uw(t),h=s||o?[...u?Gc(u):[],...Gc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const f=u&&a?eV(u,n):null;let p=-1,y=null;i&&(y=new ResizeObserver(E=>{let[w]=E;w&&w.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let b,v=l?Ai(t):null;l&&x();function x(){const E=Ai(t);v&&!oC(v,E)&&n(),v=E,b=requestAnimationFrame(x)}return n(),()=>{var E;h.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const nV=IF,rV=CF,sV=TF,oV=AF,iV=bF,fE=EF,aV=RF,lV=(t,e,n)=>{const r=new Map,s={platform:ZF,...n},o={...s.platform,_c:r};return xF(t,e,{...s,platform:o})};var cV=typeof document<"u",uV=function(){},rh=cV?m.useLayoutEffect:uV;function zh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!zh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function iC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pE(t,e){const n=iC(t);return Math.round(e*n)/n}function Om(t){const e=m.useRef(t);return rh(()=>{e.current=t}),e}function dV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=m.useState(r);zh(p,r)||y(r);const[b,v]=m.useState(null),[x,E]=m.useState(null),w=m.useCallback(F=>{F!==M.current&&(M.current=F,v(F))},[]),T=m.useCallback(F=>{F!==I.current&&(I.current=F,E(F))},[]),k=o||b,D=i||x,M=m.useRef(null),I=m.useRef(null),S=m.useRef(h),R=l!=null,P=Om(l),C=Om(s),O=Om(u),N=m.useCallback(()=>{if(!M.current||!I.current)return;const F={placement:e,strategy:n,middleware:p};C.current&&(F.platform=C.current),lV(M.current,I.current,F).then(j=>{const H={...j,isPositioned:O.current!==!1};U.current&&!zh(S.current,H)&&(S.current=H,$i.flushSync(()=>{f(H)}))})},[p,e,n,C,O]);rh(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const U=m.useRef(!1);rh(()=>(U.current=!0,()=>{U.current=!1}),[]),rh(()=>{if(k&&(M.current=k),D&&(I.current=D),k&&D){if(P.current)return P.current(k,D,N);N()}},[k,D,N,P,R]);const ie=m.useMemo(()=>({reference:M,floating:I,setReference:w,setFloating:T}),[w,T]),J=m.useMemo(()=>({reference:k,floating:D}),[k,D]),q=m.useMemo(()=>{const F={position:n,left:0,top:0};if(!J.floating)return F;const j=pE(J.floating,h.x),H=pE(J.floating,h.y);return a?{...F,transform:"translate("+j+"px, "+H+"px)",...iC(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:H}},[n,a,J.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:N,refs:ie,elements:J,floatingStyles:q}),[h,N,ie,J,q])}const hV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fE({element:r.current,padding:s}).fn(n):{}:r?fE({element:r,padding:s}).fn(n):{}}}},fV=(t,e)=>({...nV(t),options:[t,e]}),pV=(t,e)=>({...rV(t),options:[t,e]}),mV=(t,e)=>({...aV(t),options:[t,e]}),gV=(t,e)=>({...sV(t),options:[t,e]}),yV=(t,e)=>({...oV(t),options:[t,e]}),vV=(t,e)=>({...iV(t),options:[t,e]}),wV=(t,e)=>({...hV(t),options:[t,e]});var _V="Arrow",aC=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return d.jsx(Ee.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});aC.displayName=_V;var xV=aC;function EV(t){const[e,n]=m.useState(void 0);return tn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var dw="Popper",[lC,wl]=Pr(dw),[TV,cC]=lC(dw),uC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return d.jsx(TV,{scope:e,anchor:r,onAnchorChange:s,children:n})};uC.displayName=dw;var dC="PopperAnchor",hC=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=cC(dC,n),i=m.useRef(null),a=Ke(e,i),l=m.useRef(null);return m.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:d.jsx(Ee.div,{...s,ref:a})});hC.displayName=dC;var hw="PopperContent",[bV,SV]=lC(hw),fC=m.forwardRef((t,e)=>{var Y,Oe,ke,W,ee,ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:b,...v}=t,x=cC(hw,n),[E,w]=m.useState(null),T=Ke(e,we=>w(we)),[k,D]=m.useState(null),M=EV(k),I=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,R=r+(o!=="center"?"-"+o:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},C=Array.isArray(u)?u:[u],O=C.length>0,N={padding:P,boundary:C.filter(CV),altBoundary:O},{refs:U,floatingStyles:ie,placement:J,isPositioned:q,middlewareData:F}=dV({strategy:"fixed",placement:R,whileElementsMounted:(...we)=>tV(...we,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[fV({mainAxis:s+S,alignmentAxis:i}),l&&pV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mV():void 0,...N}),l&&gV({...N}),yV({...N,apply:({elements:we,rects:Fe,availableWidth:Rt,availableHeight:Lt})=>{const{width:Ht,height:hr}=Fe.reference,B=we.floating.style;B.setProperty("--radix-popper-available-width",`${Rt}px`),B.setProperty("--radix-popper-available-height",`${Lt}px`),B.setProperty("--radix-popper-anchor-width",`${Ht}px`),B.setProperty("--radix-popper-anchor-height",`${hr}px`)}}),k&&wV({element:k,padding:a}),RV({arrowWidth:I,arrowHeight:S}),p&&vV({strategy:"referenceHidden",...N})]}),[j,H]=gC(J),te=Fn(b);tn(()=>{q&&(te==null||te())},[q,te]);const X=(Y=F.arrow)==null?void 0:Y.x,le=(Oe=F.arrow)==null?void 0:Oe.y,pe=((ke=F.arrow)==null?void 0:ke.centerOffset)!==0,[De,$e]=m.useState();return tn(()=>{E&&$e(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:q?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(W=F.transformOrigin)==null?void 0:W.x,(ee=F.transformOrigin)==null?void 0:ee.y].join(" "),...((ce=F.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(bV,{scope:n,placedSide:j,onArrowChange:D,arrowX:X,arrowY:le,shouldHideArrow:pe,children:d.jsx(Ee.div,{"data-side":j,"data-align":H,...v,ref:T,style:{...v.style,animation:q?void 0:"none"}})})})});fC.displayName=hw;var pC="PopperArrow",IV={top:"bottom",right:"left",bottom:"top",left:"right"},mC=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=SV(pC,r),i=IV[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(xV,{...s,ref:n,style:{...s.style,display:"block"}})})});mC.displayName=pC;function CV(t){return t!==null}var RV=t=>({name:"transformOrigin",options:t,fn(e){var x,E,w;const{placement:n,rects:r,middlewareData:s}=e,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[u,h]=gC(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",v="";return u==="bottom"?(b=i?f:`${p}px`,v=`${-l}px`):u==="top"?(b=i?f:`${p}px`,v=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,v=i?f:`${y}px`):u==="left"&&(b=`${r.floating.width+l}px`,v=i?f:`${y}px`),{data:{x:b,y:v}}}});function gC(t){const[e,n="center"]=t.split("-");return[e,n]}var yC=uC,fw=hC,pw=fC,mw=mC,[Gf]=Pr("Tooltip",[wl]),gw=wl(),vC="TooltipProvider",AV=700,mE="tooltip.open",[PV,wC]=Gf(vC),_C=t=>{const{__scopeTooltip:e,delayDuration:n=AV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,i=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),d.jsx(PV,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};_C.displayName=vC;var xC="Tooltip",[QG,Kf]=Gf(xC),uy="TooltipTrigger",kV=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Kf(uy,n),o=wC(uy,n),i=gw(n),a=m.useRef(null),l=Ke(e,a,s.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(fw,{asChild:!0,...i,children:d.jsx(Ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:oe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:oe(t.onBlur,s.onClose),onClick:oe(t.onClick,s.onClose)})})});kV.displayName=uy;var NV="TooltipPortal",[YG,DV]=Gf(NV,{forceMount:void 0}),tl="TooltipContent",EC=m.forwardRef((t,e)=>{const n=DV(tl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Kf(tl,t.__scopeTooltip);return d.jsx(kr,{present:r||i.open,children:i.disableHoverableContent?d.jsx(TC,{side:s,...o,ref:e}):d.jsx(OV,{side:s,...o,ref:e})})}),OV=m.forwardRef((t,e)=>{const n=Kf(tl,t.__scopeTooltip),r=wC(tl,t.__scopeTooltip),s=m.useRef(null),o=Ke(e,s),[i,a]=m.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{a(null),f(!1)},[f]),y=m.useCallback((b,v)=>{const x=b.currentTarget,E={x:b.clientX,y:b.clientY},w=VV(E,x.getBoundingClientRect()),T=UV(E,w),k=$V(v.getBoundingClientRect()),D=zV([...T,...k]);a(D),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&h){const b=x=>y(x,h),v=x=>y(x,l);return l.addEventListener("pointerleave",b),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",v)}}},[l,h,y,p]),m.useEffect(()=>{if(i){const b=v=>{const x=v.target,E={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(x))||(h==null?void 0:h.contains(x)),T=!BV(E,i);w?p():T&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,h,i,u,p]),d.jsx(TC,{...t,ref:o})}),[MV,jV]=Gf(xC,{isInside:!1}),LV=MM("TooltipContent"),TC=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=Kf(tl,n),u=gw(n),{onClose:h}=l;return m.useEffect(()=>(document.addEventListener(mE,h),()=>document.removeEventListener(mE,h)),[h]),m.useEffect(()=>{if(l.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),d.jsx(ml,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(pw,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(LV,{children:r}),d.jsx(MV,{scope:n,isInside:!0,children:d.jsx(rj,{id:l.contentId,role:"tooltip",children:s||r})})]})})});EC.displayName=tl;var bC="TooltipArrow",FV=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=gw(n);return jV(bC,n).isInside?null:d.jsx(mw,{...s,...r,ref:e})});FV.displayName=bC;function VV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function UV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function $V(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function BV(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],u=a.x,h=a.y,f=l.x,p=l.y;h>r!=p>r&&n<(f-u)*(r-h)/(p-h)+u&&(s=!s)}return s}function zV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),WV(e)}function WV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var HV=_C,SC=EC;const qV=HV,GV=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(SC,{ref:r,sideOffset:e,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));GV.displayName=SC.displayName;var Qf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},KV={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ao,sv,kb,QV=(kb=class{constructor(){Ve(this,ao,KV);Ve(this,sv,!1)}setTimeoutProvider(t){be(this,ao,t)}setTimeout(t,e){return $(this,ao).setTimeout(t,e)}clearTimeout(t){$(this,ao).clearTimeout(t)}setInterval(t,e){return $(this,ao).setInterval(t,e)}clearInterval(t){$(this,ao).clearInterval(t)}},ao=new WeakMap,sv=new WeakMap,kb),dy=new QV;function YV(t){setTimeout(t,0)}var Yf=typeof window>"u"||"Deno"in globalThis;function vr(){}function XV(t,e){return typeof t=="function"?t(e):t}function JV(t){return typeof t=="number"&&t>=0&&t!==1/0}function ZV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hy(t,e){return typeof t=="function"?t(e):t}function e4(t,e){return typeof t=="function"?t(e):t}function gE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==yw(i,e.options))return!1}else if(!Qc(e.queryKey,i))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function yE(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Kc(e.options.mutationKey)!==Kc(o))return!1}else if(!Qc(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function yw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kc)(t)}function Kc(t){return JSON.stringify(t,(e,n)=>fy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Qc(t[n],e[n])):!1}var t4=Object.prototype.hasOwnProperty;function IC(t,e){if(t===e)return t;const n=vE(t)&&vE(e);if(!n&&!(fy(t)&&fy(e)))return e;const s=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),i=o.length,a=n?new Array(i):{};let l=0;for(let u=0;u<i;u++){const h=n?u:o[u],f=t[h],p=e[h];if(f===p){a[h]=f,(n?u<s:t4.call(t,h))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[h]=p;continue}const y=IC(f,p);a[h]=y,y===f&&l++}return s===i&&l===s?t:a}function vE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fy(t){if(!wE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wE(t){return Object.prototype.toString.call(t)==="[object Object]"}function n4(t){return new Promise(e=>{dy.setTimeout(e,t)})}function r4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?IC(t,e):e}function s4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function o4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vw=Symbol();function CC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var di,lo,Va,Nb,i4=(Nb=class extends Qf{constructor(){super();Ve(this,di);Ve(this,lo);Ve(this,Va);be(this,Va,e=>{if(!Yf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,lo)||this.setEventListener($(this,Va))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,lo))==null||e.call(this),be(this,lo,void 0))}setEventListener(e){var n;be(this,Va,e),(n=$(this,lo))==null||n.call(this),be(this,lo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,di)!==e&&(be(this,di,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,di)=="boolean"?$(this,di):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},di=new WeakMap,lo=new WeakMap,Va=new WeakMap,Nb),RC=new i4;function a4(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var l4=YV;function c4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=l4;const o=a=>{e?t.push(a):s(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var xn=c4(),Ua,co,$a,Db,u4=(Db=class extends Qf{constructor(){super();Ve(this,Ua,!0);Ve(this,co);Ve(this,$a);be(this,$a,e=>{if(!Yf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,co)||this.setEventListener($(this,$a))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,co))==null||e.call(this),be(this,co,void 0))}setEventListener(e){var n;be(this,$a,e),(n=$(this,co))==null||n.call(this),be(this,co,e(this.setOnline.bind(this)))}setOnline(e){$(this,Ua)!==e&&(be(this,Ua,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Ua)}},Ua=new WeakMap,co=new WeakMap,$a=new WeakMap,Db),Wh=new u4;function d4(t){return Math.min(1e3*2**t,3e4)}function AC(t){return(t??"online")==="online"?Wh.isOnline():!0}var py=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function PC(t){let e=!1,n=0,r;const s=a4(),o=()=>s.status!=="pending",i=v=>{var x;if(!o()){const E=new py(v);p(E),(x=t.onCancel)==null||x.call(t,E)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>RC.isFocused()&&(t.networkMode==="always"||Wh.isOnline())&&t.canRun(),h=()=>AC(t.networkMode)&&t.canRun(),f=v=>{o()||(r==null||r(),s.resolve(v))},p=v=>{o()||(r==null||r(),s.reject(v))},y=()=>new Promise(v=>{var x;r=E=>{(o()||u())&&v(E)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;r=void 0,o()||(v=t.onContinue)==null||v.call(t)}),b=()=>{if(o())return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(f).catch(E=>{var M;if(o())return;const w=t.retry??(Yf?0:3),T=t.retryDelay??d4,k=typeof T=="function"?T(n,E):T,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!D){p(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),n4(k).then(()=>u()?void 0:y()).then(()=>{e?p(E):b()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?b():y().then(b),s)}}var hi,Ob,kC=(Ob=class{constructor(){Ve(this,hi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JV(this.gcTime)&&be(this,hi,dy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yf?1/0:5*60*1e3))}clearGcTimeout(){$(this,hi)&&(dy.clearTimeout($(this,hi)),be(this,hi,void 0))}},hi=new WeakMap,Ob),fi,Ba,er,pi,Vt,hu,mi,wr,as,Mb,h4=(Mb=class extends kC{constructor(n){super();Ve(this,wr);Ve(this,fi);Ve(this,Ba);Ve(this,er);Ve(this,pi);Ve(this,Vt);Ve(this,hu);Ve(this,mi);be(this,mi,!1),be(this,hu,n.defaultOptions),this.setOptions(n.options),this.observers=[],be(this,pi,n.client),be(this,er,$(this,pi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,be(this,fi,xE(this.options)),this.state=n.state??$(this,fi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Vt))==null?void 0:n.promise}setOptions(n){if(this.options={...$(this,hu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=xE(this.options);r.data!==void 0&&(this.setState(_E(r.data,r.dataUpdatedAt)),be(this,fi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,er).remove(this)}setData(n,r){const s=r4(this.state.data,n,this.options);return on(this,wr,as).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){on(this,wr,as).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,o;const r=(s=$(this,Vt))==null?void 0:s.promise;return(o=$(this,Vt))==null||o.cancel(n),r?r.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,fi))}isActive(){return this.observers.some(n=>e4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>hy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!ZV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Vt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Vt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,er).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Vt)&&($(this,mi)?$(this,Vt).cancel({revert:!0}):$(this,Vt).cancelRetry()),this.scheduleGc()),$(this,er).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||on(this,wr,as).call(this,{type:"invalidate"})}async fetch(n,r){var u,h,f,p,y,b,v,x,E,w,T,k;if(this.state.fetchStatus!=="idle"&&((u=$(this,Vt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Vt))return $(this,Vt).continueRetry(),$(this,Vt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const D=this.observers.find(M=>M.options.queryFn);D&&this.setOptions(D.options)}const s=new AbortController,o=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(be(this,mi,!0),s.signal)})},i=()=>{const D=CC(this.options,r),I=(()=>{const S={client:$(this,pi),queryKey:this.queryKey,meta:this.meta};return o(S),S})();return be(this,mi,!1),this.options.persister?this.options.persister(D,I,this):D(I)},l=(()=>{const D={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,pi),state:this.state,fetchFn:i};return o(D),D})();(h=this.options.behavior)==null||h.onFetch(l,this),be(this,Ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&on(this,wr,as).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),be(this,Vt,PC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:D=>{D instanceof py&&D.revert&&this.setState({...$(this,Ba),fetchStatus:"idle"}),s.abort()},onFail:(D,M)=>{on(this,wr,as).call(this,{type:"failed",failureCount:D,error:M})},onPause:()=>{on(this,wr,as).call(this,{type:"pause"})},onContinue:()=>{on(this,wr,as).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const D=await $(this,Vt).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(b=(y=$(this,er).config).onSuccess)==null||b.call(y,D,this),(x=(v=$(this,er).config).onSettled)==null||x.call(v,D,this.state.error,this),D}catch(D){if(D instanceof py){if(D.silent)return $(this,Vt).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw on(this,wr,as).call(this,{type:"error",error:D}),(w=(E=$(this,er).config).onError)==null||w.call(E,D,this),(k=(T=$(this,er).config).onSettled)==null||k.call(T,this.state.data,D,this),D}finally{this.scheduleGc()}}},fi=new WeakMap,Ba=new WeakMap,er=new WeakMap,pi=new WeakMap,Vt=new WeakMap,hu=new WeakMap,mi=new WeakMap,wr=new WeakSet,as=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...f4(s.data,this.options),fetchMeta:n.meta??null};case"success":const o={...s,..._E(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,Ba,n.manual?o:void 0),o;case"error":const i=n.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),xn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,er).notify({query:this,type:"updated",action:n})})},Mb);function f4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _E(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function EE(t){return{onFetch:(e,n)=>{var h,f,p,y,b;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((y=e.state.data)==null?void 0:y.pages)||[],i=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=CC(e.options,e.fetchOptions),w=async(T,k,D)=>{if(v)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const I=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};return x(C),C})(),S=await E(I),{maxPages:R}=e.options,P=D?o4:s4;return{pages:P(T.pages,S,R),pageParams:P(T.pageParams,k,R)}};if(s&&o.length){const T=s==="backward",k=T?p4:TE,D={pages:o,pageParams:i},M=k(r,D);a=await w(D,M,T)}else{const T=t??o.length;do{const k=l===0?i[0]??r.initialPageParam:TE(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function TE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function p4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var fu,Fr,wn,gi,Vr,Zs,jb,m4=(jb=class extends kC{constructor(n){super();Ve(this,Vr);Ve(this,fu);Ve(this,Fr);Ve(this,wn);Ve(this,gi);be(this,fu,n.client),this.mutationId=n.mutationId,be(this,wn,n.mutationCache),be(this,Fr,[]),this.state=n.state||g4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,Fr).includes(n)||($(this,Fr).push(n),this.clearGcTimeout(),$(this,wn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){be(this,Fr,$(this,Fr).filter(r=>r!==n)),this.scheduleGc(),$(this,wn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():$(this,wn).remove(this))}continue(){var n;return((n=$(this,gi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,u,h,f,p,y,b,v,x,E,w,T,k,D,M,I,S,R,P;const r=()=>{on(this,Vr,Zs).call(this,{type:"continue"})},s={client:$(this,fu),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,gi,PC({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{on(this,Vr,Zs).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{on(this,Vr,Zs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,wn).canRun(this)}));const o=this.state.status==="pending",i=!$(this,gi).canStart();try{if(o)r();else{on(this,Vr,Zs).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=$(this,wn).config).onMutate)==null?void 0:l.call(a,n,this,s));const O=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,n,s));O!==this.state.context&&on(this,Vr,Zs).call(this,{type:"pending",context:O,variables:n,isPaused:i})}const C=await $(this,gi).start();return await((p=(f=$(this,wn).config).onSuccess)==null?void 0:p.call(f,C,n,this.state.context,this,s)),await((b=(y=this.options).onSuccess)==null?void 0:b.call(y,C,n,this.state.context,s)),await((x=(v=$(this,wn).config).onSettled)==null?void 0:x.call(v,C,null,this.state.variables,this.state.context,this,s)),await((w=(E=this.options).onSettled)==null?void 0:w.call(E,C,null,n,this.state.context,s)),on(this,Vr,Zs).call(this,{type:"success",data:C}),C}catch(C){try{throw await((k=(T=$(this,wn).config).onError)==null?void 0:k.call(T,C,n,this.state.context,this,s)),await((M=(D=this.options).onError)==null?void 0:M.call(D,C,n,this.state.context,s)),await((S=(I=$(this,wn).config).onSettled)==null?void 0:S.call(I,void 0,C,this.state.variables,this.state.context,this,s)),await((P=(R=this.options).onSettled)==null?void 0:P.call(R,void 0,C,n,this.state.context,s)),C}finally{on(this,Vr,Zs).call(this,{type:"error",error:C})}}finally{$(this,wn).runNext(this)}}},fu=new WeakMap,Fr=new WeakMap,wn=new WeakMap,gi=new WeakMap,Vr=new WeakSet,Zs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xn.batch(()=>{$(this,Fr).forEach(s=>{s.onMutationUpdate(n)}),$(this,wn).notify({mutation:this,type:"updated",action:n})})},jb);function g4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hs,_r,pu,Lb,y4=(Lb=class extends Qf{constructor(e={}){super();Ve(this,hs);Ve(this,_r);Ve(this,pu);this.config=e,be(this,hs,new Set),be(this,_r,new Map),be(this,pu,0)}build(e,n,r){const s=new m4({client:e,mutationCache:this,mutationId:++ld(this,pu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){$(this,hs).add(e);const n=Pd(e);if(typeof n=="string"){const r=$(this,_r).get(n);r?r.push(e):$(this,_r).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,hs).delete(e)){const n=Pd(e);if(typeof n=="string"){const r=$(this,_r).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&$(this,_r).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Pd(e);if(typeof n=="string"){const r=$(this,_r).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Pd(e);if(typeof n=="string"){const s=(r=$(this,_r).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xn.batch(()=>{$(this,hs).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,hs).clear(),$(this,_r).clear()})}getAll(){return Array.from($(this,hs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yE(n,r))}findAll(e={}){return this.getAll().filter(n=>yE(e,n))}notify(e){xn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return xn.batch(()=>Promise.all(e.map(n=>n.continue().catch(vr))))}},hs=new WeakMap,_r=new WeakMap,pu=new WeakMap,Lb);function Pd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ur,Fb,v4=(Fb=class extends Qf{constructor(e={}){super();Ve(this,Ur);this.config=e,be(this,Ur,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??yw(s,n);let i=this.get(o);return i||(i=new h4({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){$(this,Ur).has(e.queryHash)||($(this,Ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Ur).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Ur).get(e)}getAll(){return[...$(this,Ur).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gE(e,r)):n}notify(e){xn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ur=new WeakMap,Fb),xt,uo,ho,za,Wa,fo,Ha,qa,Vb,w4=(Vb=class{constructor(t={}){Ve(this,xt);Ve(this,uo);Ve(this,ho);Ve(this,za);Ve(this,Wa);Ve(this,fo);Ve(this,Ha);Ve(this,qa);be(this,xt,t.queryCache||new v4),be(this,uo,t.mutationCache||new y4),be(this,ho,t.defaultOptions||{}),be(this,za,new Map),be(this,Wa,new Map),be(this,fo,0)}mount(){ld(this,fo)._++,$(this,fo)===1&&(be(this,Ha,RC.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,xt).onFocus())})),be(this,qa,Wh.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,xt).onOnline())})))}unmount(){var t,e;ld(this,fo)._--,$(this,fo)===0&&((t=$(this,Ha))==null||t.call(this),be(this,Ha,void 0),(e=$(this,qa))==null||e.call(this),be(this,qa,void 0))}isFetching(t){return $(this,xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,uo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,xt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(hy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,xt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,xt).get(r.queryHash),o=s==null?void 0:s.state.data,i=XV(e,o);if(i!==void 0)return $(this,xt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return xn.batch(()=>$(this,xt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,xt);xn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,xt);return xn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=xn.batch(()=>$(this,xt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(t,e={}){return xn.batch(()=>($(this,xt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=xn.batch(()=>$(this,xt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(vr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,xt).build(this,e);return n.isStaleByTime(hy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vr).catch(vr)}fetchInfiniteQuery(t){return t.behavior=EE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vr).catch(vr)}ensureInfiniteQueryData(t){return t.behavior=EE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wh.isOnline()?$(this,uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,xt)}getMutationCache(){return $(this,uo)}getDefaultOptions(){return $(this,ho)}setDefaultOptions(t){be(this,ho,t)}setQueryDefaults(t,e){$(this,za).set(Kc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,za).values()],n={};return e.forEach(r=>{Qc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,Wa).set(Kc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,Wa).values()],n={};return e.forEach(r=>{Qc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,ho).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,ho).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,xt).clear(),$(this,uo).clear()}},xt=new WeakMap,uo=new WeakMap,ho=new WeakMap,za=new WeakMap,Wa=new WeakMap,fo=new WeakMap,Ha=new WeakMap,qa=new WeakMap,Vb),_4=m.createContext(void 0),x4=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(_4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}var go;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(go||(go={}));const bE="popstate";function E4(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return my("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:DC(s)}return b4(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T4(){return Math.random().toString(36).substr(2,8)}function SE(t,e){return{usr:t.state,key:t.key,idx:e}}function my(t,e,n,r){return n===void 0&&(n=null),Yc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_l(e):e,{state:n,key:e&&e.key||r||T4()})}function DC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function b4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=go.Pop,l=null,u=h();u==null&&(u=0,i.replaceState(Yc({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function f(){a=go.Pop;let x=h(),E=x==null?null:x-u;u=x,l&&l({action:a,location:v.location,delta:E})}function p(x,E){a=go.Push;let w=my(v.location,x,E);u=h()+1;let T=SE(w,u),k=v.createHref(w);try{i.pushState(T,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}o&&l&&l({action:a,location:v.location,delta:1})}function y(x,E){a=go.Replace;let w=my(v.location,x,E);u=h();let T=SE(w,u),k=v.createHref(w);i.replaceState(T,"",k),o&&l&&l({action:a,location:v.location,delta:0})}function b(x){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:DC(x);return w=w.replace(/ $/,"%20"),Dt(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let v={get action(){return a},get location(){return t(s,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(bE,f),l=x,()=>{s.removeEventListener(bE,f),l=null}},createHref(x){return e(s,x)},createURL:b,encodeLocation(x){let E=b(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:y,go(x){return i.go(x)}};return v}var IE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IE||(IE={}));function S4(t,e,n){return n===void 0&&(n="/"),I4(t,e,n)}function I4(t,e,n,r){let s=typeof e=="string"?_l(e):e,o=jC(s.pathname||"/",n);if(o==null)return null;let i=OC(t);C4(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=V4(o);a=j4(i[l],u)}return a}function OC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Dt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wi([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(Dt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),OC(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:O4(u,o.index),routesMeta:h})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of MC(o.path))s(o,i,l)}),e}function MC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=MC(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function C4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:M4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R4=/^:[\w-]+$/,A4=3,P4=2,k4=1,N4=10,D4=-2,CE=t=>t==="*";function O4(t,e){let n=t.split("/"),r=n.length;return n.some(CE)&&(r+=D4),e&&(r+=P4),n.filter(s=>!CE(s)).reduce((s,o)=>s+(R4.test(o)?A4:o===""?k4:N4),r)}function M4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function j4(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=L4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:wi([o,f.pathname]),pathnameBase:z4(wi([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=wi([o,f.pathnameBase]))}return i}function L4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let v=a[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const b=a[f];return y&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function F4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),NC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function V4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_l(t):t;return{pathname:n?n.startsWith("/")?n:$4(n,e):e,search:W4(r),hash:H4(s)}}function $4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LC(t,e){let n=B4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_l(t):(s=Yc({},t),Dt(!s.pathname||!s.pathname.includes("?"),Mm("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),Mm("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),Mm("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=e.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=U4(s,a),u=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),z4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function q4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VC=["post","put","patch","delete"];new Set(VC);const G4=["get",...VC];new Set(G4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}const ww=m.createContext(null),K4=m.createContext(null),Tu=m.createContext(null),Xf=m.createContext(null),Bi=m.createContext({outlet:null,matches:[],isDataRoute:!1}),UC=m.createContext(null);function bu(){return m.useContext(Xf)!=null}function zi(){return bu()||Dt(!1),m.useContext(Xf).location}function $C(t){m.useContext(Tu).static||m.useLayoutEffect(t)}function ur(){let{isDataRoute:t}=m.useContext(Bi);return t?aU():Q4()}function Q4(){bu()||Dt(!1);let t=m.useContext(ww),{basename:e,future:n,navigator:r}=m.useContext(Tu),{matches:s}=m.useContext(Bi),{pathname:o}=zi(),i=JSON.stringify(LC(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return $C(()=>{a.current=!0}),m.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=FC(u,JSON.parse(i),o,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:wi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,i,o,t])}function Y4(t,e){return X4(t,e)}function X4(t,e,n,r){bu()||Dt(!1);let{navigator:s}=m.useContext(Tu),{matches:o}=m.useContext(Bi),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=zi(),h;if(e){var f;let x=typeof e=="string"?_l(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Dt(!1),h=x}else h=u;let p=h.pathname||"/",y=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=S4(t,{pathname:y}),v=nU(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:wi([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:wi([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&v?m.createElement(Xf.Provider,{value:{location:Xc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:go.Pop}},v):v}function J4(){let t=iU(),e=q4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const Z4=m.createElement(J4,null);class eU extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Bi.Provider,{value:this.props.routeContext},m.createElement(UC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tU(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(ww);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Bi.Provider,{value:e},r)}function nU(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Dt(!1),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:y}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let y,b=!1,v=null,x=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||Z4,l&&(u<0&&p===0?(lU("route-fallback"),b=!0,x=null):u===p&&(b=!0,x=f.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,p+1)),w=()=>{let T;return y?T=v:b?T=x:f.route.Component?T=m.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,m.createElement(tU,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(eU,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var BC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BC||{}),zC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zC||{});function rU(t){let e=m.useContext(ww);return e||Dt(!1),e}function sU(t){let e=m.useContext(K4);return e||Dt(!1),e}function oU(t){let e=m.useContext(Bi);return e||Dt(!1),e}function WC(t){let e=oU(),n=e.matches[e.matches.length-1];return n.route.id||Dt(!1),n.route.id}function iU(){var t;let e=m.useContext(UC),n=sU(),r=WC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function aU(){let{router:t}=rU(BC.UseNavigateStable),e=WC(zC.UseNavigateStable),n=m.useRef(!1);return $C(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xc({fromRouteId:e},o)))},[t,e])}const RE={};function lU(t,e,n){RE[t]||(RE[t]=!0)}function cU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function AE(t){let{to:e,replace:n,state:r,relative:s}=t;bu()||Dt(!1);let{future:o,static:i}=m.useContext(Tu),{matches:a}=m.useContext(Bi),{pathname:l}=zi(),u=ur(),h=FC(e,LC(a,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function eo(t){Dt(!1)}function uU(t){let{basename:e="/",children:n=null,location:r,navigationType:s=go.Pop,navigator:o,static:i=!1,future:a}=t;bu()&&Dt(!1);let l=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:o,static:i,future:Xc({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=_l(r));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:b="default"}=r,v=m.useMemo(()=>{let x=jC(h,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:y,key:b},navigationType:s}},[l,h,f,p,y,b,s]);return v==null?null:m.createElement(Tu.Provider,{value:u},m.createElement(Xf.Provider,{children:n,value:v}))}function dU(t){let{children:e,location:n}=t;return Y4(gy(e),n)}new Promise(()=>{});function gy(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let o=[...e,s];if(r.type===m.Fragment){n.push.apply(n,gy(r.props.children,o));return}r.type!==eo&&Dt(!1),!r.props.index||!r.props.children||Dt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=gy(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function hU(t,e){let n=yy(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const fU="6";try{window.__reactRouterVersion=fU}catch{}const pU="startTransition",PE=cv[pU];function mU(t){let{basename:e,children:n,future:r,window:s}=t,o=m.useRef();o.current==null&&(o.current=E4({window:s,v5Compat:!0}));let i=o.current,[a,l]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},h=m.useCallback(f=>{u&&PE?PE(()=>l(f)):l(f)},[l,u]);return m.useLayoutEffect(()=>i.listen(h),[i,h]),m.useEffect(()=>cU(r),[r]),m.createElement(uU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var kE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kE||(kE={}));var NE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(NE||(NE={}));function HC(t){let e=m.useRef(yy(t)),n=m.useRef(!1),r=zi(),s=m.useMemo(()=>hU(r.search,n.current?null:e.current),[r.search]),o=ur(),i=m.useCallback((a,l)=>{const u=yy(typeof a=="function"?a(s):a);n.current=!0,o("?"+u,l)},[o,s]);return[s,i]}const gU="modulepreload",yU=function(t){return"/"+t},DE={},ni=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=yU(l),l in DE)return;DE[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":gU,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var OE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},GC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;l||(y=64,i||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||f==null)throw new wU;const p=o<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _U=function(t){const e=qC(t);return GC.encodeByteArray(e,!0)},Hh=function(t){return _U(t).replace(/\./g,"")},KC=function(t){try{return GC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=()=>xU().__FIREBASE_DEFAULTS__,TU=()=>{if(typeof process>"u"||typeof OE>"u")return;const t=OE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KC(t[1]);return e&&JSON.parse(e)},Jf=()=>{try{return EU()||TU()||bU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QC=t=>{var e,n;return(n=(e=Jf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_w=t=>{const e=QC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YC=()=>{var t;return(t=Jf())===null||t===void 0?void 0:t.config},XC=t=>{var e;return(e=Jf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hh(JSON.stringify(n)),Hh(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function CU(){var t;const e=(t=Jf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kU(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NU(){return!CU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DU(){try{return typeof indexedDB=="object"}catch{return!1}}function OU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MU,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?jU(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new dr(s,a,r)}}function jU(t,e){return t.replace(LU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const LU=/\{\$([^}]+)}/g;function FU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(ME(o)&&ME(i)){if(!qh(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ME(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VU(t,e){const n=new UU(t,e);return n.subscribe.bind(n)}class UU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$U(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jm),s.error===void 0&&(s.error=jm),s.complete===void 0&&(s.complete=jm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $U(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WU(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zU(t){return t===ri?void 0:t}function WU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const qU={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},GU=Ue.INFO,KU={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},QU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=KU[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xw{constructor(e){this.name=e,this._logLevel=GU,this._logHandler=QU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const YU=(t,e)=>e.some(n=>t instanceof n);let jE,LE;function XU(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JU(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZC=new WeakMap,vy=new WeakMap,eR=new WeakMap,Lm=new WeakMap,Ew=new WeakMap;function ZU(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Ro(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&ZC.set(n,t)}).catch(()=>{}),Ew.set(e,t),e}function e5(t){if(vy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});vy.set(t,e)}let wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t5(t){wy=t(wy)}function n5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fm(this),e,...n);return eR.set(r,e.sort?e.sort():[e]),Ro(r)}:JU().includes(t)?function(...e){return t.apply(Fm(this),e),Ro(ZC.get(this))}:function(...e){return Ro(t.apply(Fm(this),e))}}function r5(t){return typeof t=="function"?n5(t):(t instanceof IDBTransaction&&e5(t),YU(t,XU())?new Proxy(t,wy):t)}function Ro(t){if(t instanceof IDBRequest)return ZU(t);if(Lm.has(t))return Lm.get(t);const e=r5(t);return e!==t&&(Lm.set(t,e),Ew.set(e,t)),e}const Fm=t=>Ew.get(t);function s5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Ro(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Ro(i.result),l.oldVersion,l.newVersion,Ro(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const o5=["get","getKey","getAll","getAllKeys","count"],i5=["put","add","delete","clear"],Vm=new Map;function FE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=i5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||o5.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Vm.set(e,o),o}t5(t=>({...t,get:(e,n,r)=>FE(e,n)||t.get(e,n,r),has:(e,n)=>!!FE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _y="@firebase/app",VE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new xw("@firebase/app"),c5="@firebase/app-compat",u5="@firebase/analytics-compat",d5="@firebase/analytics",h5="@firebase/app-check-compat",f5="@firebase/app-check",p5="@firebase/auth",m5="@firebase/auth-compat",g5="@firebase/database",y5="@firebase/data-connect",v5="@firebase/database-compat",w5="@firebase/functions",_5="@firebase/functions-compat",x5="@firebase/installations",E5="@firebase/installations-compat",T5="@firebase/messaging",b5="@firebase/messaging-compat",S5="@firebase/performance",I5="@firebase/performance-compat",C5="@firebase/remote-config",R5="@firebase/remote-config-compat",A5="@firebase/storage",P5="@firebase/storage-compat",k5="@firebase/firestore",N5="@firebase/vertexai-preview",D5="@firebase/firestore-compat",O5="firebase",M5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="[DEFAULT]",j5={[_y]:"fire-core",[c5]:"fire-core-compat",[d5]:"fire-analytics",[u5]:"fire-analytics-compat",[f5]:"fire-app-check",[h5]:"fire-app-check-compat",[p5]:"fire-auth",[m5]:"fire-auth-compat",[g5]:"fire-rtdb",[y5]:"fire-data-connect",[v5]:"fire-rtdb-compat",[w5]:"fire-fn",[_5]:"fire-fn-compat",[x5]:"fire-iid",[E5]:"fire-iid-compat",[T5]:"fire-fcm",[b5]:"fire-fcm-compat",[S5]:"fire-perf",[I5]:"fire-perf-compat",[C5]:"fire-rc",[R5]:"fire-rc-compat",[A5]:"fire-gcs",[P5]:"fire-gcs-compat",[k5]:"fire-fst",[D5]:"fire-fst-compat",[N5]:"fire-vertex","fire-js":"fire-js",[O5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,tR=new Map,Kh=new Map;function xy(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ms(t){const e=t.name;if(Kh.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Kh.set(e,t);for(const n of Jc.values())xy(n,t);for(const n of tR.values())xy(n,t);return!0}function xl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new Su("app","Firebase",L5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=M5;function Tw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ao.create("bad-app-name",{appName:String(s)});if(n||(n=YC()),!n)throw Ao.create("no-options");const o=Jc.get(s);if(o){if(qh(n,o.options)&&qh(r,o.config))return o;throw Ao.create("duplicate-app",{appName:s})}const i=new HU(s);for(const l of Kh.values())i.addComponent(l);const a=new F5(n,r,i);return Jc.set(s,a),a}function Cu(t=Gh){const e=Jc.get(t);if(!e&&t===Gh&&YC())return Tw();if(!e)throw Ao.create("no-app",{appName:t});return e}function Gn(t,e,n){var r;let s=(r=j5[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(a.join(" "));return}Ms(new Ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="firebase-heartbeat-database",U5=1,Zc="firebase-heartbeat-store";let Um=null;function nR(){return Um||(Um=s5(V5,U5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),Um}async function $5(t){try{const n=(await nR()).transaction(Zc),r=await n.objectStore(Zc).get(rR(t));return await n.done,r}catch(e){if(e instanceof dr)Os.warn(e.message);else{const n=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function UE(t,e){try{const r=(await nR()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,rR(t)),await r.done}catch(n){if(n instanceof dr)Os.warn(n.message);else{const r=Ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function rR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=1024,z5=30*24*60*60*1e3;class W5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$E();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=z5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$E(),{heartbeatsToSend:r,unsentEntries:s}=H5(this._heartbeatsCache.heartbeats),o=Hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Os.warn(n),""}}}function $E(){return new Date().toISOString().substring(0,10)}function H5(t,e=B5){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),BE(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),BE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DU()?OU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return UE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return UE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function BE(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){Ms(new Ds("platform-logger",e=>new a5(e),"PRIVATE")),Ms(new Ds("heartbeat",e=>new W5(e),"PRIVATE")),Gn(_y,VE,t),Gn(_y,VE,"esm2017"),Gn("fire-js","")}G5("");var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,sR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function R(){}R.prototype=S.prototype,I.D=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(P,C,O){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return S.prototype[C].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,R){R||(R=0);var P=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)P[C]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(C=0;16>C;++C)P[C]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],C=I.g[2];var O=I.g[3],N=S+(O^R&(C^O))+P[0]+3614090360&4294967295;S=R+(N<<7&4294967295|N>>>25),N=O+(C^S&(R^C))+P[1]+3905402710&4294967295,O=S+(N<<12&4294967295|N>>>20),N=C+(R^O&(S^R))+P[2]+606105819&4294967295,C=O+(N<<17&4294967295|N>>>15),N=R+(S^C&(O^S))+P[3]+3250441966&4294967295,R=C+(N<<22&4294967295|N>>>10),N=S+(O^R&(C^O))+P[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=O+(C^S&(R^C))+P[5]+1200080426&4294967295,O=S+(N<<12&4294967295|N>>>20),N=C+(R^O&(S^R))+P[6]+2821735955&4294967295,C=O+(N<<17&4294967295|N>>>15),N=R+(S^C&(O^S))+P[7]+4249261313&4294967295,R=C+(N<<22&4294967295|N>>>10),N=S+(O^R&(C^O))+P[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=O+(C^S&(R^C))+P[9]+2336552879&4294967295,O=S+(N<<12&4294967295|N>>>20),N=C+(R^O&(S^R))+P[10]+4294925233&4294967295,C=O+(N<<17&4294967295|N>>>15),N=R+(S^C&(O^S))+P[11]+2304563134&4294967295,R=C+(N<<22&4294967295|N>>>10),N=S+(O^R&(C^O))+P[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=O+(C^S&(R^C))+P[13]+4254626195&4294967295,O=S+(N<<12&4294967295|N>>>20),N=C+(R^O&(S^R))+P[14]+2792965006&4294967295,C=O+(N<<17&4294967295|N>>>15),N=R+(S^C&(O^S))+P[15]+1236535329&4294967295,R=C+(N<<22&4294967295|N>>>10),N=S+(C^O&(R^C))+P[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=O+(R^C&(S^R))+P[6]+3225465664&4294967295,O=S+(N<<9&4294967295|N>>>23),N=C+(S^R&(O^S))+P[11]+643717713&4294967295,C=O+(N<<14&4294967295|N>>>18),N=R+(O^S&(C^O))+P[0]+3921069994&4294967295,R=C+(N<<20&4294967295|N>>>12),N=S+(C^O&(R^C))+P[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=O+(R^C&(S^R))+P[10]+38016083&4294967295,O=S+(N<<9&4294967295|N>>>23),N=C+(S^R&(O^S))+P[15]+3634488961&4294967295,C=O+(N<<14&4294967295|N>>>18),N=R+(O^S&(C^O))+P[4]+3889429448&4294967295,R=C+(N<<20&4294967295|N>>>12),N=S+(C^O&(R^C))+P[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=O+(R^C&(S^R))+P[14]+3275163606&4294967295,O=S+(N<<9&4294967295|N>>>23),N=C+(S^R&(O^S))+P[3]+4107603335&4294967295,C=O+(N<<14&4294967295|N>>>18),N=R+(O^S&(C^O))+P[8]+1163531501&4294967295,R=C+(N<<20&4294967295|N>>>12),N=S+(C^O&(R^C))+P[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=O+(R^C&(S^R))+P[2]+4243563512&4294967295,O=S+(N<<9&4294967295|N>>>23),N=C+(S^R&(O^S))+P[7]+1735328473&4294967295,C=O+(N<<14&4294967295|N>>>18),N=R+(O^S&(C^O))+P[12]+2368359562&4294967295,R=C+(N<<20&4294967295|N>>>12),N=S+(R^C^O)+P[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=O+(S^R^C)+P[8]+2272392833&4294967295,O=S+(N<<11&4294967295|N>>>21),N=C+(O^S^R)+P[11]+1839030562&4294967295,C=O+(N<<16&4294967295|N>>>16),N=R+(C^O^S)+P[14]+4259657740&4294967295,R=C+(N<<23&4294967295|N>>>9),N=S+(R^C^O)+P[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=O+(S^R^C)+P[4]+1272893353&4294967295,O=S+(N<<11&4294967295|N>>>21),N=C+(O^S^R)+P[7]+4139469664&4294967295,C=O+(N<<16&4294967295|N>>>16),N=R+(C^O^S)+P[10]+3200236656&4294967295,R=C+(N<<23&4294967295|N>>>9),N=S+(R^C^O)+P[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=O+(S^R^C)+P[0]+3936430074&4294967295,O=S+(N<<11&4294967295|N>>>21),N=C+(O^S^R)+P[3]+3572445317&4294967295,C=O+(N<<16&4294967295|N>>>16),N=R+(C^O^S)+P[6]+76029189&4294967295,R=C+(N<<23&4294967295|N>>>9),N=S+(R^C^O)+P[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=O+(S^R^C)+P[12]+3873151461&4294967295,O=S+(N<<11&4294967295|N>>>21),N=C+(O^S^R)+P[15]+530742520&4294967295,C=O+(N<<16&4294967295|N>>>16),N=R+(C^O^S)+P[2]+3299628645&4294967295,R=C+(N<<23&4294967295|N>>>9),N=S+(C^(R|~O))+P[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=O+(R^(S|~C))+P[7]+1126891415&4294967295,O=S+(N<<10&4294967295|N>>>22),N=C+(S^(O|~R))+P[14]+2878612391&4294967295,C=O+(N<<15&4294967295|N>>>17),N=R+(O^(C|~S))+P[5]+4237533241&4294967295,R=C+(N<<21&4294967295|N>>>11),N=S+(C^(R|~O))+P[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=O+(R^(S|~C))+P[3]+2399980690&4294967295,O=S+(N<<10&4294967295|N>>>22),N=C+(S^(O|~R))+P[10]+4293915773&4294967295,C=O+(N<<15&4294967295|N>>>17),N=R+(O^(C|~S))+P[1]+2240044497&4294967295,R=C+(N<<21&4294967295|N>>>11),N=S+(C^(R|~O))+P[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=O+(R^(S|~C))+P[15]+4264355552&4294967295,O=S+(N<<10&4294967295|N>>>22),N=C+(S^(O|~R))+P[6]+2734768916&4294967295,C=O+(N<<15&4294967295|N>>>17),N=R+(O^(C|~S))+P[13]+1309151649&4294967295,R=C+(N<<21&4294967295|N>>>11),N=S+(C^(R|~O))+P[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=O+(R^(S|~C))+P[11]+3174756917&4294967295,O=S+(N<<10&4294967295|N>>>22),N=C+(S^(O|~R))+P[2]+718787259&4294967295,C=O+(N<<15&4294967295|N>>>17),N=R+(O^(C|~S))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var R=S-this.blockSize,P=this.B,C=this.h,O=0;O<S;){if(C==0)for(;O<=R;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<S;)if(P[C++]=I.charCodeAt(O++),C==this.blockSize){s(this,P),C=0;break}}else for(;O<S;)if(P[C++]=I[O++],C==this.blockSize){s(this,P),C=0;break}}this.h=C,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var R=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=R&255,R/=256;for(this.u(I),I=Array(16),S=R=0;4>S;++S)for(var P=0;32>P;P+=8)I[R++]=this.g[S]>>>P&255;return I};function o(I,S){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function i(I,S){this.h=S;for(var R=[],P=!0,C=I.length-1;0<=C;C--){var O=I[C]|0;P&&O==S||(R[C]=O,P=!1)}this.g=R}var a={};function l(I){return-128<=I&&128>I?o(I,function(S){return new i([S|0],0>S?-1:0)}):new i([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(u(-I));for(var S=[],R=1,P=0;I>=R;P++)S[P]=I/R|0,R*=4294967296;return new i(S,0)}function h(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return x(h(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(S,8)),P=f,C=0;C<I.length;C+=8){var O=Math.min(8,I.length-C),N=parseInt(I.substring(C,C+O),S);8>O?(O=u(Math.pow(S,O)),P=P.j(O).add(u(N))):(P=P.j(R),P=P.add(u(N)))}return P}var f=l(0),p=l(1),y=l(16777216);t=i.prototype,t.m=function(){if(v(this))return-x(this).m();for(var I=0,S=1,R=0;R<this.g.length;R++){var P=this.i(R);I+=(0<=P?P:4294967296+P)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(v(this))return"-"+x(this).toString(I);for(var S=u(Math.pow(I,6)),R=this,P="";;){var C=k(R,S).g;R=E(R,C.j(S));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=C,b(R))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=E(this,I),v(I)?-1:b(I)?0:1};function x(I){for(var S=I.g.length,R=[],P=0;P<S;P++)R[P]=~I.g[P];return new i(R,~I.h).add(p)}t.abs=function(){return v(this)?x(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],P=0,C=0;C<=S;C++){var O=P+(this.i(C)&65535)+(I.i(C)&65535),N=(O>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);P=N>>>16,O&=65535,N&=65535,R[C]=N<<16|O}return new i(R,R[R.length-1]&-2147483648?-1:0)};function E(I,S){return I.add(x(S))}t.j=function(I){if(b(this)||b(I))return f;if(v(this))return v(I)?x(this).j(x(I)):x(x(this).j(I));if(v(I))return x(this.j(x(I)));if(0>this.l(y)&&0>I.l(y))return u(this.m()*I.m());for(var S=this.g.length+I.g.length,R=[],P=0;P<2*S;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var C=0;C<I.g.length;C++){var O=this.i(P)>>>16,N=this.i(P)&65535,U=I.i(C)>>>16,ie=I.i(C)&65535;R[2*P+2*C]+=N*ie,w(R,2*P+2*C),R[2*P+2*C+1]+=O*ie,w(R,2*P+2*C+1),R[2*P+2*C+1]+=N*U,w(R,2*P+2*C+1),R[2*P+2*C+2]+=O*U,w(R,2*P+2*C+2)}for(P=0;P<S;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=S;P<2*S;P++)R[P]=0;return new i(R,0)};function w(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function T(I,S){this.g=I,this.h=S}function k(I,S){if(b(S))throw Error("division by zero");if(b(I))return new T(f,f);if(v(I))return S=k(x(I),S),new T(x(S.g),x(S.h));if(v(S))return S=k(I,x(S)),new T(x(S.g),S.h);if(30<I.g.length){if(v(I)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var R=p,P=S;0>=P.l(I);)R=D(R),P=D(P);var C=M(R,1),O=M(P,1);for(P=M(P,2),R=M(R,2);!b(P);){var N=O.add(P);0>=N.l(I)&&(C=C.add(R),O=N),P=M(P,1),R=M(R,1)}return S=E(I,C.j(S)),new T(C,S)}for(C=f;0<=I.l(S);){for(R=Math.max(1,Math.floor(I.m()/S.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=u(R),N=O.j(S);v(N)||0<N.l(I);)R-=P,O=u(R),N=O.j(S);b(O)&&(O=p),C=C.add(O),I=E(I,N)}return new T(C,I)}t.A=function(I){return k(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)&I.i(P);return new i(R,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)|I.i(P);return new i(R,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],P=0;P<S;P++)R[P]=this.i(P)^I.i(P);return new i(R,this.h^I.h)};function D(I){for(var S=I.g.length+1,R=[],P=0;P<S;P++)R[P]=I.i(P)<<1|I.i(P-1)>>>31;return new i(R,I.h)}function M(I,S){var R=S>>5;S%=32;for(var P=I.g.length-R,C=[],O=0;O<P;O++)C[O]=0<S?I.i(O+R)>>>S|I.i(O+R+1)<<32-S:I.i(O+R);return new i(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sR=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=h,_i=i}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oR,sc,iR,sh,Ey,aR,lR,cR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in _))break e;_=_[L]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function o(c,g){c instanceof String&&(c+="");var _=0,A=!1,L={next:function(){if(!A&&_<c.length){var V=_++;return{value:g(V,c[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(c){return c||function(){return o(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function h(c,g,_){return c.call.apply(c.bind,arguments)}function f(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(g,L)}}return function(){return c.apply(g,arguments)}}function p(c,g,_){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,L,V){for(var re=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)re[rt-2]=arguments[rt];return g.prototype[L].apply(A,re)}}function v(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function x(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(l(A)){const L=c.length||0,V=A.length||0;c.length=L+V;for(let re=0;re<V;re++)c[L+re]=A[re]}else c.push(A)}}class E{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function I(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,g){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)c[_]=A[_];for(let V=0;V<R.length;V++)_=R[V],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function C(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function O(c){a.setTimeout(()=>{throw c},0)}function N(){var c=j;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class U{constructor(){this.h=this.g=null}add(g,_){const A=ie.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new E(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let q,F=!1,j=new U,H=()=>{const c=a.Promise.resolve(void 0);q=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){O(_)}var g=ie;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}F=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};a.addEventListener("test",_,g),a.removeEventListener("test",_,g)}catch{}return c}();function De(c,g){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(D){e:{try{k(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}b(De,le);var $e={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function ke(c,g,_,A,L){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=L,this.key=++Oe,this.da=this.fa=!1}function W(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ee(c){this.src=c,this.g={},this.h=0}ee.prototype.add=function(c,g,_,A,L){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var re=we(c,g,A,L);return-1<re?(g=c[re],_||(g.fa=!1)):(g=new ke(g,this.src,V,!!A,L),g.fa=_,c.push(g)),g};function ce(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],L=Array.prototype.indexOf.call(A,g,void 0),V;(V=0<=L)&&Array.prototype.splice.call(A,L,1),V&&(W(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function we(c,g,_,A){for(var L=0;L<c.length;++L){var V=c[L];if(!V.da&&V.listener==g&&V.capture==!!_&&V.ha==A)return L}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),Rt={};function Lt(c,g,_,A,L){if(Array.isArray(g)){for(var V=0;V<g.length;V++)Lt(c,g[V],_,A,L);return null}return _=tt(_),c&&c[Y]?c.K(g,_,u(A)?!!A.capture:!1,L):Ht(c,g,_,!1,A,L)}function Ht(c,g,_,A,L,V){if(!g)throw Error("Invalid event type");var re=u(L)?!!L.capture:!!L,rt=me(c);if(rt||(c[Fe]=rt=new ee(c)),_=rt.add(g,_,A,re,V),_.proxy)return _;if(A=hr(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)pe||(L=re),L===void 0&&(L=!1),c.addEventListener(g.toString(),A,L);else if(c.attachEvent)c.attachEvent(se(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hr(){function c(_){return g.call(c.src,c.listener,_)}const g=ve;return c}function B(c,g,_,A,L){if(Array.isArray(g))for(var V=0;V<g.length;V++)B(c,g[V],_,A,L);else A=u(A)?!!A.capture:!!A,_=tt(_),c&&c[Y]?(c=c.i,g=String(g).toString(),g in c.g&&(V=c.g[g],_=we(V,_,A,L),-1<_&&(W(V[_]),Array.prototype.splice.call(V,_,1),V.length==0&&(delete c.g[g],c.h--)))):c&&(c=me(c))&&(g=c.g[g.toString()],c=-1,g&&(c=we(g,_,A,L)),(_=-1<c?g[c]:null)&&Z(_))}function Z(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Y])ce(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(se(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=me(g))?(ce(_,c),_.h==0&&(_.src=null,g[Fe]=null)):W(c)}}}function se(c){return c in Rt?Rt[c]:Rt[c]="on"+c}function ve(c,g){if(c.da)c=!0;else{g=new De(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&Z(c),c=_.call(A,g)}return c}function me(c){return c=c[Fe],c instanceof ee?c:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function tt(c){return typeof c=="function"?c:(c[Me]||(c[Me]=function(g){return c.handleEvent(g)}),c[Me])}function Ne(){X.call(this),this.i=new ee(this),this.M=this,this.F=null}b(Ne,X),Ne.prototype[Y]=!0,Ne.prototype.removeEventListener=function(c,g,_,A){B(this,c,g,_,A)};function Be(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new le(g,c);else if(g instanceof le)g.target=g.target||c;else{var L=g;g=new le(A,c),P(g,L)}if(L=!0,_)for(var V=_.length-1;0<=V;V--){var re=g.g=_[V];L=Xn(re,A,!0,g)&&L}if(re=g.g=c,L=Xn(re,A,!0,g)&&L,L=Xn(re,A,!1,g)&&L,_)for(V=0;V<_.length;V++)re=g.g=_[V],L=Xn(re,A,!1,g)&&L}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)W(_[A]);delete c.g[g],c.h--}}this.F=null},Ne.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},Ne.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function Xn(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,V=0;V<g.length;++V){var re=g[V];if(re&&!re.da&&re.capture==_){var rt=re.listener,Kt=re.ha||re.src;re.fa&&ce(c.i,re),L=rt.call(Kt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Ko(c,g,_){if(typeof c=="function")_&&(c=p(c,_));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function Or(c){c.g=Ko(()=>{c.g=null,c.i&&(c.i=!1,Or(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Yi extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Or(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ft(c){X.call(this),this.h=c,this.g={}}b(Ft,X);var ns=[];function Jn(c){M(c.g,function(g,_){this.g.hasOwnProperty(_)&&Z(g)},c),c.g={}}Ft.prototype.N=function(){Ft.aa.N.call(this),Jn(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=a.JSON.stringify,Ws=a.JSON.parse,Bp=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Cl(){}Cl.prototype.h=null;function Rl(c){return c.h||(c.h=c.i())}function Al(){}var Qo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yo(){le.call(this,"d")}b(Yo,le);function Zn(){le.call(this,"c")}b(Zn,le);var rs={},Te=null;function We(){return Te=Te||new Ne}rs.La="serverreachability";function nt(c){le.call(this,rs.La,c)}b(nt,le);function qt(c){const g=We();Be(g,new nt(g))}rs.STAT_EVENT="statevent";function An(c,g){le.call(this,rs.STAT_EVENT,c),this.stat=g}b(An,le);function dt(c){const g=We();Be(g,new An(g,c))}rs.Ma="timingevent";function Mr(c,g){le.call(this,rs.Ma,c),this.size=g}b(Mr,le);function Gt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function P2(c,g,_,A,L,V){c.info(function(){if(c.g)if(V)for(var re="",rt=V.split("&"),Kt=0;Kt<rt.length;Kt++){var qe=rt[Kt].split("=");if(1<qe.length){var rn=qe[0];qe=qe[1];var sn=rn.split("_");re=2<=sn.length&&sn[1]=="type"?re+(rn+"="+qe+"&"):re+(rn+"=redacted&")}}else re=null;else re=V;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+_+`
`+re})}function k2(c,g,_,A,L,V,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+_+`
`+V+" "+re})}function Ji(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+D2(c,_)+(A?" "+A:"")})}function N2(c,g){c.info(function(){return"TIMEOUT: "+g})}Pn.prototype.info=function(){};function D2(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return Xi(_)}catch{return g}}var Ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},K_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zp;function Qu(){}b(Qu,Cl),Qu.prototype.g=function(){return new XMLHttpRequest},Qu.prototype.i=function(){return{}},zp=new Qu;function Hs(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new Ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Q_}function Q_(){this.i=null,this.g="",this.h=!1}var Y_={},Wp={};function Hp(c,g,_){c.L=1,c.v=Zu(ss(g)),c.m=_,c.P=!0,X_(c,null)}function X_(c,g){c.F=Date.now(),Yu(c),c.A=ss(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),d0(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Q_,c.g=A0(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Yi(p(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ns[0]=L.toString()),L=ns);for(var V=0;V<L.length;V++){var re=Lt(_,L[V],A||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),qt(),P2(c.i,c.u,c.A,c.l,c.R,c.m)}Hs.prototype.ca=function(c){c=c.target;const g=this.M;g&&os(c)==3?g.j():this.Y(c)},Hs.prototype.Y=function(c){try{if(c==this.g)e:{const sn=os(this.g);var g=this.g.Ba();const ta=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||v0(this.g)))){this.J||sn!=4||g==7||(g==8||0>=ta?qt(3):qt(2)),qp(this);var _=this.g.Z();this.X=_;t:if(J_(this)){var A=v0(this.g);c="";var L=A.length,V=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xo(this),Pl(this);var re="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(V&&g==L-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,k2(this.i,this.u,this.A,this.l,this.R,sn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Kt=this.g;if((rt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var qe=rt;break t}}qe=null}if(_=qe)Ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gp(this,_);else{this.o=!1,this.s=3,dt(12),Xo(this),Pl(this);break e}}if(this.P){_=!0;let fr;for(;!this.J&&this.C<re.length;)if(fr=O2(this,re),fr==Wp){sn==4&&(this.s=4,dt(14),_=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==Y_){this.s=4,dt(15),Ji(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Ji(this.i,this.l,fr,null),Gp(this,fr);if(J_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||re.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Ji(this.i,this.l,re,"[Invalid Chunked Response]"),Xo(this),Pl(this);else if(0<re.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Zp(rn),rn.M=!0,dt(11))}}else Ji(this.i,this.l,re,null),Gp(this,re);sn==4&&Xo(this),this.o&&!this.J&&(sn==4?S0(this.j,this):(this.o=!1,Yu(this)))}else X2(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Xo(this),Pl(this)}}}catch{}finally{}};function J_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function O2(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?Wp:(_=Number(g.substring(_,A)),isNaN(_)?Y_:(A+=1,A+_>g.length?Wp:(g=g.slice(A,A+_),c.C=A+_,g)))}Hs.prototype.cancel=function(){this.J=!0,Xo(this)};function Yu(c){c.S=Date.now()+c.I,Z_(c,c.I)}function Z_(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gt(p(c.ba,c),g)}function qp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Hs.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(N2(this.i,this.A),this.L!=2&&(qt(),dt(17)),Xo(this),this.s=2,Pl(this)):Z_(this,this.S-c)};function Pl(c){c.j.G==0||c.J||S0(c.j,c)}function Xo(c){qp(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Jn(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Gp(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Kp(_.h,c))){if(!c.K&&Kp(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)od(_),rd(_);else break e;Jp(_),dt(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Gt(p(_.Za,_),6e3));if(1>=n0(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zo(_,11)}else if((c.K||_.g==c)&&od(_),!w(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let qe=L[g];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const rn=qe[3];rn!=null&&(_.la=rn,_.j.info("VER="+_.la));const sn=qe[4];sn!=null&&(_.Aa=sn,_.j.info("SVER="+_.Aa));const ta=qe[5];ta!=null&&typeof ta=="number"&&0<ta&&(A=1.5*ta,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const fr=c.g;if(fr){const ad=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ad){var V=A.h;V.g||ad.indexOf("spdy")==-1&&ad.indexOf("quic")==-1&&ad.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Qp(V,V.h),V.h=null))}if(A.D){const em=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;em&&(A.ya=em,it(A.I,A.D,em))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var re=c;if(A.qa=R0(A,A.J?A.ia:null,A.W),re.K){r0(A.h,re);var rt=re,Kt=A.L;Kt&&(rt.I=Kt),rt.B&&(qp(rt),Yu(rt)),A.g=re}else T0(A);0<_.i.length&&sd(_)}else qe[0]!="stop"&&qe[0]!="close"||Zo(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Zo(_,7):Xp(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}qt(4)}catch{}}var M2=class{constructor(c,g){this.g=c,this.map=g}};function e0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function n0(c){return c.h?1:c.g?c.g.size:0}function Kp(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Qp(c,g){c.g?c.g.add(g):c.h=g}function r0(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}e0.prototype.cancel=function(){if(this.i=s0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function s0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return v(c.i)}function j2(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function L2(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function o0(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=L2(c),A=j2(c),L=A.length,V=0;V<L;V++)g.call(void 0,A[V],_&&_[V],c)}var i0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F2(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),L=null;if(0<=A){var V=c[_].substring(0,A);L=c[_].substring(A+1)}else V=c[_];g(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Jo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jo){this.h=c.h,Xu(this,c.j),this.o=c.o,this.g=c.g,Ju(this,c.s),this.l=c.l;var g=c.i,_=new Dl;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),a0(this,_),this.m=c.m}else c&&(g=String(c).match(i0))?(this.h=!1,Xu(this,g[1]||"",!0),this.o=kl(g[2]||""),this.g=kl(g[3]||"",!0),Ju(this,g[4]),this.l=kl(g[5]||"",!0),a0(this,g[6]||"",!0),this.m=kl(g[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}Jo.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Nl(g,l0,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Nl(g,l0,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nl(_,_.charAt(0)=="/"?$2:U2,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nl(_,z2)),c.join("")};function ss(c){return new Jo(c)}function Xu(c,g,_){c.j=_?kl(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ju(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function a0(c,g,_){g instanceof Dl?(c.i=g,W2(c.i,c.h)):(_||(g=Nl(g,B2)),c.i=new Dl(g,c.h))}function it(c,g,_){c.i.set(g,_)}function Zu(c){return it(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kl(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nl(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,V2),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function V2(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var l0=/[#\/\?@]/g,U2=/[#\?:]/g,$2=/[#\?]/g,B2=/[#\?@]/g,z2=/#/g;function Dl(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function qs(c){c.g||(c.g=new Map,c.h=0,c.i&&F2(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=Dl.prototype,t.add=function(c,g){qs(this),this.i=null,c=Zi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function c0(c,g){qs(c),g=Zi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function u0(c,g){return qs(c),g=Zi(c,g),c.g.has(g)}t.forEach=function(c,g){qs(this),this.g.forEach(function(_,A){_.forEach(function(L){c.call(g,L,A,this)},this)},this)},t.na=function(){qs(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const L=c[A];for(let V=0;V<L.length;V++)_.push(g[A])}return _},t.V=function(c){qs(this);let g=[];if(typeof c=="string")u0(this,c)&&(g=g.concat(this.g.get(Zi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return qs(this),this.i=null,c=Zi(this,c),u0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function d0(c,g,_){c0(c,g),0<_.length&&(c.i=null,c.g.set(Zi(c,g),v(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const V=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var L=V;re[A]!==""&&(L+="="+encodeURIComponent(String(re[A]))),c.push(L)}}return this.i=c.join("&")};function Zi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function W2(c,g){g&&!c.j&&(qs(c),c.i=null,c.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(c0(this,A),d0(this,L,_))},c)),c.j=g}function H2(c,g){const _=new Pn;if(a.Image){const A=new Image;A.onload=y(Gs,_,"TestLoadImage: loaded",!0,g,A),A.onerror=y(Gs,_,"TestLoadImage: error",!1,g,A),A.onabort=y(Gs,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=y(Gs,_,"TestLoadImage: timeout",!1,g,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function q2(c,g){const _=new Pn,A=new AbortController,L=setTimeout(()=>{A.abort(),Gs(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(V=>{clearTimeout(L),V.ok?Gs(_,"TestPingServer: ok",!0,g):Gs(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Gs(_,"TestPingServer: error",!1,g)})}function Gs(c,g,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function G2(){this.g=new Bp}function K2(c,g,_){const A=_||"";try{o0(c,function(L,V){let re=L;u(L)&&(re=Xi(L)),g.push(A+V+"="+encodeURIComponent(re))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function ed(c){this.l=c.Ub||null,this.j=c.eb||!1}b(ed,Cl),ed.prototype.g=function(){return new td(this.l,this.j)},ed.prototype.i=function(c){return function(){return c}}({});function td(c,g){Ne.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(td,Ne),t=td.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Ml(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ol(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;h0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function h0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ol(this):Ml(this),this.readyState==3&&h0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ol(this))},t.Qa=function(c){this.g&&(this.response=c,Ol(this))},t.ga=function(){this.g&&Ol(this)};function Ol(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ml(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Ml(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function f0(c){let g="";return M(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Yp(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=f0(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):it(c,g,_))}function _t(c){Ne.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(_t,Ne);var Q2=/^https?$/i,Y2=["POST","PUT"];t=_t.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zp.g(),this.v=this.o?Rl(this.o):Rl(zp),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(V){p0(this,V);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())_.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Y2,g,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,re]of _)this.g.setRequestHeader(V,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y0(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){p0(this,V)}};function p0(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,m0(c),nd(c)}function m0(c){c.A||(c.A=!0,Be(c,"complete"),Be(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Be(this,"complete"),Be(this,"abort"),nd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nd(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g0(this):this.bb())},t.bb=function(){g0(this)};function g0(c){if(c.h&&typeof i<"u"&&(!c.v[1]||os(c)!=4||c.Z()!=2)){if(c.u&&os(c)==4)Ko(c.Ea,0,c);else if(Be(c,"readystatechange"),os(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=re===0){var L=String(c.D).match(i0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!Q2.test(L?L.toLowerCase():"")}_=A}if(_)Be(c,"complete"),Be(c,"success");else{c.m=6;try{var V=2<os(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",m0(c)}}finally{nd(c)}}}}function nd(c,g){if(c.g){y0(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Be(c,"ready");try{_.onreadystatechange=A}catch{}}}function y0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function os(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ws(g)}};function v0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function X2(c){const g={};c=(c.g&&2<=os(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var _=C(c[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const V=g[L]||[];g[L]=V,V.push(_)}I(g,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jl(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function w0(c){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jl("baseRetryDelayMs",5e3,c),this.cb=jl("retryDelaySeedMs",1e4,c),this.Wa=jl("forwardChannelMaxRetries",2,c),this.wa=jl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new e0(c&&c.concurrentRequestLimit),this.Da=new G2,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w0.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,A){dt(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=R0(this,null,this.W),sd(this)};function Xp(c){if(_0(c),c.G==3){var g=c.U++,_=ss(c.I);if(it(_,"SID",c.K),it(_,"RID",g),it(_,"TYPE","terminate"),Ll(c,_),g=new Hs(c,c.j,g),g.L=2,g.v=Zu(ss(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=g.v,_=!0),_||(g.g=A0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Yu(g)}C0(c)}function rd(c){c.g&&(Zp(c),c.g.cancel(),c.g=null)}function _0(c){rd(c),c.u&&(a.clearTimeout(c.u),c.u=null),od(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sd(c){if(!t0(c.h)&&!c.s){c.s=!0;var g=c.Ga;q||H(),F||(q(),F=!0),j.add(g,c),c.B=0}}function J2(c,g){return n0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gt(p(c.Ga,c,g),I0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Hs(this,this.j,c);let V=this.o;if(this.S&&(V?(V=S(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=E0(this,L,g),_=ss(this.I),it(_,"RID",c),it(_,"CVER",22),this.D&&it(_,"X-HTTP-Session-Id",this.D),Ll(this,_),V&&(this.O?g="headers="+encodeURIComponent(String(f0(V)))+"&"+g:this.m&&Yp(_,this.m,V)),Qp(this.h,L),this.Ua&&it(_,"TYPE","init"),this.P?(it(_,"$req",g),it(_,"SID","null"),L.T=!0,Hp(L,_,null)):Hp(L,_,g),this.G=2}}else this.G==3&&(c?x0(this,c):this.i.length==0||t0(this.h)||x0(this))};function x0(c,g){var _;g?_=g.l:_=c.U++;const A=ss(c.I);it(A,"SID",c.K),it(A,"RID",_),it(A,"AID",c.T),Ll(c,A),c.m&&c.o&&Yp(A,c.m,c.o),_=new Hs(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=E0(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qp(c.h,_),Hp(_,A,g)}function Ll(c,g){c.H&&M(c.H,function(_,A){it(g,A,_)}),c.l&&o0({},function(_,A){it(g,A,_)})}function E0(c,g,_){_=Math.min(c.i.length,_);var A=c.l?p(c.l.Na,c.l,c):null;e:{var L=c.i;let V=-1;for(;;){const re=["count="+_];V==-1?0<_?(V=L[0].g,re.push("ofs="+V)):V=0:re.push("ofs="+V);let rt=!0;for(let Kt=0;Kt<_;Kt++){let qe=L[Kt].g;const rn=L[Kt].map;if(qe-=V,0>qe)V=Math.max(0,L[Kt].g-100),rt=!1;else try{K2(rn,re,"req"+qe+"_")}catch{A&&A(rn)}}if(rt){A=re.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function T0(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;q||H(),F||(q(),F=!0),j.add(g,c),c.v=0}}function Jp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gt(p(c.Fa,c),I0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,b0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gt(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),rd(this),b0(this))};function Zp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function b0(c){c.g=new Hs(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ss(c.qa);it(g,"RID","rpc"),it(g,"SID",c.K),it(g,"AID",c.T),it(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&it(g,"TO",c.ja),it(g,"TYPE","xmlhttp"),Ll(c,g),c.m&&c.o&&Yp(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Zu(ss(g)),_.m=null,_.P=!0,X_(_,c)}t.Za=function(){this.C!=null&&(this.C=null,rd(this),Jp(this),dt(19))};function od(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function S0(c,g){var _=null;if(c.g==g){od(c),Zp(c),c.g=null;var A=2}else if(Kp(c.h,g))_=g.D,r0(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=c.B;A=We(),Be(A,new Mr(A,_)),sd(c)}else T0(c);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&J2(c,g)||A==2&&Jp(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),L){case 1:Zo(c,5);break;case 4:Zo(c,10);break;case 3:Zo(c,6);break;default:Zo(c,2)}}}function I0(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Zo(c,g){if(c.j.info("Error code "+g),g==2){var _=p(c.fb,c),A=c.Xa;const L=!A;A=new Jo(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xu(A,"https"),Zu(A),L?H2(A.toString(),_):q2(A.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(g),C0(c),_0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function C0(c){if(c.G=0,c.ka=[],c.l){const g=s0(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function R0(c,g,_){var A=_ instanceof Jo?ss(_):new Jo(_);if(A.g!="")g&&(A.g=g+"."+A.g),Ju(A,A.s);else{var L=a.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var V=new Jo(null);A&&Xu(V,A),g&&(V.g=g),L&&Ju(V,L),_&&(V.l=_),A=V}return _=c.D,g=c.ya,_&&g&&it(A,_,g),it(A,"VER",c.la),Ll(c,A),A}function A0(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new _t(new ed({eb:_})):new _t(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function P0(){}t=P0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function id(){}id.prototype.g=function(c,g){return new Vn(c,g)};function Vn(c,g){Ne.call(this),this.g=new w0(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!w(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ea(this)}b(Vn,Ne),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Xp(this.g)},Vn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Xi(c),c=_);g.i.push(new M2(g.Ya++,c)),g.G==3&&sd(g)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Xp(this.g),delete this.g,Vn.aa.N.call(this)};function k0(c){Yo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(k0,Yo);function N0(){Zn.call(this),this.status=1}b(N0,Zn);function ea(c){this.g=c}b(ea,P0),ea.prototype.ua=function(){Be(this.g,"a")},ea.prototype.ta=function(c){Be(this.g,new k0(c))},ea.prototype.sa=function(c){Be(this.g,new N0)},ea.prototype.ra=function(){Be(this.g,"b")},id.prototype.createWebChannel=id.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,cR=function(){return new id},lR=function(){return We()},aR=rs,Ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ku.NO_ERROR=0,Ku.TIMEOUT=8,Ku.HTTP_ERROR=6,sh=Ku,K_.COMPLETE="complete",iR=K_,Al.EventType=Qo,Qo.OPEN="a",Qo.CLOSE="b",Qo.ERROR="c",Qo.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,sc=Al,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,oR=_t}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});const WE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new xw("@firebase/firestore");function Kl(){return Pi.logLevel}function he(t,...e){if(Pi.logLevel<=Ue.DEBUG){const n=e.map(bw);Pi.debug(`Firestore (${El}): ${t}`,...n)}}function js(t,...e){if(Pi.logLevel<=Ue.ERROR){const n=e.map(bw);Pi.error(`Firestore (${El}): ${t}`,...n)}}function nl(t,...e){if(Pi.logLevel<=Ue.WARN){const n=e.map(bw);Pi.warn(`Firestore (${El}): ${t}`,...n)}}function bw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: `+t;throw js(e),new Error(e)}function et(t,e){t||Se()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class Q5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y5{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ts,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ts)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new uR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new un(e)}}class X5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class J5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new X5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){et(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new Z5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=t3(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function rl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new jt(0,0))}static max(){return new Ie(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof eu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends eu{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const n3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends eu{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return n3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ae(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ae(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new ae(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ct.fromString(e))}static fromName(e){return new ge(ct.fromString(e).popFirst(5))}static empty(){return new ge(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ct(e.slice()))}}function r3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Mo(s,ge.empty(),e)}function s3(t){return new Mo(t.readTime,t.key,-1)}class Mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mo(Ie.min(),ge.empty(),-1)}static max(){return new Mo(Ie.max(),ge.empty(),-1)}}function o3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==i3)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{i[u]=h,++a,a===o&&r(i)},h=>s(h))}})}static doWhile(e,n){return new G((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function l3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sw.oe=-1;function Zf(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function c3(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Yt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,s,o){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Zt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fR("Invalid base64 string: "+o):o}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const u3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(t){if(et(!!t),typeof t=="string"){let e=0;const n=u3.exec(t);if(et(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cw(t){const e=t.mapValue.fields.__previous_value__;return Iw(e)?Cw(e):e}function tu(t){const e=jo(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,s,o,i,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class nu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd={mapValue:{}};function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iw(t)?4:f3(t)?9007199254740991:h3(t)?10:11:Se()}function Zr(t,e){if(t===e)return!0;const n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=jo(s.timestampValue),a=jo(o.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return ki(s.bytesValue).isEqual(ki(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=It(s.doubleValue),a=It(o.doubleValue);return i===a?Qh(i)===Qh(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},a=o.mapValue.fields||{};if(HE(i)!==HE(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!Zr(i[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function ru(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function sl(t,e){if(t===e)return 0;const n=Ni(t),r=Ni(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(o,i){const a=It(o.integerValue||o.doubleValue),l=It(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return GE(t.timestampValue,e.timestampValue);case 4:return GE(tu(t),tu(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(o,i){const a=ki(o),l=ki(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const a=o.split("/"),l=i.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ge(a[u],l[u]);if(h!==0)return h}return Ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const a=Ge(It(o.latitude),It(i.latitude));return a!==0?a:Ge(It(o.longitude),It(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KE(t.arrayValue,e.arrayValue);case 10:return function(o,i){var a,l,u,h;const f=o.fields||{},p=i.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,b=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=Ge(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:KE(y,b)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===Dd.mapValue&&i===Dd.mapValue)return 0;if(o===Dd.mapValue)return 1;if(i===Dd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=i.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Ge(l[f],h[f]);if(p!==0)return p;const y=sl(a[l[f]],u[h[f]]);if(y!==0)return y}return Ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Se()}}function GE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=jo(t),r=jo(e),s=Ge(n.seconds,r.seconds);return s!==0?s:Ge(n.nanos,r.nanos)}function KE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=sl(n[s],r[s]);if(o)return o}return Ge(n.length,r.length)}function ol(t){return Ty(t)}function Ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Ty(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Ty(n.fields[i])}`;return s+"}"}(t.mapValue):Se()}function QE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function by(t){return!!t&&"integerValue"in t}function Rw(t){return!!t&&"arrayValue"in t}function YE(t){return!!t&&"nullValue"in t}function XE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function h3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function f3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Xt.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=Tc(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];oh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Dn(Tc(this.value))}}function pR(t){const e=[];return Wi(t.fields,(n,r)=>{const s=new Xt([n]);if(oh(r)){const o=pR(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,Ie.min(),Ie.min(),Ie.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,s){return new hn(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new hn(e,2,n,Ie.min(),Ie.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Ie.min(),Ie.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function JE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=ge.comparator(ge.fromName(i.referenceValue),n.key):r=sl(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function p3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{}class Nt extends mR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new g3(e,n,r):n==="array-contains"?new w3(e,r):n==="in"?new _3(e,r):n==="not-in"?new x3(e,r):n==="array-contains-any"?new E3(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y3(e,r):new v3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sl(n,this.value)):n!==null&&Ni(this.value)===Ni(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends mR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ar(e,n)}matches(e){return gR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gR(t){return t.op==="and"}function yR(t){return m3(t)&&gR(t)}function m3(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function Sy(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(yR(t))return t.filters.map(e=>Sy(e)).join(",");{const e=t.filters.map(n=>Sy(n)).join(",");return`${t.op}(${e})`}}function vR(t,e){return t instanceof Nt?function(r,s){return s instanceof Nt&&r.op===s.op&&r.field.isEqual(s.field)&&Zr(r.value,s.value)}(t,e):t instanceof Ar?function(r,s){return s instanceof Ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,a)=>o&&vR(i,s.filters[a]),!0):!1}(t,e):void Se()}function wR(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(wR).join(" ,")+"}"}(t):"Filter"}class g3 extends Nt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class y3 extends Nt{constructor(e,n){super(e,"in",n),this.keys=_R("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v3 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=_R("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _R(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class w3 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rw(n)&&ru(n.arrayValue,this.value)}}class _3 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class x3 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ru(this.value.arrayValue,n)}}class E3 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.ue=null}}function eT(t,e=null,n=[],r=[],s=null,o=null,i=null){return new T3(t,e,n,r,s,o,i)}function Aw(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ol(r)).join(",")),e.ue=n}return e.ue}function Pw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function Iy(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function b3(t,e,n,r,s,o,i,a){return new Tl(t,e,n,r,s,o,i,a)}function ep(t){return new Tl(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xR(t){return t.collectionGroup!==null}function bc(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new Zt(Xt.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new su(o,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new su(Xt.keyField(),r))}return e.ce}function Qr(t){const e=Ce(t);return e.le||(e.le=S3(e,bc(t))),e.le}function S3(t,e){if(t.limitType==="F")return eT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new su(s.field,o)});const n=t.endAt?new Yh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yh(t.startAt.position,t.startAt.inclusive):null;return eT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cy(t,e){const n=t.filters.concat([e]);return new Tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xh(t,e,n){return new Tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tp(t,e){return Pw(Qr(t),Qr(e))&&t.limitType===e.limitType}function ER(t){return`${Aw(Qr(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wR(s)).join(", ")}]`),Zf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ol(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ol(s)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function np(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ge.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of bc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,a,l){const u=JE(i,a,l);return i.inclusive?u<=0:u<0}(r.startAt,bc(r),s)||r.endAt&&!function(i,a,l){const u=JE(i,a,l);return i.inclusive?u>=0:u>0}(r.endAt,bc(r),s))}(t,e)}function I3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TR(t){return(e,n)=>{let r=!1;for(const s of bc(t)){const o=C3(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function C3(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(o,i,a){const l=i.data.field(o),u=a.data.field(o);return l!==null&&u!==null?sl(l,u):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return hR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=new wt(ge.comparator);function Ls(){return R3}const bR=new wt(ge.comparator);function oc(...t){let e=bR;for(const n of t)e=e.insert(n.key,n);return e}function SR(t){let e=bR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return Sc()}function IR(){return Sc()}function Sc(){return new bl(t=>t.toString(),(t,e)=>t.isEqual(e))}const A3=new wt(ge.comparator),P3=new Zt(ge.comparator);function Le(...t){let e=P3;for(const n of t)e=e.add(n);return e}const k3=new Zt(Ge);function N3(){return k3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function CR(t){return{integerValue:""+t}}function D3(t,e){return c3(e)?CR(e):kw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this._=void 0}}function O3(t,e,n){return t instanceof ou?function(s,o){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Iw(o)&&(o=Cw(o)),o&&(i.fields.__previous_value__=o),{mapValue:i}}(n,e):t instanceof iu?AR(t,e):t instanceof au?PR(t,e):function(s,o){const i=RR(s,o),a=nT(i)+nT(s.Pe);return by(i)&&by(s.Pe)?CR(a):kw(s.serializer,a)}(t,e)}function M3(t,e,n){return t instanceof iu?AR(t,e):t instanceof au?PR(t,e):n}function RR(t,e){return t instanceof Jh?function(r){return by(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ou extends rp{}class iu extends rp{constructor(e){super(),this.elements=e}}function AR(t,e){const n=kR(e);for(const r of t.elements)n.some(s=>Zr(s,r))||n.push(r);return{arrayValue:{values:n}}}class au extends rp{constructor(e){super(),this.elements=e}}function PR(t,e){let n=kR(e);for(const r of t.elements)n=n.filter(s=>!Zr(s,r));return{arrayValue:{values:n}}}class Jh extends rp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nT(t){return It(t.integerValue||t.doubleValue)}function kR(t){return Rw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.field=e,this.transform=n}}function L3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof iu&&s instanceof iu||r instanceof au&&s instanceof au?rl(r.elements,s.elements,Zr):r instanceof Jh&&s instanceof Jh?Zr(r.Pe,s.Pe):r instanceof ou&&s instanceof ou}(t.transform,e.transform)}class F3{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sp{}function NR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new op(t.key,bn.none()):new Pu(t.key,t.data,bn.none());{const n=t.data,r=Dn.empty();let s=new Zt(Xt.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new zo(t.key,r,new Wn(s.toArray()),bn.none())}}function V3(t,e,n){t instanceof Pu?function(s,o,i){const a=s.value.clone(),l=sT(s.fieldTransforms,o,i.transformResults);a.setAll(l),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zo?function(s,o,i){if(!ih(s.precondition,o))return void o.convertToUnknownDocument(i.version);const a=sT(s.fieldTransforms,o,i.transformResults),l=o.data;l.setAll(DR(s)),l.setAll(a),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof Pu?function(o,i,a,l){if(!ih(o.precondition,i))return a;const u=o.value.clone(),h=oT(o.fieldTransforms,l,i);return u.setAll(h),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zo?function(o,i,a,l){if(!ih(o.precondition,i))return a;const u=oT(o.fieldTransforms,l,i),h=i.data;return h.setAll(DR(o)),h.setAll(u),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,i,a){return ih(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function U3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=RR(r.transform,s||null);o!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,o))}return n||null}function rT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&rl(r,s,(o,i)=>L3(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends sp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zo extends sp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sT(t,e,n){const r=new Map;et(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,M3(i,a,n[s]))}return r}function oT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,O3(o,i,e))}return r}class op extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $3 extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&V3(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IR();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=NR(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(n,r)=>rT(n,r))&&rl(this.baseMutations,e.baseMutations,(n,r)=>rT(n,r))}}class Nw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){et(e.mutations.length===r.length);let s=function(){return A3}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Nw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function H3(t){switch(t){default:return Se();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function OR(t){if(t===void 0)return js("GRPC error has no .code"),z.UNKNOWN;switch(t){case At.OK:return z.OK;case At.CANCELLED:return z.CANCELLED;case At.UNKNOWN:return z.UNKNOWN;case At.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case At.INTERNAL:return z.INTERNAL;case At.UNAVAILABLE:return z.UNAVAILABLE;case At.UNAUTHENTICATED:return z.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case At.NOT_FOUND:return z.NOT_FOUND;case At.ALREADY_EXISTS:return z.ALREADY_EXISTS;case At.PERMISSION_DENIED:return z.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case At.ABORTED:return z.ABORTED;case At.OUT_OF_RANGE:return z.OUT_OF_RANGE;case At.UNIMPLEMENTED:return z.UNIMPLEMENTED;case At.DATA_LOSS:return z.DATA_LOSS;default:return Se()}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new _i([4294967295,4294967295],0);function iT(t){const e=q3().encode(t),n=new sR;return n.update(e),new Uint8Array(n.digest())}function aT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _i([n,r],0),new _i([s,o],0)]}class Dw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_i.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(_i.fromNumber(r)));return s.compare(G3)===1&&(s=new _i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=iT(e),[r,s]=aT(n);for(let o=0;o<this.hashCount;o++){const i=this.Ee(r,s,o);if(!this.de(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Dw(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.Ie===0)return;const n=iT(e),[r,s]=aT(n);for(let o=0;o<this.hashCount;o++){const i=this.Ee(r,s,o);this.Ae(i)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ip(Ie.min(),s,new wt(Ge),Ls(),Le())}}class ku{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ku(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class MR{constructor(e,n){this.targetId=e,this.me=n}}class jR{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class lT{constructor(){this.fe=0,this.ge=uT(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),n=Le(),r=Le();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new ku(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=uT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class K3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ls(),this.qe=cT(),this.Qe=new wt(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const o=s.target;if(Iy(o))if(r===0){const i=new ge(o.path);this.Ue(n,i,hn.newNoDocument(i,Ie.min()))}else et(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(e),l=a?this.Xe(a,e,i):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,a;try{i=ki(r).toUint8Array()}catch(l){if(l instanceof fR)return nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Dw(i,s,o)}catch(l){return nl(l instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,i)=>{const a=this.Je(i);if(a){if(o.current&&Iy(a.target)){const l=new ge(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,hn.newNoDocument(l,e))}o.be&&(n.set(i,o.ve()),o.Ce())}});let r=Le();this.qe.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,i)=>i.setReadTime(e));const s=new ip(e,n,this.Qe,this.ke,r);return this.ke=Ls(),this.qe=cT(),this.Qe=new wt(Ge),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function cT(){return new wt(ge.comparator)}function uT(){return new wt(ge.comparator)}const Q3={asc:"ASCENDING",desc:"DESCENDING"},Y3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X3={and:"AND",or:"OR"};class J3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ry(t,e){return t.useProto3Json||Zf(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z3(t,e){return Zh(t,e.toTimestamp())}function Yr(t){return et(!!t),Ie.fromTimestamp(function(n){const r=jo(n);return new jt(r.seconds,r.nanos)}(t))}function Ow(t,e){return Ay(t,e).canonicalString()}function Ay(t,e){const n=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FR(t){const e=ct.fromString(t);return et(zR(e)),e}function Py(t,e){return Ow(t.databaseId,e.path)}function $m(t,e){const n=FR(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(UR(n))}function VR(t,e){return Ow(t.databaseId,e)}function e6(t){const e=FR(t);return e.length===4?ct.emptyPath():UR(e)}function ky(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UR(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dT(t,e,n){return{name:Py(t,e),fields:n.value.mapValue.fields}}function t6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(et(h===void 0||typeof h=="string"),nn.fromBase64String(h||"")):(et(h===void 0||h instanceof Buffer||h instanceof Uint8Array),nn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(u){const h=u.code===void 0?z.UNKNOWN:OR(u.code);return new ae(h,u.message||"")}(i);n=new jR(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$m(t,r.document.name),o=Yr(r.document.updateTime),i=r.document.createTime?Yr(r.document.createTime):Ie.min(),a=new Dn({mapValue:{fields:r.document.fields}}),l=hn.newFoundDocument(s,o,i,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new ah(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$m(t,r.document),o=r.readTime?Yr(r.readTime):Ie.min(),i=hn.newNoDocument(s,o),a=r.removedTargetIds||[];n=new ah([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$m(t,r.document),o=r.removedTargetIds||[];n=new ah([],o,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new W3(s,o),a=r.targetId;n=new MR(a,i)}}return n}function n6(t,e){let n;if(e instanceof Pu)n={update:dT(t,e.key,e.value)};else if(e instanceof op)n={delete:Py(t,e.key)};else if(e instanceof zo)n={update:dT(t,e.key,e.data),updateMask:d6(e.fieldMask)};else{if(!(e instanceof $3))return Se();n={verify:Py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const a=i.transform;if(a instanceof ou)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof iu)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof au)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jh)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Z3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se()}(t,e.precondition)),n}function r6(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(s,o){let i=s.updateTime?Yr(s.updateTime):Yr(o);return i.isEqual(Ie.min())&&(i=Yr(o)),new F3(i,s.transformResults||[])}(n,e))):[]}function s6(t,e){return{documents:[VR(t,e.path)]}}function o6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VR(t,s);const o=function(u){if(u.length!==0)return BR(Ar.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:la(p.field),direction:l6(p.dir)}}(h))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Ry(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function i6(t){let e=e6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){et(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const p=$R(f);return p instanceof Ar&&yR(p)?p.getFilters():[p]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(p=>function(b){return new su(ca(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Zf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,y=f.values||[];return new Yh(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,y=f.values||[];return new Yh(y,p)}(n.endAt)),b3(e,s,i,o,a,"F",l,u)}function a6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $R(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ca(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ca(n.unaryFilter.field);return Nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ca(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ca(n.unaryFilter.field);return Nt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(ca(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>$R(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function l6(t){return Q3[t]}function c6(t){return Y3[t]}function u6(t){return X3[t]}function la(t){return{fieldPath:t.canonicalString()}}function ca(t){return Xt.fromServerFormat(t.fieldPath)}function BR(t){return t instanceof Nt?function(n){if(n.op==="=="){if(XE(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(YE(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XE(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(YE(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:c6(n.op),value:n.value}}}(t):t instanceof Ar?function(n){const r=n.getFilters().map(s=>BR(s));return r.length===1?r[0]:{compositeFilter:{op:u6(n.op),filters:r}}}(t):Se()}function d6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,s,o=Ie.min(),i=Ie.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.ct=e}}function f6(t){const e=i6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.un=new m6}addToCollectionParentIndex(e,n){return this.un.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Mo.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class m6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Zt(ct.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Zt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new il(0)}static kn(){return new il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.changes=new bl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ic(r.mutation,s,Wn.empty(),jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const s=ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=oc();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=Ls();const i=Sc(),a=function(){return Sc()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof zo)?o=o.insert(u.key,u):h!==void 0?(i.set(u.key,h.mutation.getFieldMask()),Ic(h.mutation,u,h.mutation.getFieldMask(),jt.now())):i.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>i.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new y6(h,(f=i.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sc();let s=new wt((i,a)=>i-a),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Wn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Le()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=IR();h.forEach(p=>{if(!o.has(p)){const y=NR(n.get(p),r.get(p));y!==null&&f.set(p,y),o=o.add(p)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,f))}return G.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):G.resolve(ci());let a=-1,l=o;return i.next(u=>G.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?G.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Le())).next(h=>({batchId:a,changes:SR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let s=oc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=oc();return this.indexManager.getCollectionParents(e,o).next(a=>G.forEach(a,l=>{const u=function(f,p){return new Tl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,p)=>{i=i.insert(f,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((l,u)=>{const h=u.getKey();i.get(h)===null&&(i=i.insert(h,hn.newInvalidDocument(h)))});let a=oc();return i.forEach((l,u)=>{const h=o.get(l);h!==void 0&&Ic(h.mutation,u,Wn.empty(),jt.now()),np(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return G.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Yr(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:f6(s.bundledQuery),readTime:Yr(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.overlays=new wt(ge.comparator),this.Ir=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return G.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=ci(),o=n.length+1,i=new ge(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new wt((u,h)=>u-h);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=ci(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ci(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return G.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new z3(n,r));let o=this.Ir.get(n);o===void 0&&(o=Le(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Tr=new Zt(Ut.Er),this.dr=new Zt(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new ct([])),r=new Ut(n,e),s=new Ut(n,e+1),o=[];return this.dr.forEachInRange([r,s],i=>{this.Vr(i),o.push(i.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new ct([])),r=new Ut(n,e),s=new Ut(n,e+1);let o=Le();return this.dr.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt(Ut.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new B3(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.br=this.br.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(i)}lookupMutationBatch(e,n){return G.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),o=s<0?0:s;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),s=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],i=>{const a=this.Dr(i.wr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Ge);return n.forEach(s=>{const o=new Ut(s,0),i=new Ut(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,i],a=>{r=r.add(a.wr)})}),G.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ge.isDocumentKey(o)||(o=o.child(""));const i=new Ut(new ge(o),0);let a=new Zt(Ge);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},i),G.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){et(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return G.forEach(n.mutations,s=>{const o=new Ut(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ut(n,0),s=this.br.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.Mr=e,this.docs=function(){return new wt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=Ls();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():hn.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ls();const i=n.path,a=new ge(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||o3(s3(h),r)<=0||(s.has(h.key)||np(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Se()}Or(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new b6(this)}getSize(e){return G.resolve(this.size)}}class b6 extends g6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.persistence=e,this.Nr=new bl(n=>Aw(n),Pw),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mw,this.targetCount=0,this.kr=il.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),G.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new il(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Kn(n),G.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Nr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(o).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sw(0),this.Kr=!1,this.Kr=!0,this.$r=new x6,this.referenceDelegate=e(this),this.Ur=new S6(this),this.indexManager=new p6,this.remoteDocumentCache=function(s){return new T6(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new h6(n),this.Gr=new w6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new E6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new C6(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return G.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class C6 extends a3{constructor(e){super(),this.currentSequenceNumber=e}}class jw{constructor(e){this.persistence=e,this.Jr=new Mw,this.Yr=null}static Zr(e){return new jw(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,r=>{const s=ge.fromPath(r);return this.ei(e,s).next(o=>{o||n.removeEntry(s,Ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return G.or([()=>G.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Le(),s=Le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Lw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return NU()?8:l3(yn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Yi(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.Zi(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new R6;return this.Xi(e,n,i).next(a=>{if(o.result=a,this.zi)return this.es(e,n,i,a.size)})}).next(()=>o.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Kl()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Kl()<=Ue.DEBUG&&he("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Kl()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):G.resolve())}Yi(e,n){if(tT(n))return G.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xh(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=Le(...o);return this.Ji.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,i,l.readTime)?this.Yi(e,Xh(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return tT(n)||s.isEqual(Ie.min())?G.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const i=this.ts(n,o);return this.ns(n,i,r,s)?G.resolve(null):(Kl()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),aa(n)),this.rs(e,i,n,r3(s,-1)).next(a=>a))})}ts(e,n){let r=new Zt(TR(e));return n.forEach((s,o)=>{np(e,o)&&(r=r.add(o))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,r){return Kl()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",aa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mo.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new wt(Ge),this._s=new bl(o=>Aw(o),Pw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function k6(t,e,n,r){return new P6(t,e,n,r)}async function WR(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=Le();for(const u of s){i.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:i,addedBatchIds:a}))})})}function N6(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let y=G.resolve();return p.forEach(b=>{y=y.next(()=>h.getEntry(l,b)).next(v=>{const x=u.docVersions.get(b);et(x!==null),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),h.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Le();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HR(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function D6(t,e){const n=Ce(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let y=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(nn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(v,x,E){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let l=Ls(),u=Le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(O6(o,i,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(Ie.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return G.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=s,o))}function O6(t,e,n){let r=Le(),s=Le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Ls();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ie.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:i,Is:s}})}function M6(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j6(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(o=>o?(s=o,G.resolve(s)):n.Ur.allocateTargetId(r).next(i=>(s=new yo(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ny(t,e,n){const r=Ce(t),s=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Au(i))throw i;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function hT(t,e,n){const r=Ce(t);let s=Ie.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,u,h){const f=Ce(l),p=f._s.get(h);return p!==void 0?G.resolve(f.os.get(p)):f.Ur.getTargetData(u,h)}(r,i,Qr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(i,e,n?s:Ie.min(),n?o:Le())).next(a=>(L6(r,I3(e),a),{documents:a,Ts:o})))}function L6(t,e,n){let r=t.us.get(e)||Ie.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class fT{constructor(){this.activeTargetIds=N3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F6{constructor(){this.so=new fT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=null;function Bm(){return Od===null?Od=function(){return 268435456+Math.round(2147483648*Math.random())}():Od++,"0x"+Od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class B6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,r,s,o,i){const a=Bm(),l=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,i),this.No(n,l,u,s).then(h=>(he("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw nl("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,o,i,a){return this.Mo(n,r,s,o,i)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,i)=>n[i]=o),s&&s.headers.forEach((o,i)=>n[i]=o)}xo(n,r){const s=U6[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const o=Bm();return new Promise((i,a)=>{const l=new oR;l.setWithCredentials(!0),l.listenOnce(iR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sh.NO_ERROR:const h=l.getResponseJson();he(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),i(h);break;case sh.TIMEOUT:he(cn,`RPC '${e}' ${o} timed out`),a(new ae(z.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const f=l.getStatus();if(he(cn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const b=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(E)>=0?E:z.UNKNOWN}(y.status);a(new ae(b,y.message))}else a(new ae(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(z.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(cn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);he(cn,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Bm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=cR(),a=lR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");he(cn,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=i.createWebChannel(h,l);let p=!1,y=!1;const b=new $6({Io:x=>{y?he(cn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(he(cn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),he(cn,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},To:()=>f.close()}),v=(x,E,w)=>{x.listen(E,T=>{try{w(T)}catch(k){setTimeout(()=>{throw k},0)}})};return v(f,sc.EventType.OPEN,()=>{y||(he(cn,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),v(f,sc.EventType.CLOSE,()=>{y||(y=!0,he(cn,`RPC '${e}' stream ${s} transport closed`),b.So())}),v(f,sc.EventType.ERROR,x=>{y||(y=!0,nl(cn,`RPC '${e}' stream ${s} transport errored:`,x),b.So(new ae(z.UNAVAILABLE,"The operation could not be completed")))}),v(f,sc.EventType.MESSAGE,x=>{var E;if(!y){const w=x.data[0];et(!!w);const T=w,k=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(k){he(cn,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let M=function(R){const P=At[R];if(P!==void 0)return OR(P)}(D),I=k.message;M===void 0&&(M=z.INTERNAL,I="Unknown error status: "+D+" with message "+k.message),y=!0,b.So(new ae(M,I)),f.close()}else he(cn,`RPC '${e}' stream ${s} received:`,w),b.bo(w)}}),v(a,aR.STAT_EVENT,x=>{x.stat===Ey.PROXY?he(cn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Ey.NOPROXY&&he(cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){return new J3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r,s,o,i,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ae(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z6 extends GR{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=t6(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?Ie.min():i.readTime?Yr(i.readTime):Ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ky(this.serializer),n.addTarget=function(o,i){let a;const l=i.target;if(a=Iy(l)?{documents:s6(o,l)}:{query:o6(o,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=LR(o,i.resumeToken);const u=Ry(o,i.expectedCount);u!==null&&(a.expectedCount=u)}else if(i.snapshotVersion.compareTo(Ie.min())>0){a.readTime=Zh(o,i.snapshotVersion.toTimestamp());const u=Ry(o,i.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=a6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ky(this.serializer),n.removeTarget=e,this.a_(n)}}class W6 extends GR{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=r6(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ky(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ae(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Mo(e,Ay(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(z.UNKNOWN,o.toString())})}Lo(e,n,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Lo(e,Ay(n,r),s,i,a,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(z.UNKNOWN,i.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class q6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(js(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(i=>{r.enqueueAndForget(async()=>{Hi(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.L_.add(4),await Nu(u),u.q_.set("Unknown"),u.L_.delete(4),await lp(u)}(this))})}),this.q_=new q6(r,s)}}async function lp(t){if(Hi(t))for(const e of t.B_)await e(!0)}async function Nu(t){for(const e of t.B_)await e(!1)}function KR(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),$w(n)?Uw(n):Sl(n).r_()&&Vw(n,e))}function Fw(t,e){const n=Ce(t),r=Sl(n);n.N_.delete(e),r.r_()&&QR(n,e),n.N_.size===0&&(r.r_()?r.o_():Hi(n)&&n.q_.set("Unknown"))}function Vw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sl(t).A_(e)}function QR(t,e){t.Q_.xe(e),Sl(t).R_(e)}function Uw(t){t.Q_=new K3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Sl(t).start(),t.q_.v_()}function $w(t){return Hi(t)&&!Sl(t).n_()&&t.N_.size>0}function Hi(t){return Ce(t).L_.size===0}function YR(t){t.Q_=void 0}async function K6(t){t.q_.set("Online")}async function Q6(t){t.N_.forEach((e,n)=>{Vw(t,e)})}async function Y6(t,e){YR(t),$w(t)?(t.q_.M_(e),Uw(t)):t.q_.set("Unknown")}async function X6(t,e,n){if(t.q_.set("Online"),e instanceof jR&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const a of o.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,i),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ef(t,r)}else if(e instanceof ah?t.Q_.Ke(e):e instanceof MR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ie.min()))try{const r=await HR(t.localStore);n.compareTo(r)>=0&&await function(o,i){const a=o.Q_.rt(i);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,u)=>{const h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(nn.EMPTY_BYTE_STRING,h.snapshotVersion)),QR(o,l);const f=new yo(h.target,l,u,h.sequenceNumber);Vw(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await ef(t,r)}}async function ef(t,e,n){if(!Au(e))throw e;t.L_.add(1),await Nu(t),t.q_.set("Offline"),n||(n=()=>HR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await lp(t)})}function XR(t,e){return e().catch(n=>ef(t,n,e))}async function cp(t){const e=Ce(t),n=Lo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;J6(e);)try{const s=await M6(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Z6(e,s)}catch(s){await ef(e,s)}JR(e)&&ZR(e)}function J6(t){return Hi(t)&&t.O_.length<10}function Z6(t,e){t.O_.push(e);const n=Lo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JR(t){return Hi(t)&&!Lo(t).n_()&&t.O_.length>0}function ZR(t){Lo(t).start()}async function e$(t){Lo(t).p_()}async function t$(t){const e=Lo(t);for(const n of t.O_)e.m_(n.mutations)}async function n$(t,e,n){const r=t.O_.shift(),s=Nw.from(r,e,n);await XR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cp(t)}async function r$(t,e){e&&Lo(t).V_&&await async function(r,s){if(function(i){return H3(i)&&i!==z.ABORTED}(s.code)){const o=r.O_.shift();Lo(r).s_(),await XR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await cp(r)}}(t,e),JR(t)&&ZR(t)}async function mT(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Hi(n);n.L_.add(3),await Nu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await lp(n)}async function s$(t,e){const n=Ce(t);e?(n.L_.delete(2),await lp(n)):e||(n.L_.add(2),await Nu(n),n.q_.set("Unknown"))}function Sl(t){return t.K_||(t.K_=function(n,r,s){const o=Ce(n);return o.w_(),new z6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:K6.bind(null,t),Ro:Q6.bind(null,t),mo:Y6.bind(null,t),d_:X6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),$w(t)?Uw(t):t.q_.set("Unknown")):(await t.K_.stop(),YR(t))})),t.K_}function Lo(t){return t.U_||(t.U_=function(n,r,s){const o=Ce(n);return o.w_(),new W6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e$.bind(null,t),mo:r$.bind(null,t),f_:t$.bind(null,t),g_:n$.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cp(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new Bw(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zw(t,e){if(js("AsyncQueue",`${e}: ${t}`),Au(t))return new ae(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new Da(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.W_=new wt(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,s,o,i,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new al(e,n,Da.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class i${constructor(){this.queries=yT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ce(n),o=s.queries;s.queries=yT(),o.forEach((i,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ae(z.ABORTED,"Firestore shutting down"))}}function yT(){return new bl(t=>ER(t),tp)}async function Ww(t,e){const n=Ce(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(r=2):(o=new o$,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const a=zw(i,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&qw(n)}async function Hw(t,e){const n=Ce(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.j_.indexOf(e);i>=0&&(o.j_.splice(i,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a$(t,e){const n=Ce(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.j_)a.X_(s)&&(r=!0);i.z_=s}}r&&qw(n)}function l$(t,e,n){const r=Ce(t),s=r.queries.get(e);if(s)for(const o of s.j_)o.onError(n);r.queries.delete(e)}function qw(t){t.Y_.forEach(e=>{e.next()})}var Dy,vT;(vT=Dy||(Dy={})).ea="default",vT.Cache="cache";class Gw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class c${constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=TR(e),this.Ra=new Da(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new gT,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=np(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;p&&y?p.data.isEqual(y.data)?b!==v&&(r.track({type:3,doc:y}),x=!0):this.ga(p,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),x=!0):p&&!y&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(y?(i=i.add(y),o=v?o.add(h):o.delete(h)):(i=i.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const h=this.query.limitType==="F"?i.last():i.first();i=i.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:i,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort((h,f)=>function(y,b){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return v(y)-v(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,i.length!==0||u?{snapshot:new al(this.query,e.Ra,o,i,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new tA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new eA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Le();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return al.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class u${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d${constructor(e){this.key=e,this.va=!1}}class h${constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new bl(a=>ER(a),tp),this.Ma=new Map,this.xa=new Set,this.Oa=new wt(ge.comparator),this.Na=new Map,this.La=new Mw,this.Ba={},this.ka=new Map,this.qa=il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function f$(t,e,n=!0){const r=aA(t);let s;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await nA(r,e,n,!0),s}async function p$(t,e){const n=aA(t);await nA(n,e,!0,!1)}async function nA(t,e,n,r){const s=await j6(t.localStore,Qr(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await m$(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&KR(t.remoteStore,s),a}async function m$(t,e,n,r,s){t.Ka=(f,p,y)=>async function(v,x,E,w){let T=x.view.ma(E);T.ns&&(T=await hT(v.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,T)));const k=w&&w.targetChanges.get(x.targetId),D=w&&w.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(T,v.isPrimaryClient,k,D);return _T(v,x.targetId,M.wa),M.snapshot}(t,f,p,y);const o=await hT(t.localStore,e,!0),i=new c$(e,o.Ts),a=i.ma(o.documents),l=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(a,t.isPrimaryClient,l);_T(t,n,u.wa);const h=new u$(e,n,i);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function g$(t,e,n){const r=Ce(t),s=r.Fa.get(e),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(i=>!tp(i,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ny(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Fw(r.remoteStore,s.targetId),Oy(r,s.targetId)}).catch(Ru)):(Oy(r,s.targetId),await Ny(r.localStore,s.targetId,!0))}async function y$(t,e){const n=Ce(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fw(n.remoteStore,r.targetId))}async function v$(t,e,n){const r=S$(t);try{const s=await function(i,a){const l=Ce(i),u=jt.now(),h=a.reduce((y,b)=>y.add(b.key),Le());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Ls(),v=Le();return l.cs.getEntries(y,h).next(x=>{b=x,b.forEach((E,w)=>{w.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,b)).next(x=>{f=x;const E=[];for(const w of a){const T=U3(w,f.get(w.key).overlayedDocument);T!=null&&E.push(new zo(w.key,T,pR(T.value.mapValue),bn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,a)}).next(x=>{p=x;const E=x.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(y,x.batchId,E)})}).then(()=>({batchId:p.batchId,changes:SR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,l){let u=i.Ba[i.currentUser.toKey()];u||(u=new wt(Ge)),u=u.insert(a,l),i.Ba[i.currentUser.toKey()]=u}(r,s.batchId,n),await Du(r,s.changes),await cp(r.remoteStore)}catch(s){const o=zw(s,"Failed to persist write");n.reject(o)}}async function rA(t,e){const n=Ce(t);try{const r=await D6(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Na.get(o);i&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.va=!0:s.modifiedDocuments.size>0?et(i.va):s.removedDocuments.size>0&&(et(i.va),i.va=!1))}),await Du(n,r,e)}catch(r){await Ru(r)}}function wT(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((o,i)=>{const a=i.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(i,a){const l=Ce(i);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(u=!0)}),u&&qw(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w$(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),o=s&&s.key;if(o){let i=new wt(ge.comparator);i=i.insert(o,hn.newNoDocument(o,Ie.min()));const a=Le().add(o),l=new ip(Ie.min(),new Map,new wt(Ge),i,a);await rA(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Kw(r)}else await Ny(r.localStore,e,!1).then(()=>Oy(r,e,n)).catch(Ru)}async function _$(t,e){const n=Ce(t),r=e.batch.batchId;try{const s=await N6(n.localStore,e);oA(n,r,null),sA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Du(n,s)}catch(s){await Ru(s)}}async function x$(t,e,n){const r=Ce(t);try{const s=await function(i,a){const l=Ce(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(et(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);oA(r,e,n),sA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Du(r,s)}catch(s){await Ru(s)}}function sA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function oA(t,e,n){const r=Ce(t);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||iA(t,r)})}function iA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Fw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Kw(t))}function _T(t,e,n){for(const r of n)r instanceof eA?(t.La.addReference(r.key,e),E$(t,r)):r instanceof tA?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||iA(t,r.key)):Se()}function E$(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),Kw(t))}function Kw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(ct.fromString(e)),r=t.qa.next();t.Na.set(r,new d$(n)),t.Oa=t.Oa.insert(n,r),KR(t.remoteStore,new yo(Qr(ep(n.path)),r,"TargetPurposeLimboResolution",Sw.oe))}}async function Du(t,e,n){const r=Ce(t),s=[],o=[],i=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{i.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Lw.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(i),r.Ca.d_(s),await async function(l,u){const h=Ce(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(u,p=>G.forEach(p.$i,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>G.forEach(p.Ui,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!Au(f))throw f;he("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const y=h.os.get(p),b=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(p,v)}}}(r.localStore,o))}async function T$(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await WR(n.localStore,e);n.currentUser=e,function(o,i){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ae(z.CANCELLED,i))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(n,r.hs)}}function b$(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return Le().add(r.key);{let s=Le();const o=n.Ma.get(e);if(!o)return s;for(const i of o){const a=n.Fa.get(i);s=s.unionWith(a.view.Va)}return s}}function aA(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w$.bind(null,e),e.Ca.d_=a$.bind(null,e.eventManager),e.Ca.$a=l$.bind(null,e.eventManager),e}function S$(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x$.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return k6(this.persistence,new A6,e.initialUser,this.serializer)}Ga(e){return new I6(jw.Zr,this.serializer)}Wa(e){return new F6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class My{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T$.bind(null,this.syncEngine),await s$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i$}()}createDatastore(e){const n=ap(e.databaseInfo.databaseId),r=function(o){return new B6(o)}(e.databaseInfo);return function(o,i,a,l){return new H6(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,a){return new G6(r,s,o,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wT(this.syncEngine,n,0),function(){return pT.D()?new pT:new V6}())}createSyncEngine(e,n){return function(s,o,i,a,l,u,h){const f=new h$(s,o,i,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ce(s);he("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Nu(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}My.provider={build:()=>new My};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=un.UNAUTHENTICATED,this.clientId=dR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{he("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(he("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wm(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C$(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>mT(e.remoteStore,s)),t._onlineComponents=e}async function C$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await Wm(t,new tf)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Wm(t,new tf);return t._offlineComponents}async function lA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await xT(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await xT(t,new My))),t._onlineComponents}function R$(t){return lA(t).then(e=>e.syncEngine)}async function nf(t){const e=await lA(t),n=e.eventManager;return n.onListen=f$.bind(null,e.syncEngine),n.onUnlisten=g$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y$.bind(null,e.syncEngine),n}function A$(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,l,u){const h=new Qw({next:p=>{h.Za(),i.enqueueAndForget(()=>Hw(o,f));const y=p.docs.has(a);!y&&p.fromCache?u.reject(new ae(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?u.reject(new ae(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Gw(ep(a.path),h,{includeMetadataChanges:!0,_a:!0});return Ww(o,f)}(await nf(t),t.asyncQueue,e,n,r)),r.promise}function P$(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,l,u){const h=new Qw({next:p=>{h.Za(),i.enqueueAndForget(()=>Hw(o,f)),p.fromCache&&l.source==="server"?u.reject(new ae(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Gw(a,h,{includeMetadataChanges:!0,_a:!0});return Ww(o,f)}(await nf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e,n){if(!n)throw new ae(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k$(t,e,n,r){if(e===!0&&r===!0)throw new ae(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TT(t){if(!ge.isDocumentKey(t))throw new ae(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bT(t){if(ge.isDocumentKey(t))throw new ae(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(t);throw new ae(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function N$(t,e){if(e<=0)throw new ae(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K5;switch(r.type){case"firstParty":return new J5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ET.get(n);r&&(he("ComponentProvider","Removing Datastore"),ET.delete(n),r.terminate())}(this),Promise.resolve()}}function D$(t,e,n,r={}){var s;const o=(t=Sn(t,dp))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=un.MOCK_USER;else{a=JC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new un(u)}t._authCredentials=new Q5(new uR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Po extends $s{constructor(e,n,r){super(e,n,ep(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ge(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function Ae(t,e,...n){if(t=Ye(t),uA("collection","path",e),t instanceof dp){const r=ct.fromString(e,...n);return bT(r),new Po(t,null,r)}{if(!(t instanceof fn||t instanceof Po))throw new ae(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return bT(r),new Po(t.firestore,null,r)}}function _e(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=dR.newId()),uA("doc","path",e),t instanceof dp){const r=ct.fromString(e,...n);return TT(r),new fn(t,null,new ge(r))}{if(!(t instanceof fn||t instanceof Po))throw new ae(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return TT(r),new fn(t.firestore,t instanceof Po?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qR(this,"async_queue_retry"),this.Vu=()=>{const r=zm();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ts;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Au(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw js("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Bw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function CT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class es extends dp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new IT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IT(e),this._firestoreClient=void 0,await e}}}function dA(t,e){const n=typeof t=="object"?t:Cu(),r=typeof t=="string"?t:"(default)",s=xl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=_w("firestore");o&&D$(s,...o)}return s}function Ou(t){if(t._terminated)throw new ae(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O$(t),t._firestoreClient}function O$(t){var e,n,r;const s=t._freezeSettings(),o=function(a,l,u,h){return new d3(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,cA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new I$(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(nn.fromBase64String(e))}catch(n){throw new ae(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ll(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=/^__.*__$/;class j${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class hA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Jw{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Jw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fA(this.Cu)&&M$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class L${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ap(e)}Qu(e,n,r,s=!1){return new Jw({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ju(t){const e=t._freezeSettings(),n=ap(t._databaseId);return new L$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zw(t,e,n,r,s,o={}){const i=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);t_("Data must be an object, but it was:",i,r);const a=gA(r,i);let l,u;if(o.merge)l=new Wn(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const p=jy(e,f,n);if(!i.contains(p))throw new ae(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);vA(h,p)||h.push(p)}l=new Wn(h),u=i.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=i.fieldTransforms;return new j$(new Dn(a),l,u)}class fp extends hp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fp}}class e_ extends hp{_toFieldTransform(e){return new j3(e.path,new ou)}isEqual(e){return e instanceof e_}}function pA(t,e,n,r){const s=t.Qu(1,e,n);t_("Data must be an object, but it was:",s,r);const o=[],i=Dn.empty();Wi(r,(l,u)=>{const h=n_(e,l,n);u=Ye(u);const f=s.Nu(h);if(u instanceof fp)o.push(h);else{const p=Lu(u,f);p!=null&&(o.push(h),i.set(h,p))}});const a=new Wn(o);return new hA(i,a,s.fieldTransforms)}function mA(t,e,n,r,s,o){const i=t.Qu(1,e,n),a=[jy(e,r,n)],l=[s];if(o.length%2!=0)throw new ae(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(jy(e,o[p])),l.push(o[p+1]);const u=[],h=Dn.empty();for(let p=a.length-1;p>=0;--p)if(!vA(u,a[p])){const y=a[p];let b=l[p];b=Ye(b);const v=i.Nu(y);if(b instanceof fp)u.push(y);else{const x=Lu(b,v);x!=null&&(u.push(y),h.set(y,x))}}const f=new Wn(u);return new hA(h,f,i.fieldTransforms)}function F$(t,e,n,r=!1){return Lu(n,t.Qu(r?4:3,e))}function Lu(t,e){if(yA(t=Ye(t)))return t_("Unsupported field value:",e,t),gA(t,e);if(t instanceof hp)return function(r,s){if(!fA(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const a of r){let l=Lu(a,s.Lu(i));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jt.fromDate(r);return{timestampValue:Zh(s.serializer,o)}}if(r instanceof jt){const o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(s.serializer,o)}}if(r instanceof Yw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ll)return{bytesValue:LR(s.serializer,r._byteString)};if(r instanceof fn){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Bu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ow(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xw)return function(i,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return kw(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${up(r)}`)}(t,e)}function gA(t,e){const n={};return hR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,(r,s)=>{const o=Lu(s,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function yA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof Yw||t instanceof ll||t instanceof fn||t instanceof hp||t instanceof Xw)}function t_(t,e,n){if(!yA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=up(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function jy(t,e,n){if((e=Ye(e))instanceof Mu)return e._internalPath;if(typeof e=="string")return n_(t,e);throw rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const V$=new RegExp("[~\\*/\\[\\]]");function n_(t,e,n){if(e.search(V$)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mu(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rf(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new ae(z.INVALID_ARGUMENT,a+t+l)}function vA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U$ extends wA{data(){return super.data()}}function pp(t,e){return typeof e=="string"?n_(t,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}class s_ extends r_{}function Pt(t,e,...n){let r=[];e instanceof r_&&r.push(e),r=r.concat(n),function(o){const i=o.filter(l=>l instanceof o_).length,a=o.filter(l=>l instanceof mp).length;if(i>1||i>0&&a>0)throw new ae(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class mp extends s_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mp(e,n,r)}_apply(e){const n=this._parse(e);return xA(e._query,n),new $s(e.firestore,e.converter,Cy(e._query,n))}_parse(e){const n=ju(e.firestore);return function(o,i,a,l,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ae(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){AT(f,h);const y=[];for(const b of f)y.push(RT(l,o,b));p={arrayValue:{values:y}}}else p=RT(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||AT(f,h),p=F$(a,i,f,h==="in"||h==="not-in");return Nt.create(u,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $t(t,e,n){const r=e,s=pp("where",t);return mp._create(s,r,n)}class o_ extends r_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const a=o.getFlattenedFilters();for(const l of a)xA(i,l),i=Cy(i,l)}(e._query,n),new $s(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i_ extends s_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i_(e,n)}_apply(e){const n=function(s,o,i){if(s.startAt!==null)throw new ae(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(o,i)}(e._query,this._field,this._direction);return new $s(e.firestore,e.converter,function(s,o){const i=s.explicitOrderBy.concat([o]);return new Tl(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function lh(t,e="asc"){const n=e,r=pp("orderBy",t);return i_._create(r,n)}class a_ extends s_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new a_(e,n,r)}_apply(e){return new $s(e.firestore,e.converter,Xh(e._query,this._limit,this._limitType))}}function $$(t){return N$("limit",t),a_._create("limit",t,"F")}function RT(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new ae(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xR(e)&&n.indexOf("/")!==-1)throw new ae(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!ge.isDocumentKey(r))throw new ae(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QE(t,new ge(r))}if(n instanceof fn)return QE(t,n._key);throw new ae(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(n)}.`)}function AT(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(t,e){const n=function(s,o){for(const i of s)for(const a of i.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B${convertValue(e,n="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wi(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(i=>It(i.doubleValue));return new Xw(o)}convertGeoPoint(e){return new Yw(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=jo(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);et(zR(r));const s=new nu(r.get(1),r.get(3)),o=new ge(r.popFirst(5));return s.isEqual(n)||js(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EA extends wA{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ch extends EA{data(e={}){return super.data(e)}}class TA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ac(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ch(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(a=>{const l=new ch(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ch(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),h=i.indexOf(a.doc.key)),{type:z$(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t){t=Sn(t,fn);const e=Sn(t.firestore,es);return A$(Ou(e),t._key).then(n=>bA(e,t,n))}class c_ extends B${constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Qe(t){t=Sn(t,$s);const e=Sn(t.firestore,es),n=Ou(e),r=new c_(e);return _A(t._query),P$(n,t._query).then(s=>new TA(e,r,t,s))}function pt(t,e,n){t=Sn(t,fn);const r=Sn(t.firestore,es),s=l_(t.converter,e,n);return Fu(r,[Zw(ju(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,bn.none())])}function PT(t,e,n,...r){t=Sn(t,fn);const s=Sn(t.firestore,es),o=ju(s);let i;return i=typeof(e=Ye(e))=="string"||e instanceof Mu?mA(o,"updateDoc",t._key,e,n,r):pA(o,"updateDoc",t._key,e),Fu(s,[i.toMutation(t._key,bn.exists(!0))])}function oi(t){return Fu(Sn(t.firestore,es),[new op(t._key,bn.none())])}function vo(t,e){const n=Sn(t.firestore,es),r=_e(t),s=l_(t.converter,e);return Fu(n,[Zw(ju(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function bs(t,...e){var n,r,s;t=Ye(t);let o={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||CT(e[i])||(o=e[i],i++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CT(e[i])){const f=e[i];e[i]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[i+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[i+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,u,h;if(t instanceof fn)u=Sn(t.firestore,es),h=ep(t._key.path),l={next:f=>{e[i]&&e[i](bA(u,t,f))},error:e[i+1],complete:e[i+2]};else{const f=Sn(t,$s);u=Sn(f.firestore,es),h=f._query;const p=new c_(u);l={next:y=>{e[i]&&e[i](new TA(u,p,f,y))},error:e[i+1],complete:e[i+2]},_A(t._query)}return function(p,y,b,v){const x=new Qw(v),E=new Gw(y,x,b);return p.asyncQueue.enqueueAndForget(async()=>Ww(await nf(p),E)),()=>{x.Za(),p.asyncQueue.enqueueAndForget(async()=>Hw(await nf(p),E))}}(Ou(u),h,a,l)}function Fu(t,e){return function(r,s){const o=new Ts;return r.asyncQueue.enqueueAndForget(async()=>v$(await R$(r),s,o)),o.promise}(Ou(t),e)}function bA(t,e,n){const r=n.docs.get(e._key),s=new c_(t);return new EA(t,s,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ju(e)}set(e,n,r){this._verifyNotCommitted();const s=Hm(e,this._firestore),o=l_(s.converter,n,r),i=Zw(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(i.toMutation(s._key,bn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=Hm(e,this._firestore);let i;return i=typeof(n=Ye(n))=="string"||n instanceof Mu?mA(this._dataReader,"WriteBatch.update",o._key,n,r,s):pA(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(i.toMutation(o._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Hm(e,this._firestore);return this._mutations=this._mutations.concat(new op(n._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hm(t,e){if((t=Ye(t)).firestore!==e)throw new ae(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Xe(){return new e_("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){return Ou(t=Sn(t,es)),new W$(t,e=>Fu(t,e))}(function(e,n=!0){(function(s){El=s})(Bo),Ms(new Ds("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),a=new es(new Y5(r.getProvider("auth-internal")),new e3(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(u.options.projectId,h)}(i,s),i);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Gn(WE,"4.7.3",e),Gn(WE,"4.7.3","esm2017")})();var Br=function(){return Br=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Br.apply(this,arguments)};function Vu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function H$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IA=SA,CA=new Su("auth","Firebase",SA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new xw("@firebase/auth");function q$(t,...e){sf.logLevel<=Ue.WARN&&sf.warn(`Auth (${Bo}): ${t}`,...e)}function uh(t,...e){sf.logLevel<=Ue.ERROR&&sf.error(`Auth (${Bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,...e){throw d_(t,...e)}function Sr(t,...e){return d_(t,...e)}function u_(t,e,n){const r=Object.assign(Object.assign({},IA()),{[e]:n});return new Su("auth","Firebase",r).create(e,{appName:t.name})}function Ss(t){return u_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&cr(t,"argument-error"),u_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function d_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CA.create(t,...e)}function xe(t,e,...n){if(!t)throw d_(e,...n)}function ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uh(e),new Error(e)}function Fs(t,e){t||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function K$(){return kT()==="http:"||kT()==="https:"}function kT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K$()||AU()||"connection"in navigator)?navigator.onLine:!0}function Y$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=IU()||PU()}get(){return Q$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=new Uu(3e4,6e4);function Wo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bs(t,e,n,r,s={}){return AA(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=Iu(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return RU()||(u.referrerPolicy="no-referrer"),RA.fetch()(PA(t,t.config.apiHost,n,a),u)})}async function AA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},X$),e);try{const s=new e9(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Md(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Md(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Md(t,"user-disabled",i);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw u_(t,h,u);cr(t,h)}}catch(s){if(s instanceof dr)throw s;cr(t,"network-request-failed",{message:String(s)})}}async function $u(t,e,n,r,s={}){const o=await Bs(t,e,n,r,s);return"mfaPendingCredential"in o&&cr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function PA(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?h_(t.config,s):`${t.config.apiScheme}://${s}`}function Z$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),J$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sr(t,e,r);return s.customData._tokenResponse=n,s}function NT(t){return t!==void 0&&t.enterprise!==void 0}class t9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Z$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function n9(t,e){return Bs(t,"GET","/v2/recaptchaConfig",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){return Bs(t,"POST","/v1/accounts:delete",e)}async function kA(t,e){return Bs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NA(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),s=f_(r);xe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Cc(Gm(s.auth_time)),issuedAtTime:Cc(Gm(s.iat)),expirationTime:Cc(Gm(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Gm(t){return Number(t)*1e3}function f_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=KC(n);return s?JSON.parse(s):(uh("Failed to decode base64 JWT payload"),null)}catch(s){return uh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function DT(t){const e=f_(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&s9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function s9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t){var e;const n=t.auth,r=await t.getIdToken(),s=await cl(t,kA(n,{idToken:r}));xe(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?OA(o.providerUserInfo):[],a=i9(t.providerData,i),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fy(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function DA(t){const e=Ye(t);await of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function OA(t){return t.map(e=>{var{providerId:n}=e,r=Vu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e){const n=await AA(t,{},async()=>{const r=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=PA(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RA.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l9(t,e){return Bs(t,"POST","/v2/accounts:revokeToken",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=DT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await a9(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Oa;return r&&(xe(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(xe(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(xe(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _s{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Vu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await cl(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NA(this,e)}reload(){return DA(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await cl(this,r9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(i=n.photoURL)!==null&&i!==void 0?i:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:k,isAnonymous:D,providerData:M,stsTokenManager:I}=n;xe(T&&I,e,"internal-error");const S=Oa.fromJSON(this.name,I);xe(typeof T=="string",e,"internal-error"),Xs(f,e.name),Xs(p,e.name),xe(typeof k=="boolean",e,"internal-error"),xe(typeof D=="boolean",e,"internal-error"),Xs(y,e.name),Xs(b,e.name),Xs(v,e.name),Xs(x,e.name),Xs(E,e.name),Xs(w,e.name);const R=new _s({uid:T,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:D,photoURL:b,phoneNumber:y,tenantId:v,stsTokenManager:S,createdAt:E,lastLoginAt:w});return M&&Array.isArray(M)&&(R.providerData=M.map(P=>Object.assign({},P))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new Oa;s.updateFromServerResponse(n);const o=new _s({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await of(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];xe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?OA(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),a=new Oa;a.updateFromIdToken(r);const l=new _s({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:i}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Fy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;function xs(t){Fs(t instanceof Function,"Expected a class definition");let e=OT.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MA.type="NONE";const Vy=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ma{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=dh(this.userKey,s.apiKey,o),this.fullPersistenceKey=dh("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_s._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ma(xs(Vy),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||xs(Vy);const i=dh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(i);if(h){const f=_s._fromJSON(e,h);u!==o&&(a=f),o=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ma(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Ma(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($A(e))return"Blackberry";if(BA(e))return"Webos";if(LA(e))return"Safari";if((e.includes("chrome/")||FA(e))&&!e.includes("edge/"))return"Chrome";if(UA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jA(t=yn()){return/firefox\//i.test(t)}function LA(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FA(t=yn()){return/crios\//i.test(t)}function VA(t=yn()){return/iemobile/i.test(t)}function UA(t=yn()){return/android/i.test(t)}function $A(t=yn()){return/blackberry/i.test(t)}function BA(t=yn()){return/webos/i.test(t)}function p_(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c9(t=yn()){var e;return p_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u9(){return kU()&&document.documentMode===10}function zA(t=yn()){return p_(t)||UA(t)||BA(t)||$A(t)||/windows phone/i.test(t)||VA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e=[]){let n;switch(t){case"Browser":n=MT(yn());break;case"Worker":n=`${MT(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e={}){return Bs(t,"GET","/v2/passwordPolicy",Wo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=6;class p9{constructor(e){var n,r,s,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=i.minPasswordLength)!==null&&n!==void 0?n:f9,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,i,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsNumericCharacter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new d9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kA(this,{idToken:e}),r=await _s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sr(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await of(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Ss(this));const n=e?Ye(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h9(this),n=new p9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{i=!0,l()}}else{const l=e.addObserver(n);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&q$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ho(t){return Ye(t)}class jT{constructor(e){this.auth=e,this.observer=null,this.addObserver=VU(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g9(t){gp=t}function HA(t){return gp.loadJS(t)}function y9(){return gp.recaptchaEnterpriseScript}function v9(){return gp.gapiScript}function w9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _9="recaptcha-enterprise",x9="NO_RECAPTCHA";class E9{constructor(e){this.type=_9,this.auth=Ho(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{n9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new t9(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,i(u.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;NT(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{i(u)}).catch(()=>{i(x9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&NT(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=y9();l.length!==0&&(l+=a),HA(l).then(()=>{s(a,o,i)}).catch(u=>{i(u)})}}).catch(a=>{i(a)})})}}async function LT(t,e,n,r=!1){const s=new E9(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}async function Uy(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await LT(t,e,n,n==="getOobCode");return r(t,i)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e){const n=xl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(qh(o,e??{}))return s;cr(s,"already-initialized")}return n.initialize({options:e})}function T9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GA(t,e,n){const r=Ho(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=KA(e),{host:i,port:a}=b9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),S9()}function KA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b9(t){const e=KA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:FT(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:FT(i)}}}function FT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,n){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function I9(t,e){return Bs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e){return $u(t,"POST","/v1/accounts:signInWithPassword",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Wo(t,e))}async function A9(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends yp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ul(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ul(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uy(e,n,"signInWithPassword",C9);case"emailLink":return R9(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uy(e,r,"signUpPassword",I9);case"emailLink":return A9(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return $u(t,"POST","/v1/accounts:signInWithIdp",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="http://localhost";class Fo extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Vu(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new Fo(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:P9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N9(t){const e=nc(rc(t)).link,n=e?nc(rc(e)).deep_link_id:null,r=nc(rc(t)).deep_link_id;return(r?nc(rc(r)).link:null)||r||n||e||t}class vp{constructor(e){var n,r,s,o,i,a;const l=nc(rc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=k9((s=l.mode)!==null&&s!==void 0?s:null);xe(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=N9(e);try{return new vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.providerId=qi.PROVIDER_ID}static credential(e,n){return ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vp.parseLink(n);return xe(r,"argument-error"),ul._fromEmailAndCode(e,r.code,r.tenantId)}}qi.PROVIDER_ID="password";qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends m_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Bu{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Bu{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Bu{constructor(){super("twitter.com")}static credential(e,n){return Fo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e){return $u(t,"POST","/v1/accounts:signUp",Wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await _s._fromIdTokenResponse(e,r,s),i=VT(r);return new Di({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=VT(r);return new Di({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function VT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends dr{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new af(e,n,r,s)}}function QA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(t,o,e,r):o})}async function O9(t,e,n=!1){const r=await cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(Ss(r));const s="reauthenticate";try{const o=await cl(t,QA(r,s,e,t),n);xe(o.idToken,r,"internal-error");const i=f_(o.idToken);xe(i,r,"internal-error");const{sub:a}=i;return xe(t.uid===a,r,"user-mismatch"),Di._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e,n=!1){if(sr(t.app))return Promise.reject(Ss(t));const r="signIn",s=await QA(t,r,e),o=await Di._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function XA(t,e){return YA(Ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t){const e=Ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZA(t,e,n){if(sr(t.app))return Promise.reject(Ss(t));const r=Ho(t),i=await Uy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JA(t),l}),a=await Di._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function eP(t,e,n){return sr(t.app)?Promise.reject(Ss(t)):XA(Ye(t),qi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t,e){return Bs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ye(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},i=await cl(r,j9(r.auth,o));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}function nP(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function rP(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function sP(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=1e3,F9=10;class iP extends oP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);u9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,F9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iP.type="LOCAL";const aP=iP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP extends oP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lP.type="SESSION";const g_=lP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async u=>u(n.origin,o)),l=await V9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const u=y_("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function $9(t){Xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function B9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function W9(){return cP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="firebaseLocalStorageDb",H9=1,cf="firebaseLocalStorage",dP="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _p(t,e){return t.transaction([cf],e?"readwrite":"readonly").objectStore(cf)}function q9(){const t=indexedDB.deleteDatabase(uP);return new zu(t).toPromise()}function $y(){const t=indexedDB.open(uP,H9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cf,{keyPath:dP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cf)?e(r):(r.close(),await q9(),e(await $y()))})})}async function UT(t,e,n){const r=_p(t,!0).put({[dP]:e,value:n});return new zu(r).toPromise()}async function G9(t,e){const n=_p(t,!1).get(e),r=await new zu(n).toPromise();return r===void 0?null:r.value}function $T(t,e){const n=_p(t,!0).delete(e);return new zu(n).toPromise()}const K9=800,Q9=3;class hP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance(W9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await B9(),!this.activeServiceWorker)return;this.sender=new U9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $y();return await UT(e,lf,"1"),await $T(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$T(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=_p(s,!1).getAll();return new zu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hP.type="LOCAL";const fP=hP;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e){return e?xs(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y9(t){return YA(t.auth,new v_(t),t.bypassAuthState)}function X9(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),M9(n,new v_(t),t.bypassAuthState)}async function J9(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),O9(n,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y9;case"linkViaPopup":case"linkViaRedirect":return J9;case"reauthViaPopup":case"reauthViaRedirect":return X9;default:cr(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new Uu(2e3,1e4);async function eB(t,e,n){if(sr(t.app))return Promise.reject(Sr(t,"operation-not-supported-in-this-environment"));const r=Ho(t);G$(t,e,m_);const s=pP(r,n);return new ui(r,"signInViaPopup",e,s).executeNotNull()}class ui extends mP{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ui.currentPopupAction&&ui.currentPopupAction.cancel(),ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=y_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z9.get())};e()}}ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="pendingRedirect",hh=new Map;class nB extends mP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await rB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rB(t,e){const n=iB(e),r=oB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function sB(t,e){hh.set(t._key(),e)}function oB(t){return xs(t._redirectPersistence)}function iB(t){return dh(tB,t.config.apiKey,t.name)}async function aB(t,e,n=!1){if(sr(t.app))return Promise.reject(Ss(t));const r=Ho(t),s=pP(r,e),i=await new nB(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=10*60*1e3;class cB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lB&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(e))}saveEventToCache(e){this.cachedEventUids.add(BT(e)),this.lastProcessedEventTime=Date.now()}}function BT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(t,e={}){return Bs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fB=/^https?/;async function pB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dB(t);for(const n of e)try{if(mB(n))return}catch{}cr(t,"unauthorized-domain")}function mB(t){const e=Ly(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!fB.test(n))return!1;if(hB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new Uu(3e4,6e4);function zT(){const t=Xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yB(t){return new Promise((e,n)=>{var r,s,o;function i(){zT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zT(),n(Sr(t,"network-request-failed"))},timeout:gB.get()})}if(!((s=(r=Xr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Xr().gapi)===null||o===void 0)&&o.load)i();else{const a=w9("iframefcb");return Xr()[a]=()=>{gapi.load?i():n(Sr(t,"network-request-failed"))},HA(`${v9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw fh=null,e})}let fh=null;function vB(t){return fh=fh||yB(t),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=new Uu(5e3,15e3),_B="__/auth/iframe",xB="emulator/auth/iframe",EB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bB(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h_(e,xB):`https://${t.config.authDomain}/${_B}`,r={apiKey:e.apiKey,appName:t.name,v:Bo},s=TB.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Iu(r).slice(1)}`}async function SB(t){const e=await vB(t),n=Xr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:bB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EB,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=Sr(t,"network-request-failed"),a=Xr().setTimeout(()=>{o(i)},wB.get());function l(){Xr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CB=500,RB=600,AB="_blank",PB="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kB(t,e,n,r=CB,s=RB){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IB),{width:r.toString(),height:s.toString(),top:o,left:i}),u=yn().toLowerCase();n&&(a=FA(u)?AB:n),jA(u)&&(e=e||PB,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(c9(u)&&a!=="_self")return NB(e||"",a),new WT(null);const f=window.open(e||"",a,h);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new WT(f)}function NB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="__/auth/handler",OB="emulator/auth/handler",MB=encodeURIComponent("fac");async function HT(t,e,n,r,s,o){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bo,eventId:s};if(e instanceof m_){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",FU(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))i[h]=f}if(e instanceof Bu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(i.scopes=h.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${MB}=${encodeURIComponent(l)}`:"";return`${jB(t)}?${Iu(a).slice(1)}${u}`}function jB({config:t}){return t.emulator?h_(t,OB):`https://${t.authDomain}/${DB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class LB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g_,this._completeRedirectFn=aB,this._overrideRedirectResult=sB}async _openPopup(e,n,r,s){var o;Fs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await HT(e,n,r,Ly(),s);return kB(e,i,y_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await HT(e,n,r,Ly(),s);return $9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Fs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SB(e),r=new cB(e);return n.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Km];i!==void 0&&n(!!i),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zA()||LA()||p_()}}const yP=LB;var qT="@firebase/auth",GT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UB(t){Ms(new Ds("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;xe(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(t)},u=new m9(r,s,o,l);return T9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ms(new Ds("auth-internal",e=>{const n=Ho(e.getProvider("auth").getImmediate());return(r=>new FB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(qT,GT,VB(t)),Gn(qT,GT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=5*60,BB=XC("authIdTokenMaxAge")||$B;let KT=null;const zB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BB)return;const s=n==null?void 0:n.token;KT!==s&&(KT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xp(t=Cu()){const e=xl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qA(t,{popupRedirectResolver:yP,persistence:[fP,aP,g_]}),r=XC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=zB(o.toString());rP(n,i,()=>i(n.currentUser)),nP(n,a=>i(a))}}const s=QC("auth");return s&&GA(n,`http://${s}`),n}function WB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}g9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Sr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",WB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UB("Browser");const QT=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:vp,AuthCredential:yp,EmailAuthCredential:ul,EmailAuthProvider:qi,FacebookAuthProvider:fs,GithubAuthProvider:ms,GoogleAuthProvider:ps,OAuthCredential:Fo,TwitterAuthProvider:gs,beforeAuthStateChanged:rP,browserLocalPersistence:aP,browserPopupRedirectResolver:yP,browserSessionPersistence:g_,connectAuthEmulator:GA,createUserWithEmailAndPassword:ZA,getAuth:xp,getIdTokenResult:NA,inMemoryPersistence:Vy,indexedDBLocalPersistence:fP,initializeAuth:qA,onAuthStateChanged:sP,onIdTokenChanged:nP,prodErrorMap:IA,reload:DA,signInWithCredential:XA,signInWithEmailAndPassword:eP,signInWithPopup:eB,updateProfile:tP},Symbol.toStringTag,{value:"Module"}));var HB="firebase",qB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(HB,qB,"app");const GB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:dr,SDK_VERSION:Bo,_DEFAULT_ENTRY_NAME:Gh,_addComponent:xy,_apps:Jc,_components:Kh,_getProvider:xl,_isFirebaseServerApp:sr,_registerComponent:Ms,_serverApps:tR,getApp:Cu,initializeApp:Tw,registerVersion:Gn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="firebasestorage.googleapis.com",wP="storageBucket",KB=2*60*1e3,QB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends dr{constructor(e,n,r=0){super(Qm(e),`Firebase Storage: ${n} (${Qm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function Qm(t){return"storage/"+t}function w_(){const t="An unknown error occurred, please check the error payload for server response.";return new St(bt.UNKNOWN,t)}function YB(t){return new St(bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function XB(t){return new St(bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(bt.UNAUTHENTICATED,t)}function ZB(){return new St(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ez(t){return new St(bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tz(){return new St(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nz(){return new St(bt.CANCELED,"User canceled the upload/download.")}function rz(t){return new St(bt.INVALID_URL,"Invalid URL '"+t+"'.")}function sz(t){return new St(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oz(){return new St(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wP+"' property when initializing the app?")}function iz(){return new St(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function az(){return new St(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lz(t){return new St(bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function By(t){return new St(bt.INVALID_ARGUMENT,t)}function _P(){return new St(bt.APP_DELETED,"The Firebase app was deleted.")}function cz(t){return new St(bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(t,e){return new St(bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ql(t){throw new St(bt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw sz(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},v=n===vP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",E=new RegExp(`^https?://${v}/${s}/${x}`,"i"),T=[{regex:a,indices:l,postModify:o},{regex:y,indices:b,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<T.length;k++){const D=T[k],M=D.regex.exec(e);if(M){const I=M[D.indices.bucket];let S=M[D.indices.path];S||(S=""),r=new En(I,S),D.postModify(r);break}}if(r==null)throw rz(e);return r}}class uz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t,e,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return a===2}let u=!1;function h(...x){u||(u=!0,e.apply(null,x))}function f(x){s=setTimeout(()=>{s=null,t(y,l())},x)}function p(){o&&clearTimeout(o)}function y(x,...E){if(u){p();return}if(x){p(),h.call(null,x,...E);return}if(l()||i){p(),h.call(null,x,...E);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let b=!1;function v(x){b||(b=!0,p(),!u&&(s!==null?(x||(a=2),clearTimeout(s),f(0)):x||(a=1)))}return f(0),o=setTimeout(()=>{i=!0,v(!0)},n),v}function hz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t){return t!==void 0}function pz(t){return typeof t=="object"&&!Array.isArray(t)}function __(t){return typeof t=="string"||t instanceof String}function YT(t){return x_()&&t instanceof Blob}function x_(){return typeof Blob<"u"}function zy(t,e,n,r){if(r<e)throw By(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw By(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function xP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var xi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xi||(xi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n,r,s,o,i,a,l,u,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new jd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===xi.NO_ERROR,l=o.getStatus();if(!a||mz(l,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===xi.ABORT;r(!1,new jd(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new jd(u,o))})},n=(r,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());fz(l)?o(l):o()}catch(l){i(l)}else if(a!==null){const l=w_();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(s.canceled){const l=this.appDelete_?_P():nz();i(l)}else{const l=tz();i(l)}};this.canceled_?n(!1,new jd(!1,null,!0)):this.backoffId_=dz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _z(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xz(t,e,n,r,s,o,i=!0){const a=xP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return wz(u,e),yz(u,n),vz(u,o),_z(u,r),new gz(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tz(...t){const e=Ez();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(x_())return new Blob(t);throw new St(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){if(typeof atob>"u")throw lz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ym{constructor(e,n){this.data=e,this.contentType=n||null}}function Iz(t,e){switch(t){case Wr.RAW:return new Ym(EP(e));case Wr.BASE64:case Wr.BASE64URL:return new Ym(TP(t,e));case Wr.DATA_URL:return new Ym(Rz(e),Az(e))}throw w_()}function EP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,i=t.charCodeAt(++n);r=65536|(o&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Cz(t){let e;try{e=decodeURIComponent(t)}catch{throw Rc(Wr.DATA_URL,"Malformed data URL.")}return EP(e)}function TP(t,e){switch(t){case Wr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Rc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Wr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Rc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Sz(e)}catch(s){throw s.message.includes("polyfill")?s:Rc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class bP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rc(Wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Pz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Rz(t){const e=new bP(t);return e.base64?TP(Wr.BASE64,e.rest):Cz(e.rest)}function Az(t){return new bP(t).contentType}function Pz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){let r=0,s="";YT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(YT(this.data_)){const r=this.data_,s=bz(r,e,n);return s===null?null:new io(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new io(r,!0)}}static getBlob(...e){if(x_()){const n=e.map(r=>r instanceof io?r.data_:r);return new io(Tz.apply(null,n))}else{const n=e.map(i=>__(i)?Iz(Wr.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)s[o++]=i[a]}),new io(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){let e;try{e=JSON.parse(t)}catch{return null}return pz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Nz(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function SP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t,e){return e}class vn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Dz}}let Ld=null;function Oz(t){return!__(t)||t.length<2?t:SP(t)}function IP(){if(Ld)return Ld;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(o,i){return Oz(i)}const n=new vn("name");n.xform=e,t.push(n);function r(o,i){return i!==void 0?Number(i):i}const s=new vn("size");return s.xform=r,t.push(s),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),Ld=t,Ld}function Mz(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new En(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function jz(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const i=n[o];r[i.local]=i.xform(r,e[i.server])}return Mz(r,t),r}function CP(t,e,n){const r=E_(e);return r===null?null:jz(t,r,n)}function Lz(t,e,n,r){const s=E_(e);if(s===null||!__(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(u=>{const h=t.bucket,f=t.fullPath,p="/b/"+i(h)+"/o/"+i(f),y=Wu(p,n,r),b=xP({alt:"media",token:u});return y+b})[0]}function Fz(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="prefixes",JT="items";function Vz(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[XT])for(const s of n[XT]){const o=s.replace(/\/$/,""),i=t._makeStorageReference(new En(e,o));r.prefixes.push(i)}if(n[JT])for(const s of n[JT]){const o=t._makeStorageReference(new En(e,s.name));r.items.push(o)}return r}function Uz(t,e,n){const r=E_(n);return r===null?null:Vz(t,e,r)}class Ep{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){if(!t)throw w_()}function $z(t,e){function n(r,s){const o=CP(t,s,e);return T_(o!==null),o}return n}function Bz(t,e){function n(r,s){const o=Uz(t,e,s);return T_(o!==null),o}return n}function zz(t,e){function n(r,s){const o=CP(t,s,e);return T_(o!==null),Lz(o,s,t.host,t._protocol)}return n}function b_(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=ZB():s=JB():n.getStatus()===402?s=XB(t.bucket):n.getStatus()===403?s=ez(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function RP(t){const e=b_(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=YB(t.path)),o.serverResponse=s.serverResponse,o}return n}function Wz(t,e,n,r,s){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),s&&(o.maxResults=s);const i=e.bucketOnlyServerUrl(),a=Wu(i,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,h=new Ep(a,l,Bz(t,e.bucket),u);return h.urlParams=o,h.errorHandler=b_(e),h}function Hz(t,e,n){const r=e.fullServerUrl(),s=Wu(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new Ep(s,o,zz(t,n),i);return a.errorHandler=RP(e),a}function qz(t,e){const n=e.fullServerUrl(),r=Wu(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function i(l,u){}const a=new Ep(r,s,i,o);return a.successCodes=[200,204],a.errorHandler=RP(e),a}function Gz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Kz(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Gz(null,e)),r}function Qz(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let k=0;k<2;k++)T=T+Math.random().toString().slice(2);return T}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const u=Kz(e,r,s),h=Fz(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",y=io.getBlob(f,r,p);if(y===null)throw iz();const b={name:u.fullPath},v=Wu(o,t.host,t._protocol),x="POST",E=t.maxUploadRetryTime,w=new Ep(v,x,$z(t,n),E);return w.urlParams=b,w.headers=i,w.body=y.uploadData(),w.errorHandler=b_(e),w}class Yz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Ql("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Xz extends Yz{initXhr(){this.xhr_.responseType="text"}}function Tp(){return new Xz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oi(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SP(this._location.path)}get storage(){return this._service}get parent(){const e=kz(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new Oi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cz(e)}}function Jz(t,e,n){t._throwIfRoot("uploadBytes");const r=Qz(t.storage,t._location,IP(),new io(e,!0),n);return t.storage.makeRequestWithTokens(r,Tp).then(s=>({metadata:s,ref:t}))}function Zz(t){const e={prefixes:[],items:[]};return AP(t,e).then(()=>e)}async function AP(t,e,n){const s=await e8(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await AP(t,e,s.nextPageToken)}function e8(t,e){e!=null&&typeof e.maxResults=="number"&&zy("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Wz(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Tp)}function t8(t){t._throwIfRoot("getDownloadURL");const e=Hz(t.storage,t._location,IP());return t.storage.makeRequestWithTokens(e,Tp).then(n=>{if(n===null)throw az();return n})}function n8(t){t._throwIfRoot("deleteObject");const e=qz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Tp)}function r8(t,e){const n=Nz(t._location.path,e),r=new En(t._location.bucket,n);return new Oi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){return/^[A-Za-z]+:\/\//.test(t)}function o8(t,e){return new Oi(t,e)}function PP(t,e){if(t instanceof S_){const n=t;if(n._bucket==null)throw oz();const r=new Oi(n,n._bucket);return e!=null?PP(r,e):r}else return e!==void 0?r8(t,e):t}function i8(t,e){if(e&&s8(e)){if(t instanceof S_)return o8(t,e);throw By("To use ref(service, url), the first argument must be a Storage instance.")}else return PP(t,e)}function ZT(t,e){const n=e==null?void 0:e[wP];return n==null?null:En.makeFromBucketSpec(n,t)}function a8(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:JC(s,t.app.options.projectId))}class S_{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=vP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KB,this._maxUploadRetryTime=QB,this._requests=new Set,s!=null?this._bucket=En.makeFromBucketSpec(s,this._host):this._bucket=ZT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=ZT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oi(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new uz(_P());{const i=xz(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const eb="@firebase/storage",tb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="storage";function l8(t,e,n){return t=Ye(t),Jz(t,e,n)}function NP(t){return t=Ye(t),Zz(t)}function DP(t){return t=Ye(t),t8(t)}function c8(t){return t=Ye(t),n8(t)}function lc(t,e){return t=Ye(t),i8(t,e)}function OP(t=Cu(),e){t=Ye(t);const r=xl(t,kP).getImmediate({identifier:e}),s=_w("storage");return s&&u8(r,...s),r}function u8(t,e,n,r={}){a8(t,e,n,r)}function d8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new S_(n,r,s,e,Bo)}function h8(){Ms(new Ds(kP,d8,"PUBLIC").setMultipleInstances(!0)),Gn(eb,tb,""),Gn(eb,tb,"esm2017")}h8();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="type.googleapis.com/google.protobuf.Int64Value",p8="type.googleapis.com/google.protobuf.UInt64Value";function MP(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Wy(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Wy(e));if(typeof t=="function"||typeof t=="object")return MP(t,e=>Wy(e));throw new Error("Data cannot be encoded in JSON: "+t)}function uf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case f8:case p8:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>uf(e)):typeof t=="function"||typeof t=="object"?MP(t,e=>uf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class La extends dr{constructor(e,n,r){super(`${I_}/${e}`,n||""),this.details=r}}function m8(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function g8(t,e){let n=m8(t),r=n,s;try{const o=e&&e.error;if(o){const i=o.status;if(typeof i=="string"){if(!nb[i])return new La("internal","internal");n=nb[i],r=i}const a=o.message;typeof a=="string"&&(r=a),s=o.details,s!==void 0&&(s=uf(s))}}catch{}return n==="ok"?null:new La(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="us-central1";function v8(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new La("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class w8{constructor(e,n,r,s,o=Hy,i){this.app=e,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new y8(n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Hy}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function _8(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function x8(t,e,n){return r=>T8(t,e,r,{})}async function E8(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function T8(t,e,n,r){const s=t._url(e);return b8(t,s,n,r)}async function b8(t,e,n,r){n=Wy(n);const s={data:n},o={},i=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);i.authToken&&(o.Authorization="Bearer "+i.authToken),i.messagingToken&&(o["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=i.appCheckToken);const a=r.timeout||7e4,l=v8(a),u=await Promise.race([E8(e,s,o,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new La("cancelled","Firebase Functions instance was deleted.");const h=g8(u.status,u.json);if(h)throw h;if(!u.json)throw new La("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new La("internal","Response is missing data field.");return{data:uf(f)}}const rb="@firebase/functions",sb="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="auth-internal",I8="app-check-internal",C8="messaging-internal";function R8(t,e){const n=(r,{instanceIdentifier:s})=>{const o=r.getProvider("app").getImmediate(),i=r.getProvider(S8),a=r.getProvider(C8),l=r.getProvider(I8);return new w8(o,i,a,l,s,t)};Ms(new Ds(I_,n,"PUBLIC").setMultipleInstances(!0)),Gn(rb,sb,e),Gn(rb,sb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t=Cu(),e=Hy){const r=xl(Ye(t),I_).getImmediate({identifier:e}),s=_w("functions");return s&&P8(r,...s),r}function P8(t,e,n){_8(Ye(t),e,n)}function k8(t,e,n){return x8(Ye(t),e)}R8(fetch.bind(self));const N8={apiKey:"AIzaSyBaLec0iL7GAM9XW9gWICNPndEicCuKNJA",authDomain:"selector-0219c.firebaseapp.com",projectId:"selector-0219c",storageBucket:"selector-0219c.firebasestorage.app",messagingSenderId:"368425106981",appId:"1:368425106981:web:c580536ade52f2b71c49cc"},Gi=Tw(N8),qy=xp(Gi),K=dA(Gi),jP=OP(Gi),LP=A8(Gi),D8=Object.freeze(Object.defineProperty({__proto__:null,app:Gi,auth:qy,db:K,functions:LP,storage:jP},Symbol.toStringTag,{value:"Module"})),zs=()=>{const[t,e]=m.useState(null),[n,r]=m.useState(void 0),[s,o]=m.useState(!0),i=ur();m.useEffect(()=>{const p=sP(qy,async y=>{y?(e(y),r(void 0),await a(y.uid)):(e(null),r(null),o(!1))});return()=>p()},[]);const a=async p=>{try{const y=_e(K,"profiles",p),b=await $n(y);if(b.exists()){const v=Pt(Ae(K,"user_roles"),$t("user_id","==",p)),x=await Qe(v);let E="client";x.empty||(E=x.docs[0].data().role),r({id:b.id,...b.data(),role:E})}else r(null)}catch(y){console.error("Error fetching profile:",y),r(null)}finally{o(!1)}},l=async()=>{await qy.signOut(),r(null),e(null),i("/auth")},u=(n==null?void 0:n.role)==="admin";return{user:t,profile:n,loading:s||t&&!(n!==void 0),signOut:l,isAdmin:u}},O8=Ff("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?DM:"button";return d.jsx(i,{className:ye(O8({variant:e,size:n,className:t})),ref:o,...s})});fe.displayName="Button";const bp=()=>{const[t,e]=m.useState({logo_url:"",primary_color:"#8B5CF6",secondary_color:"#0EA5E9",font_family:"Inter"});return m.useEffect(()=>{const n=_e(K,"settings","design"),r=bs(n,o=>{if(o.exists()){const i=o.data();e({logo_url:i.logo_url||"",primary_color:i.primary_color||"#8B5CF6",secondary_color:i.secondary_color||"#0EA5E9",font_family:i.font_family||"Inter"})}}),s=()=>{};return window.addEventListener("design-updated",s),()=>{r(),window.removeEventListener("design-updated",s)}},[]),t},dl=({className:t="h-8 w-auto",fallbackText:e="Photo Gallery"})=>{const n=bp();return n.logo_url?d.jsx("img",{src:n.logo_url,alt:"Logo",className:t}):d.jsx("span",{className:"text-xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:e})};async function Gy(t,e="Ravi Sharma Photo & Films"){return new Promise(n=>{try{if(t){const o=new Image;o.src=t}const r=document.createElement("div");r.className="cinematic-overlay",r.setAttribute("role","status"),r.setAttribute("aria-live","polite");const s=document.createElement("div");if(s.className="cinematic-inner cinematic-glow",t){const o=document.createElement("img");o.src=t,o.alt=e,o.className="cinematic-logo",s.appendChild(o)}else{const o=document.createElement("span");o.className="cinematic-logo cinematic-text",o.textContent=e,s.appendChild(o)}r.appendChild(s),document.body.appendChild(r),r.offsetHeight,setTimeout(()=>{r.classList.add("cinematic-fadeout"),setTimeout(()=>{r&&r.parentElement&&r.parentElement.removeChild(r),n()},500)},3500)}catch{n()}})}const M8=()=>{const{user:t,loading:e}=zs(),n=bp();m.useEffect(()=>{const a=document.querySelector(".hero-logo-onload");a&&setTimeout(()=>a.classList.add("visible"),50)},[]);const r=ur();if(m.useEffect(()=>{!e&&t&&r("/home")},[t,e,r]),e)return d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx(Us,{className:"h-8 w-8 animate-spin text-primary"})});const s=()=>{r("/auth")},o=["ravi.rv73838@gmail.com","ravi.rv73838@icloud.com"],i=async()=>{try{setLoading==null||setLoading(!0)}catch{}try{const a=new(await ni(async()=>{const{GoogleAuthProvider:p}=await Promise.resolve().then(()=>QT);return{GoogleAuthProvider:p}},void 0)).GoogleAuthProvider,l=(await ni(async()=>{const{auth:p}=await Promise.resolve().then(()=>D8);return{auth:p}},void 0)).auth,u=(await ni(async()=>{const{signInWithPopup:p}=await Promise.resolve().then(()=>QT);return{signInWithPopup:p}},void 0)).signInWithPopup,h=await u(l,a);if(!h.user.email||!o.includes(h.user.email.toLowerCase())){try{(await ni(async()=>{const{toast:y}=await Promise.resolve().then(()=>Nm);return{toast:y}},void 0)).toast.error("Not authorized as admin")}catch{}await l.signOut();return}try{(await ni(async()=>{const{toast:y}=await Promise.resolve().then(()=>Nm);return{toast:y}},void 0)).toast.success("Admin login successful!")}catch{}const f=n==null?void 0:n.logo_url;await Gy(f),r("/admin",{replace:!0})}catch{try{(await ni(async()=>{const{toast:u}=await Promise.resolve().then(()=>Nm);return{toast:u}},void 0)).toast.error("Google login failed")}catch{}}finally{try{setLoading==null||setLoading(!1)}catch{}}};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-accent/10 to-background"}),d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,hsl(var(--primary)/0.2),transparent_50%)]"}),d.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32",children:d.jsxs("div",{className:"text-center space-y-8 animate-fade-in",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary mb-4",children:[d.jsx(Jx,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Easy Gallery By"})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx(dl,{className:"mx-auto hero-logo-onload h-32 md:h-48 w-auto",fallbackText:"Ravi Sharma Photo & Films"})}),d.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["A luxury wedding storytelling experience.",d.jsx("br",{}),"Relive every emotion, every frame crafted by, ",d.jsx("br",{})," ",d.jsx("span",{className:"text-primary font-semibold",children:"Ravi Sharma Photo & Films."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[d.jsxs(fe,{onClick:s,size:"lg",className:"bg-gradient-primary hover:opacity-90 transition-opacity text-lg px-8",children:[d.jsx(Yx,{className:"mr-2 h-5 w-5"}),"Get Started (Client)"]}),d.jsxs(fe,{onClick:i,variant:"outline",size:"lg",className:"text-lg px-8 border-primary/20 hover:bg-primary/10",children:[d.jsx(Xx,{className:"mr-2 h-5 w-5"}),"Admin Login"]})]})]})})]}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsx(Xm,{icon:d.jsx(Yx,{className:"h-8 w-8"}),title:"Smooth Flow",description:"Your gallery, delivered instantly by us, seamless, secure, and cinematic."}),d.jsx(Xm,{icon:d.jsx(Jx,{className:"h-8 w-8"}),title:"Smart Selection",description:"Relive your moments in our cinematic viewer pick your favorites effortlessly."}),d.jsx(Xm,{icon:d.jsx(Xx,{className:"h-8 w-8"}),title:"Secure & Private",description:"Your memories stay yours protected with advanced access and privacy control."})]})})]})},Xm=({icon:t,title:e,description:n})=>d.jsxs("div",{className:"p-6 rounded-xl bg-card border border-border hover:border-primary/50 transition-all hover-scale group",children:[d.jsx("div",{className:"mb-4 text-primary group-hover:scale-110 transition-transform",children:t}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:e}),d.jsx("p",{className:"text-muted-foreground",children:n})]}),j8=()=>{zs();const t=bp(),e=ur(),[n,r]=m.useState(""),[s,o]=m.useState(""),[i,a]=m.useState(!1),[l,u]=m.useState(null);m.useEffect(()=>{t!=null&&t.logo_url&&u(t.logo_url)},[t]);const h=async f=>{f.preventDefault(),a(!0);try{const p=xp(),y=await eP(p,n,s);de.success("Login successful!");const b=l||(t==null?void 0:t.logo_url)||"";b?await Gy(b):await Gy(void 0,"Ravi Sharma Photo & Films"),e("/home",{replace:!0})}catch(p){de.error(p.message||"Login failed")}finally{a(!1)}};return d.jsxs("div",{className:"auth-bg flex flex-col items-center justify-center min-h-screen bg-black text-white text-center p-4 animate-fadeIn",children:[l&&d.jsx("img",{src:l,alt:"Ravi Sharma Photo & Films",className:"w-44 sm:w-36 mb-8",style:{maxWidth:"180px",height:"auto"}}),!l&&d.jsx("h1",{className:"text-3xl font-bold mb-8 text-primary font-playfair",children:"Ravi Sharma Photo & Films"}),d.jsxs("div",{className:"auth-card flex flex-col items-center justify-center",children:[d.jsx("h1",{className:"text-3xl font-semibold mb-6 font-playfair",children:"Welcome Back"}),d.jsxs("form",{onSubmit:h,className:"flex flex-col gap-4 w-full max-w-sm",children:[d.jsx("input",{type:"email",placeholder:"Email",className:"p-3 rounded bg-zinc-900 text-white border border-zinc-700 focus:outline-none focus:border-zinc-500",value:n,onChange:f=>r(f.target.value),required:!0}),d.jsx("input",{type:"password",placeholder:"Password",className:"p-3 rounded bg-zinc-900 text-white border border-zinc-700 focus:outline-none focus:border-zinc-500",value:s,onChange:f=>o(f.target.value),required:!0}),d.jsx(fe,{type:"submit",disabled:i,children:i?"Please wait...":"Login"})]})]})]})},yt=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));yt.displayName="Card";const pn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",t),...e}));pn.displayName="CardHeader";const mn=m.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));mn.displayName="CardTitle";const Is=m.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));Is.displayName="CardDescription";const Wt=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ye("p-6 pt-0",t),...e}));Wt.displayName="CardContent";const L8=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",t),...e}));L8.displayName="CardFooter";const F8=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(0);m.useEffect(()=>{s()},[]);const s=async()=>{try{const o=lc(jP,"hero-images"),i=await NP(o),a=await Promise.all(i.items.map(async l=>await DP(l)));e(a)}catch(o){console.error("Error loading hero images:",o)}};return m.useEffect(()=>{if(t.length>1){const o=setInterval(()=>{r(i=>(i+1)%t.length)},5e3);return()=>clearInterval(o)}},[t.length]),t.length===0?d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-accent/20"}):d.jsx(d.Fragment,{children:t.map((o,i)=>d.jsx("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{opacity:i===n?1:0,backgroundImage:`url(${o})`,backgroundSize:"cover",backgroundPosition:"center"},children:d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/40 via-transparent to-black/40"})},o))})},V8=()=>{const[t,e]=m.useState(!1),n=ur(),r=zi(),{profile:s,signOut:o}=zs(),i=bp(),a=[{label:"Home",path:"/home",icon:k1,show:!0},{label:"Gallery",path:"/gallery",icon:Uf,show:!0},{label:"Admin",path:"/admin",icon:Wj,show:(s==null?void 0:s.role)==="admin"}],l=h=>{n(h),e(!1)},u=async()=>{await o(),e(!1)};return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border",children:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[i.logo_url&&d.jsx("img",{src:i.logo_url,alt:"Logo",className:"h-8 w-auto"}),d.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"ml-auto",children:t?d.jsx(Bf,{className:"h-6 w-6"}):d.jsx(Lj,{className:"h-6 w-6"})})]})}),t&&d.jsx("div",{className:"md:hidden fixed inset-0 z-40 bg-background/95 backdrop-blur-sm pt-16",children:d.jsxs("nav",{className:"flex flex-col p-6 space-y-4",children:[a.map(h=>h.show&&d.jsxs(fe,{variant:r.pathname===h.path?"default":"ghost",className:"w-full justify-start text-lg",onClick:()=>l(h.path),children:[d.jsx(h.icon,{className:"mr-3 h-5 w-5"}),h.label]},h.path)),d.jsx("div",{className:"pt-4 border-t border-border",children:d.jsxs(fe,{variant:"ghost",className:"w-full justify-start text-lg text-destructive hover:text-destructive",onClick:u,children:[d.jsx($f,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})]})},U8=()=>{const{user:t,profile:e,loading:n}=zs(),r=ur(),s=(e==null?void 0:e.id)||(t==null?void 0:t.uid),[o,i]=m.useState("Welcome to Your Gallery"),[a,l]=m.useState("Select and download your favorite moments"),[u,h]=m.useState(""),[f,p]=m.useState(!1);return m.useEffect(()=>{!n&&!t&&r("/auth")},[t,n,r]),m.useEffect(()=>{!n&&t&&(e==null?void 0:e.role)==="admin"&&r("/admin")},[t,e,n,r]),m.useEffect(()=>{if(!s)return;const y=_e(K,"profiles",s),b=bs(y,v=>{if(v.exists()){const x=v.data();p(!!x.selection_locked||!!x.selection_finalized)}});return()=>b()},[s]),m.useEffect(()=>{const y=_e(K,"settings","app"),b=bs(y,E=>{if(E.exists()){const w=E.data();i(w.hero_title||"Welcome to Your Gallery"),l(w.hero_subtitle||"Select and download your favorite moments")}}),v=_e(K,"settings","design"),x=bs(v,E=>{if(E.exists()){const w=E.data();h(w.logo_url||"")}});return()=>{b(),x()}},[]),n?d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx(Us,{className:"h-8 w-8 animate-spin text-primary"})}):d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(V8,{}),d.jsxs("section",{className:"relative min-h-[70vh] flex items-center justify-center overflow-hidden",children:[d.jsx(F8,{}),d.jsxs("div",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[d.jsx("div",{className:"mb-8",children:d.jsx(dl,{className:"h-20 w-auto mx-auto"})}),d.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 animate-fade-in",style:{fontFamily:"Playfair Display, serif",color:"#d4af37",textShadow:"0 0 8px rgba(212, 175, 55, 0.5)"},children:o}),d.jsx("p",{className:"text-xl md:text-2xl text-foreground/90 mb-8 animate-fade-in",children:a})]})]}),d.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsx(yt,{className:"p-8 hover:border-primary/50 hover:shadow-glow transition-all cursor-pointer group",onClick:()=>r("/gallery?mode=view"),children:d.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[d.jsx("div",{className:"p-6 rounded-full bg-primary/10 border-2 border-primary/20 group-hover:bg-primary/20 group-hover:border-primary/40 transition-all",children:d.jsx(P1,{className:"h-10 w-10 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold mb-3",children:"View Photos"}),d.jsx("p",{className:"text-muted-foreground",children:"Browse and download your photos in view-only mode"})]}),d.jsx(fe,{variant:"outline",className:"w-full",children:"View Gallery"})]})}),d.jsx(yt,{className:`p-8 hover:border-primary/50 hover:shadow-glow transition-all cursor-pointer group ${f?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{if(f){de.message("Selections locked  contact photographer to reopen");return}r("/gallery?mode=select")},children:d.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[d.jsx("div",{className:"p-6 rounded-full bg-primary/10 border-2 border-primary/20 group-hover:bg-primary/20 group-hover:border-primary/40 transition-all",children:d.jsx(M1,{className:"h-10 w-10 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Start Selections"}),d.jsx("p",{className:"text-muted-foreground",children:"Select your favorite photos with full-screen viewer"})]}),d.jsx(fe,{className:"w-full bg-gradient-primary hover:opacity-90 transition-opacity",disabled:f,onClick:()=>{f&&de.message("Selections locked  contact photographer to reopen")},children:f?"Finalized":"Begin Selection"})]})}),d.jsx(yt,{className:"p-8 hover:border-primary/50 hover:shadow-glow transition-all cursor-pointer group",onClick:()=>window.open("https://ravisharmaphotofilms.in","_blank"),children:d.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[d.jsx("div",{className:"p-6 rounded-full bg-primary/10 border-2 border-primary/20 group-hover:bg-primary/20 group-hover:border-primary/40 transition-all",children:d.jsx(Dj,{className:"h-10 w-10 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Main Site"}),d.jsx("p",{className:"text-muted-foreground",children:"Visit Ravi Sharma Photo & Films"})]}),d.jsx(fe,{variant:"outline",className:"w-full",children:"Visit Site"})]})})]}),f&&d.jsx("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:" Your selection was finalized  contact photographer to reopen"})]})]})};var $8=m.createContext(void 0);function Sp(t){const e=m.useContext($8);return t||e||"ltr"}var Jm=0;function C_(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ob()),document.body.insertAdjacentElement("beforeend",t[1]??ob()),Jm++,()=>{Jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jm--}},[])}function ob(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zm="focusScope.autoFocusOnMount",eg="focusScope.autoFocusOnUnmount",ib={bubbles:!1,cancelable:!0},B8="FocusScope",Ip=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,l]=m.useState(null),u=Fn(s),h=Fn(o),f=m.useRef(null),p=Ke(e,v=>l(v)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(T){if(y.paused||!a)return;const k=T.target;a.contains(k)?f.current=k:to(f.current,{select:!0})},x=function(T){if(y.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||to(f.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&to(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,y.paused]),m.useEffect(()=>{if(a){lb.add(y);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(Zm,ib);a.addEventListener(Zm,u),a.dispatchEvent(E),E.defaultPrevented||(z8(K8(FP(a)),{select:!0}),document.activeElement===v&&to(a))}return()=>{a.removeEventListener(Zm,u),setTimeout(()=>{const E=new CustomEvent(eg,ib);a.addEventListener(eg,h),a.dispatchEvent(E),E.defaultPrevented||to(v??document.body,{select:!0}),a.removeEventListener(eg,h),lb.remove(y)},0)}}},[a,u,h,y]);const b=m.useCallback(v=>{if(!n&&!r||y.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(x&&E){const w=v.currentTarget,[T,k]=W8(w);T&&k?!v.shiftKey&&E===k?(v.preventDefault(),n&&to(T,{select:!0})):v.shiftKey&&E===T&&(v.preventDefault(),n&&to(k,{select:!0})):E===w&&v.preventDefault()}},[n,r,y.paused]);return d.jsx(Ee.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});Ip.displayName=B8;function z8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(to(r,{select:e}),document.activeElement!==n)return}function W8(t){const e=FP(t),n=ab(e,t),r=ab(e.reverse(),t);return[n,r]}function FP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ab(t,e){for(const n of t)if(!H8(n,{upTo:e}))return n}function H8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function q8(t){return t instanceof HTMLInputElement&&"select"in t}function to(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&q8(t)&&e&&t.select()}}var lb=G8();function G8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cb(t,e),t.unshift(e)},remove(e){var n;t=cb(t,e),(n=t[0])==null||n.resume()}}}function cb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function K8(t){return t.filter(e=>e.tagName!=="A")}var tg="rovingFocusGroup.onEntryFocus",Q8={bubbles:!1,cancelable:!0},Hu="RovingFocusGroup",[Ky,VP,Y8]=Mf(Hu),[X8,Cp]=Pr(Hu,[Y8]),[J8,Z8]=X8(Hu),UP=m.forwardRef((t,e)=>d.jsx(Ky.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Ky.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(eW,{...t,ref:e})})}));UP.displayName=Hu;var eW=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,p=m.useRef(null),y=Ke(e,p),b=Sp(o),[v,x]=Ri({prop:i,defaultProp:a??null,onChange:l,caller:Hu}),[E,w]=m.useState(!1),T=Fn(u),k=VP(n),D=m.useRef(!1),[M,I]=m.useState(0);return m.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(tg,T),()=>S.removeEventListener(tg,T)},[T]),d.jsx(J8,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(S=>x(S),[x]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>I(S=>S-1),[]),children:d.jsx(Ee.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{D.current=!0}),onFocus:oe(t.onFocus,S=>{const R=!D.current;if(S.target===S.currentTarget&&R&&!E){const P=new CustomEvent(tg,Q8);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const C=k().filter(J=>J.focusable),O=C.find(J=>J.active),N=C.find(J=>J.id===v),ie=[O,N,...C].filter(Boolean).map(J=>J.ref.current);zP(ie,h)}}D.current=!1}),onBlur:oe(t.onBlur,()=>w(!1))})})}),$P="RovingFocusGroupItem",BP=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=t,l=Gr(),u=o||l,h=Z8($P,n),f=h.currentTabStopId===u,p=VP(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:v}=h;return m.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),d.jsx(Ky.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:d.jsx(Ee.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:oe(t.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:oe(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:oe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const E=rW(x,h.orientation,h.dir);if(E!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=p().filter(k=>k.focusable).map(k=>k.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const k=T.indexOf(x.currentTarget);T=h.loop?sW(T,k+1):T.slice(k+1)}setTimeout(()=>zP(T))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});BP.displayName=$P;var tW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rW(t,e,n){const r=nW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tW[r]}function zP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function sW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var WP=UP,HP=BP,oW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ra=new WeakMap,Fd=new WeakMap,Vd={},ng=0,qP=function(t){return t&&(t.host||qP(t.parentNode))},iW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=qP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aW=function(t,e,n,r){var s=iW(e,Array.isArray(t)?t:[t]);Vd[n]||(Vd[n]=new WeakMap);var o=Vd[n],i=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var y=p.getAttribute(r),b=y!==null&&y!=="false",v=(ra.get(p)||0)+1,x=(o.get(p)||0)+1;ra.set(p,v),o.set(p,x),i.push(p),v===1&&b&&Fd.set(p,!0),x===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return h(e),a.clear(),ng++,function(){i.forEach(function(f){var p=ra.get(f)-1,y=o.get(f)-1;ra.set(f,p),o.set(f,y),p||(Fd.has(f)||f.removeAttribute(r),Fd.delete(f)),y||f.removeAttribute(n)}),ng--,ng||(ra=new WeakMap,ra=new WeakMap,Fd=new WeakMap,Vd={})}},R_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=oW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),aW(r,s,n,"aria-hidden")):function(){return null}},ph="right-scroll-bar-position",mh="width-before-scroll-bar",lW="with-scroll-bars-hidden",cW="--removed-body-scroll-bar-size";function rg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uW(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var dW=typeof window<"u"?m.useLayoutEffect:m.useEffect,ub=new WeakMap;function hW(t,e){var n=uW(null,function(r){return t.forEach(function(s){return rg(s,r)})});return dW(function(){var r=ub.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||rg(a,null)}),o.forEach(function(a){s.has(a)||rg(a,i)})}ub.set(n,t)},[t]),n}function fW(t){return t}function pW(t,e){e===void 0&&(e=fW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var h=i;i=[],h.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function mW(t){t===void 0&&(t={});var e=pW(null);return e.options=Br({async:!0,ssr:!1},t),e}var GP=function(t){var e=t.sideCar,n=Vu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Br({},n))};GP.isSideCarExport=!0;function gW(t,e){return t.useMedium(e),GP}var KP=mW(),sg=function(){},Rp=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:sg,onWheelCapture:sg,onTouchMoveCapture:sg}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noRelative,b=t.noIsolation,v=t.inert,x=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,T=t.gapMode,k=Vu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,M=hW([n,e]),I=Br(Br({},k),s);return m.createElement(m.Fragment,null,h&&m.createElement(D,{sideCar:KP,removeScrollBar:u,shards:f,noRelative:y,noIsolation:b,inert:v,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:T}),i?m.cloneElement(m.Children.only(a),Br(Br({},I),{ref:M})):m.createElement(w,Br({},I,{className:l,ref:M}),a))});Rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rp.classNames={fullWidth:mh,zeroRight:ph};var yW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yW();return e&&t.setAttribute("nonce",e),t}function wW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _W(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vW())&&(wW(e,n),_W(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},EW=function(){var t=xW();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},QP=function(){var t=EW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},TW={left:0,top:0,right:0,gap:0},og=function(t){return parseInt(t||"",10)||0},bW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[og(n),og(r),og(s)]},SW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TW;var e=bW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},IW=QP(),Fa="data-scroll-locked",CW=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Fa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ph,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(mh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ph," .").concat(ph,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mh," .").concat(mh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fa,`] {
    `).concat(cW,": ").concat(a,`px;
  }
`)},db=function(){var t=parseInt(document.body.getAttribute(Fa)||"0",10);return isFinite(t)?t:0},RW=function(){m.useEffect(function(){return document.body.setAttribute(Fa,(db()+1).toString()),function(){var t=db()-1;t<=0?document.body.removeAttribute(Fa):document.body.setAttribute(Fa,t.toString())}},[])},AW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;RW();var o=m.useMemo(function(){return SW(s)},[s]);return m.createElement(IW,{styles:CW(o,!e,s,n?"":"!important")})},Qy=!1;if(typeof window<"u")try{var Ud=Object.defineProperty({},"passive",{get:function(){return Qy=!0,!0}});window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{Qy=!1}var sa=Qy?{passive:!1}:!1,PW=function(t){return t.tagName==="TEXTAREA"},YP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!PW(t)&&n[e]==="visible")},kW=function(t){return YP(t,"overflowY")},NW=function(t){return YP(t,"overflowX")},hb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=XP(t,r);if(s){var o=JP(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},OW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},XP=function(t,e){return t==="v"?kW(e):NW(e)},JP=function(t,e){return t==="v"?DW(e):OW(e)},MW=function(t,e){return t==="h"&&e==="rtl"?-1:1},jW=function(t,e,n,r,s){var o=MW(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,l=e.contains(a),u=!1,h=i>0,f=0,p=0;do{if(!a)break;var y=JP(t,a),b=y[0],v=y[1],x=y[2],E=v-x-o*b;(b||E)&&XP(t,a)&&(f+=E,p+=b);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(u=!0),u},$d=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fb=function(t){return[t.deltaX,t.deltaY]},pb=function(t){return t&&"current"in t?t.current:t},LW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},VW=0,oa=[];function UW(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(VW++)[0],o=m.useState(QP)[0],i=m.useRef(t);m.useEffect(function(){i.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=H$([t.lockRef.current],(t.shards||[]).map(pb),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var E=$d(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-E[0],k="deltaY"in v?v.deltaY:w[1]-E[1],D,M=v.target,I=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in v&&I==="h"&&M.type==="range")return!1;var S=hb(I,M);if(!S)return!0;if(S?D=I:(D=I==="v"?"h":"v",S=hb(I,M)),!S)return!1;if(!r.current&&"changedTouches"in v&&(T||k)&&(r.current=D),!D)return!0;var R=r.current||D;return jW(R,x,v,R==="h"?T:k)},[]),l=m.useCallback(function(v){var x=v;if(!(!oa.length||oa[oa.length-1]!==o)){var E="deltaY"in x?fb(x):$d(x),w=e.current.filter(function(D){return D.name===x.type&&(D.target===x.target||x.target===D.shadowParent)&&LW(D.delta,E)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var T=(i.current.shards||[]).map(pb).filter(Boolean).filter(function(D){return D.contains(x.target)}),k=T.length>0?a(x,T[0]):!i.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(v,x,E,w){var T={name:v,delta:x,target:E,should:w,shadowParent:$W(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),h=m.useCallback(function(v){n.current=$d(v),r.current=void 0},[]),f=m.useCallback(function(v){u(v.type,fb(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){u(v.type,$d(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return oa.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,sa),document.addEventListener("touchmove",l,sa),document.addEventListener("touchstart",h,sa),function(){oa=oa.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,sa),document.removeEventListener("touchmove",l,sa),document.removeEventListener("touchstart",h,sa)}},[]);var y=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(o,{styles:FW(s)}):null,y?m.createElement(AW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function $W(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const BW=gW(KP,UW);var Ap=m.forwardRef(function(t,e){return m.createElement(Rp,Br({},t,{ref:e,sideCar:BW}))});Ap.classNames=Rp.classNames;var Yy=["Enter"," "],zW=["ArrowDown","PageUp","Home"],ZP=["ArrowUp","PageDown","End"],WW=[...zW,...ZP],HW={ltr:[...Yy,"ArrowRight"],rtl:[...Yy,"ArrowLeft"]},qW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qu="Menu",[lu,GW,KW]=Mf(qu),[Ki,ek]=Pr(qu,[KW,wl,Cp]),Pp=wl(),tk=Cp(),[QW,Qi]=Ki(qu),[YW,Gu]=Ki(qu),nk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=t,a=Pp(e),[l,u]=m.useState(null),h=m.useRef(!1),f=Fn(o),p=Sp(s);return m.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),d.jsx(yC,{...a,children:d.jsx(QW,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:u,children:d.jsx(YW,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:i,children:r})})})};nk.displayName=qu;var XW="MenuAnchor",A_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Pp(n);return d.jsx(fw,{...s,...r,ref:e})});A_.displayName=XW;var P_="MenuPortal",[JW,rk]=Ki(P_,{forceMount:void 0}),sk=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=Qi(P_,e);return d.jsx(JW,{scope:e,forceMount:n,children:d.jsx(kr,{present:n||o.open,children:d.jsx(_u,{asChild:!0,container:s,children:r})})})};sk.displayName=P_;var ir="MenuContent",[ZW,k_]=Ki(ir),ok=m.forwardRef((t,e)=>{const n=rk(ir,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Qi(ir,t.__scopeMenu),i=Gu(ir,t.__scopeMenu);return d.jsx(lu.Provider,{scope:t.__scopeMenu,children:d.jsx(kr,{present:r||o.open,children:d.jsx(lu.Slot,{scope:t.__scopeMenu,children:i.modal?d.jsx(e7,{...s,ref:e}):d.jsx(t7,{...s,ref:e})})})})}),e7=m.forwardRef((t,e)=>{const n=Qi(ir,t.__scopeMenu),r=m.useRef(null),s=Ke(e,r);return m.useEffect(()=>{const o=r.current;if(o)return R_(o)},[]),d.jsx(N_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),t7=m.forwardRef((t,e)=>{const n=Qi(ir,t.__scopeMenu);return d.jsx(N_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),n7=Ci("MenuContent.ScrollLock"),N_=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:b,...v}=t,x=Qi(ir,n),E=Gu(ir,n),w=Pp(n),T=tk(n),k=GW(n),[D,M]=m.useState(null),I=m.useRef(null),S=Ke(e,I,x.onContentChange),R=m.useRef(0),P=m.useRef(""),C=m.useRef(0),O=m.useRef(null),N=m.useRef("right"),U=m.useRef(0),ie=b?Ap:m.Fragment,J=b?{as:n7,allowPinchZoom:!0}:void 0,q=j=>{var Y,Oe;const H=P.current+j,te=k().filter(ke=>!ke.disabled),X=document.activeElement,le=(Y=te.find(ke=>ke.ref.current===X))==null?void 0:Y.textValue,pe=te.map(ke=>ke.textValue),De=p7(pe,H,le),$e=(Oe=te.find(ke=>ke.textValue===De))==null?void 0:Oe.ref.current;(function ke(W){P.current=W,window.clearTimeout(R.current),W!==""&&(R.current=window.setTimeout(()=>ke(""),1e3))})(H),$e&&setTimeout(()=>$e.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),C_();const F=m.useCallback(j=>{var te,X;return N.current===((te=O.current)==null?void 0:te.side)&&g7(j,(X=O.current)==null?void 0:X.area)},[]);return d.jsx(ZW,{scope:n,searchRef:P,onItemEnter:m.useCallback(j=>{F(j)&&j.preventDefault()},[F]),onItemLeave:m.useCallback(j=>{var H;F(j)||((H=I.current)==null||H.focus(),M(null))},[F]),onTriggerLeave:m.useCallback(j=>{F(j)&&j.preventDefault()},[F]),pointerGraceTimerRef:C,onPointerGraceIntentChange:m.useCallback(j=>{O.current=j},[]),children:d.jsx(ie,{...J,children:d.jsx(Ip,{asChild:!0,trapped:s,onMountAutoFocus:oe(o,j=>{var H;j.preventDefault(),(H=I.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:d.jsx(ml,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:d.jsx(WP,{asChild:!0,...T,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:M,onEntryFocus:oe(l,j=>{E.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(pw,{role:"menu","aria-orientation":"vertical","data-state":xk(x.open),"data-radix-menu-content":"",dir:E.dir,...w,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:oe(v.onKeyDown,j=>{const te=j.target.closest("[data-radix-menu-content]")===j.currentTarget,X=j.ctrlKey||j.altKey||j.metaKey,le=j.key.length===1;te&&(j.key==="Tab"&&j.preventDefault(),!X&&le&&q(j.key));const pe=I.current;if(j.target!==pe||!WW.includes(j.key))return;j.preventDefault();const $e=k().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);ZP.includes(j.key)&&$e.reverse(),h7($e)}),onBlur:oe(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:oe(t.onPointerMove,cu(j=>{const H=j.target,te=U.current!==j.clientX;if(j.currentTarget.contains(H)&&te){const X=j.clientX>U.current?"right":"left";N.current=X,U.current=j.clientX}}))})})})})})})});ok.displayName=ir;var r7="MenuGroup",D_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Ee.div,{role:"group",...r,ref:e})});D_.displayName=r7;var s7="MenuLabel",ik=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Ee.div,{...r,ref:e})});ik.displayName=s7;var df="MenuItem",mb="menu.itemSelect",kp=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=m.useRef(null),i=Gu(df,t.__scopeMenu),a=k_(df,t.__scopeMenu),l=Ke(e,o),u=m.useRef(!1),h=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent(mb,{bubbles:!0,cancelable:!0});f.addEventListener(mb,y=>r==null?void 0:r(y),{once:!0}),ew(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return d.jsx(ak,{...s,ref:l,disabled:n,onClick:oe(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),u.current=!0},onPointerUp:oe(t.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:oe(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Yy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});kp.displayName=df;var ak=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,i=k_(df,n),a=tk(n),l=m.useRef(null),u=Ke(e,l),[h,f]=m.useState(!1),[p,y]=m.useState("");return m.useEffect(()=>{const b=l.current;b&&y((b.textContent??"").trim())},[o.children]),d.jsx(lu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:d.jsx(HP,{asChild:!0,...a,focusable:!r,children:d.jsx(Ee.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:oe(t.onPointerMove,cu(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,cu(b=>i.onItemLeave(b))),onFocus:oe(t.onFocus,()=>f(!0)),onBlur:oe(t.onBlur,()=>f(!1))})})})}),o7="MenuCheckboxItem",lk=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return d.jsx(fk,{scope:t.__scopeMenu,checked:n,children:d.jsx(kp,{role:"menuitemcheckbox","aria-checked":hf(n)?"mixed":n,...s,ref:e,"data-state":M_(n),onSelect:oe(s.onSelect,()=>r==null?void 0:r(hf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});lk.displayName=o7;var ck="MenuRadioGroup",[i7,a7]=Ki(ck,{value:void 0,onValueChange:()=>{}}),uk=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=Fn(r);return d.jsx(i7,{scope:t.__scopeMenu,value:n,onValueChange:o,children:d.jsx(D_,{...s,ref:e})})});uk.displayName=ck;var dk="MenuRadioItem",hk=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=a7(dk,t.__scopeMenu),o=n===s.value;return d.jsx(fk,{scope:t.__scopeMenu,checked:o,children:d.jsx(kp,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":M_(o),onSelect:oe(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});hk.displayName=dk;var O_="MenuItemIndicator",[fk,l7]=Ki(O_,{checked:!1}),pk=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=l7(O_,n);return d.jsx(kr,{present:r||hf(o.checked)||o.checked===!0,children:d.jsx(Ee.span,{...s,ref:e,"data-state":M_(o.checked)})})});pk.displayName=O_;var c7="MenuSeparator",mk=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});mk.displayName=c7;var u7="MenuArrow",gk=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Pp(n);return d.jsx(mw,{...s,...r,ref:e})});gk.displayName=u7;var d7="MenuSub",[rK,yk]=Ki(d7),cc="MenuSubTrigger",vk=m.forwardRef((t,e)=>{const n=Qi(cc,t.__scopeMenu),r=Gu(cc,t.__scopeMenu),s=yk(cc,t.__scopeMenu),o=k_(cc,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,u={__scopeMenu:t.__scopeMenu},h=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>h,[h]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),d.jsx(A_,{asChild:!0,...u,children:d.jsx(ak,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":xk(n.open),...t,ref:Of(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,cu(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:oe(t.onPointerLeave,cu(f=>{var y,b;h();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const v=(b=n.content)==null?void 0:b.dataset.side,x=v==="right",E=x?-5:5,w=p[x?"left":"right"],T=p[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:w,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:w,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,f=>{var y;const p=o.searchRef.current!=="";t.disabled||p&&f.key===" "||HW[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});vk.displayName=cc;var wk="MenuSubContent",_k=m.forwardRef((t,e)=>{const n=rk(ir,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Qi(ir,t.__scopeMenu),i=Gu(ir,t.__scopeMenu),a=yk(wk,t.__scopeMenu),l=m.useRef(null),u=Ke(e,l);return d.jsx(lu.Provider,{scope:t.__scopeMenu,children:d.jsx(kr,{present:r||o.open,children:d.jsx(lu.Slot,{scope:t.__scopeMenu,children:d.jsx(N_,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:oe(t.onFocusOutside,h=>{h.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:oe(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),p=qW[i.dir].includes(h.key);f&&p&&(o.onOpenChange(!1),(y=a.trigger)==null||y.focus(),h.preventDefault())})})})})})});_k.displayName=wk;function xk(t){return t?"open":"closed"}function hf(t){return t==="indeterminate"}function M_(t){return hf(t)?"indeterminate":t?"checked":"unchecked"}function h7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function f7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function p7(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=f7(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function m7(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],u=a.x,h=a.y,f=l.x,p=l.y;h>r!=p>r&&n<(f-u)*(r-h)/(p-h)+u&&(s=!s)}return s}function g7(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return m7(n,e)}function cu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var y7=nk,v7=A_,w7=sk,_7=ok,x7=D_,E7=ik,T7=kp,b7=lk,S7=uk,I7=hk,C7=pk,R7=mk,A7=gk,P7=vk,k7=_k,Np="DropdownMenu",[N7]=Pr(Np,[ek]),Rn=ek(),[D7,Ek]=N7(Np),Tk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,l=Rn(e),u=m.useRef(null),[h,f]=Ri({prop:s,defaultProp:o??!1,onChange:i,caller:Np});return d.jsx(D7,{scope:e,triggerId:Gr(),triggerRef:u,contentId:Gr(),open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:d.jsx(y7,{...l,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};Tk.displayName=Np;var bk="DropdownMenuTrigger",Sk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=Ek(bk,n),i=Rn(n);return d.jsx(v7,{asChild:!0,...i,children:d.jsx(Ee.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Of(e,o.triggerRef),onPointerDown:oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Sk.displayName=bk;var O7="DropdownMenuPortal",Ik=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Rn(e);return d.jsx(w7,{...r,...n})};Ik.displayName=O7;var Ck="DropdownMenuContent",Rk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ek(Ck,n),o=Rn(n),i=m.useRef(!1);return d.jsx(_7,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,h=l.button===2||u;(!s.modal||h)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Rk.displayName=Ck;var M7="DropdownMenuGroup",j7=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(x7,{...s,...r,ref:e})});j7.displayName=M7;var L7="DropdownMenuLabel",Ak=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(E7,{...s,...r,ref:e})});Ak.displayName=L7;var F7="DropdownMenuItem",Pk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(T7,{...s,...r,ref:e})});Pk.displayName=F7;var V7="DropdownMenuCheckboxItem",kk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(b7,{...s,...r,ref:e})});kk.displayName=V7;var U7="DropdownMenuRadioGroup",$7=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(S7,{...s,...r,ref:e})});$7.displayName=U7;var B7="DropdownMenuRadioItem",Nk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(I7,{...s,...r,ref:e})});Nk.displayName=B7;var z7="DropdownMenuItemIndicator",Dk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(C7,{...s,...r,ref:e})});Dk.displayName=z7;var W7="DropdownMenuSeparator",Ok=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(R7,{...s,...r,ref:e})});Ok.displayName=W7;var H7="DropdownMenuArrow",q7=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(A7,{...s,...r,ref:e})});q7.displayName=H7;var G7="DropdownMenuSubTrigger",Mk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(P7,{...s,...r,ref:e})});Mk.displayName=G7;var K7="DropdownMenuSubContent",jk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Rn(n);return d.jsx(k7,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jk.displayName=K7;var Q7=Tk,Y7=Sk,X7=Ik,Lk=Rk,Fk=Ak,Vk=Pk,Uk=kk,$k=Nk,Bk=Dk,zk=Ok,Wk=Mk,Hk=jk;const J7=Q7,Z7=Y7,eH=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(Wk,{ref:s,className:ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,d.jsx(Cj,{className:"ml-auto h-4 w-4"})]}));eH.displayName=Wk.displayName;const tH=m.forwardRef(({className:t,...e},n)=>d.jsx(Hk,{ref:n,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));tH.displayName=Hk.displayName;const qk=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(X7,{children:d.jsx(Lk,{ref:r,sideOffset:e,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));qk.displayName=Lk.displayName;const ua=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(Vk,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));ua.displayName=Vk.displayName;const nH=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs(Uk,{ref:s,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Bk,{children:d.jsx(Vf,{className:"h-4 w-4"})})}),e]}));nH.displayName=Uk.displayName;const rH=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs($k,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Bk,{children:d.jsx(Pj,{className:"h-2 w-2 fill-current"})})}),e]}));rH.displayName=$k.displayName;const Gk=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(Fk,{ref:r,className:ye("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Gk.displayName=Fk.displayName;const Xy=m.forwardRef(({className:t,...e},n)=>d.jsx(zk,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",t),...e}));Xy.displayName=zk.displayName;async function sH(){const t=_e(K,"settings","design");async function e(n){if(!n)return;const r=document.documentElement,s=n.primaryColor||n.primary_color||"#c8a44d",o=n.secondaryColor||n.secondary_color||"#000000";r.style.setProperty("--primary-color",s),r.style.setProperty("--secondary-color",o),r.style.setProperty("--app-bg-color",o);const i="cinematic-fonts";let a=document.getElementById(i);a||(a=document.createElement("style"),a.id=i,document.head.appendChild(a)),a.innerHTML=`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@500;600;700&display=swap');
      :root {
        --app-font: 'Inter', sans-serif;
        --heading-font: 'Playfair Display', serif;
      }
      body, button, input, textarea {
        font-family: var(--app-font);
      }
      h1, h2, h3, h4, h5, h6 {
        font-family: var(--heading-font);
      }
    `}try{const n=await $n(t);n.exists()&&await e(n.data())}catch(n){console.warn("DesignLoader initial load failed:",n)}bs(t,n=>{n.exists()&&e(n.data())}),window.addEventListener("design-updated",async()=>{const n=await $n(t);n.exists()&&await e(n.data())})}function gb(t){document.documentElement.dataset.theme=t||"default"}function oH(){const t=ur(),{signOut:e}=zs(),{pathname:n}=zi(),r=()=>t("/home"),s=()=>t("/gallery?mode=select&reset=1");return d.jsxs(J7,{children:[d.jsx(Z7,{asChild:!0,children:d.jsx(fe,{variant:"ghost",size:"icon",className:"rounded-full",children:d.jsx(Nj,{className:"h-5 w-5"})})}),d.jsxs(qk,{align:"end",className:"min-w-44",children:[d.jsx(Gk,{children:"Quick actions"}),d.jsxs(ua,{onClick:r,children:[d.jsx(k1,{className:"mr-2 h-4 w-4"})," Home"]}),n.startsWith("/gallery")&&d.jsxs(ua,{onClick:s,children:[d.jsx($j,{className:"mr-2 h-4 w-4"})," Reset selection"]}),d.jsx(Xy,{}),d.jsxs(ua,{onClick:()=>gb("cinematic"),children:[d.jsx(Fj,{className:"mr-2 h-4 w-4"})," Cinematic theme"]}),d.jsxs(ua,{onClick:()=>gb("light"),children:[d.jsx(Hj,{className:"mr-2 h-4 w-4"})," Light theme"]}),d.jsx(Xy,{}),d.jsxs(ua,{onClick:()=>e(),children:[d.jsx($f,{className:"mr-2 h-4 w-4"})," Sign Out"]})]})]})}function iH({title:t}){return d.jsx("header",{className:"cine-header sticky top-0 z-30",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{onClick:()=>location.href="/home",className:"cursor-pointer",children:d.jsx(dl,{className:"h-9 w-auto"})}),t&&d.jsx("div",{className:"text-sm text-muted-foreground",children:t})]}),d.jsx(oH,{})]})})}dA();const st={userRoles:{async list(){try{return{data:(await Qe(Ae(K,"user_roles"))).docs.map(n=>({id:n.id,...n.data()})),error:null}}catch(t){return{data:null,error:t}}}},profiles:{async get(t){try{const e=_e(K,"profiles",t),n=await $n(e);return n.exists()?{data:{id:n.id,...n.data()},error:null}:{data:null,error:null}}catch(e){return{data:null,error:e}}},async list(){try{const t=Pt(Ae(K,"profiles"),lh("created_at","desc"));return{data:(await Qe(t)).docs.map(r=>({id:r.id,...r.data()})),error:null}}catch(t){return{data:null,error:t}}},async update(t,e){try{const n=_e(K,"profiles",t);return await pt(n,{...e,updated_at:Xe()},{merge:!0}),{data:{id:t,...e},error:null}}catch(n){return{data:null,error:n}}},async patch(t,e){try{return await pt(_e(K,"profiles",t),e,{merge:!0}),{error:null}}catch(n){return{error:n}}},async delete(t){try{return await oi(_e(K,"profiles",t)),{error:null}}catch(e){return{error:e}}}},photos:{async list(t){try{try{const e=Pt(Ae(K,"photos"),$t("user_id","==",t)),n=await Qe(e);if(!n.empty)return{data:n.docs.map(r=>({id:r.id,...r.data()})),error:null}}catch(e){console.warn("Flat query (user_id) failed:",e)}try{const e=Pt(Ae(K,"photos"),$t("userId","==",t)),n=await Qe(e);if(!n.empty)return{data:n.docs.map(r=>({id:r.id,...r.data()})),error:null}}catch(e){console.warn("Flat query (userId) failed:",e)}try{const e=Ae(K,"photos",t),n=await Qe(e);if(!n.empty)return{data:n.docs.map(r=>({id:r.id,...r.data()})),error:null}}catch(e){console.warn("Nested photos subcollection lookup failed:",e)}return{data:[],error:null}}catch(e){return{data:null,error:e}}},async getByFileId(t,e){try{const n=Pt(Ae(K,"photos"),$t("file_id","==",e),$t("userId","==",t)),r=await Qe(n);if(!r.empty)return{data:{id:r.docs[0].id,...r.docs[0].data()},error:null};const s=await $n(_e(K,"photos",t,"items",e));return s.exists()?{data:{id:s.id,...s.data()},error:null}:{data:null,error:null}}catch(n){return{data:null,error:n}}},async create(t){try{return{data:{id:(await vo(Ae(K,"photos"),{...t,created_at:Xe()})).id,...t},error:null}}catch(e){return{data:null,error:e}}},async bulkCreate(t){try{const e=qm(K),n=Ae(K,"photos");return t.forEach(r=>{const s=_e(n);e.set(s,{...r,created_at:Xe()})}),await e.commit(),{data:t,error:null}}catch(e){return{data:null,error:e}}},async delete(t){try{return await oi(_e(K,"photos",t)),{error:null}}catch(e){return{error:e}}},async toCsvRows(t){const{data:e,error:n}=await st.photos.list(t);if(n)throw n;return(e??[]).map(s=>({id:s.id,name:s.name??"",userId:s.userId??s.user_id??t}))}},selections:{async resetUser(t){const e=_e(K,"selections",t),n=Ae(e,"items"),r=await Qe(n),s=qm(K);return r.forEach(o=>s.delete(o.ref)),s.delete(e),await s.commit(),{ok:!0}},async list(t){try{const e=async o=>{const i=Pt(Ae(K,"selections"),$t(o,"==",t));return await Qe(i)};let n=await e("userId");n.empty&&(n=await e("user_id"));const r=n.docs.map(o=>({id:o.id,...o.data()}));return{data:await Promise.all(r.map(async o=>{const i=o.photoId||o.photo_id||"";let a=i?await $n(_e(K,"photos",i)):null;if(!a||!a.exists()){const l=Pt(Ae(K,"photos"),$t("file_id","==",i)),u=await Qe(l);u.empty||(a=u.docs[0])}return{...o,photos:a&&a.exists()?{id:a.id,...a.data()}:null}})),error:null}}catch(e){return{data:null,error:e}}},async upsert(t){try{const e={...t,userId:t.userId||t.user_id,user_id:t.user_id||t.userId,photoId:t.photoId||t.photo_id,photo_id:t.photo_id||t.photoId,updated_at:Xe(),created_at:t.created_at||Xe()},n=e.userId||e.user_id,r=e.photoId||e.photo_id,s=`${n}__${r}`;return await pt(_e(Ae(K,"selections"),s),e,{merge:!0}),{data:{id:s,...e},error:null}}catch(e){return{data:null,error:e}}},async finalize(t){try{const e=Pt(Ae(K,"selections"),$t("userId","==",t)),n=await Qe(e),r=Pt(Ae(K,"selections"),$t("user_id","==",t)),s=await Qe(r),o=qm(K);return[...n.docs,...s.docs].forEach(i=>{o.set(i.ref,{finalized:!0,finalized_at:Xe(),updated_at:Xe()},{merge:!0})}),await o.commit(),await pt(_e(K,"profiles",t),{selection_finalized:!0,selection_locked:!0,finalized_at:Xe(),updated_at:Xe()},{merge:!0}),{data:{finalized:!0},error:null}}catch(e){return{data:null,error:e}}}},feedback:{async create(t,e){try{return{ok:!0,id:(await vo(Ae(K,"feedback"),{user_id:t,message:e,created_at:Xe()})).id}}catch(n){return console.error("feedback error",n),{ok:!1,error:String(n)}}},async add(t){try{return await vo(Ae(K,"feedback"),t),{error:null}}catch(e){return{error:e}}},async list(){try{const t=Pt(Ae(K,"feedback"),lh("created_at","desc")),e=await Qe(t);return{data:await Promise.all(e.docs.map(async r=>{const s={id:r.id,...r.data()},o=await $n(_e(K,"profiles",s.user_id));return{...s,profiles:o.exists()?{id:o.id,...o.data()}:null}})),error:null}}catch(t){return{data:null,error:t}}}},activityLogs:{async create(t,e,n){try{return{data:{id:(await vo(Ae(K,"activity_logs"),{action:t,user_id:e||null,details:n||null,created_at:Xe()})).id,action:t,user_id:e,details:n},error:null}}catch(r){return{data:null,error:r}}},async list(t=100){try{const e=Pt(Ae(K,"activity_logs"),lh("created_at","desc"),$$(t));return{data:(await Qe(e)).docs.map(s=>({id:s.id,...s.data()})),error:null}}catch(e){return{data:null,error:e}}}},settings:{async getDesign(){try{const t=_e(K,"settings","design"),e=await $n(t);return e.exists()?{data:{id:e.id,...e.data()},error:null}:{data:{logo_url:"",primary_color:"#8B5CF6",secondary_color:"#0EA5E9",font_family:"Inter"},error:null}}catch(t){return{data:null,error:t}}},async updateDesign(t){try{const e=_e(K,"settings","design");return await pt(e,{...t,updated_at:Xe()},{merge:!0}),{data:t,error:null}}catch(e){return{data:null,error:e}}},async getApp(){try{const t=_e(K,"settings","app"),e=await $n(t);return e.exists()?{data:{id:e.id,...e.data()},error:null}:{data:{hero_title:"Your Photo Gallery",hero_subtitle:"Select your favorite moments",contact_email:"",contact_phone:"",feedback_prompt:"We value your feedback"},error:null}}catch(t){return{data:null,error:t}}},async updateApp(t){try{const e=_e(K,"settings","app");return await pt(e,{...t,updated_at:Xe()},{merge:!0}),{data:t,error:null}}catch(e){return{data:null,error:e}}}},functions:{async syncDrive(t,e){try{return{data:(await k8(LP,"syncDrive")({userId:t,folderId:e})).data,error:null}}catch(n){return{data:null,error:n}}}},selections2:{async setStatus(t,e,n,r){try{if(!t||!e)throw new Error("Missing userId or photoId");const s=`${t}__${e}`,o={userId:t,photoId:e,status:n,lastViewedIndex:typeof r=="number"?r:0,updated_at:Xe(),created_at:Xe()};return await pt(_e(K,"selections",s),o,{merge:!0}),await pt(_e(K,"selections",t),{userId:t,lastIndex:o.lastViewedIndex,updated_at:Xe()},{merge:!0}),{data:{id:s,...o},error:null}}catch(s){return{data:null,error:s}}},async listByUser(t){try{return{data:(await Qe(Pt(Ae(K,"selections"),$t("userId","==",t)))).docs.map(n=>({id:n.id,...n.data()})),error:null}}catch(e){return{data:null,error:e}}}},resume:{async get(t){try{const e=await $n(_e(K,"selections",t));return{data:e.exists()?{id:e.id,...e.data()}:null,error:null}}catch(e){return{data:null,error:e}}},async setIndex(t,e){try{return await pt(_e(K,"selections",String(t)),{userId:String(t),lastIndex:e,updated_at:Xe()},{merge:!0}),{data:{lastIndex:e},error:null}}catch(n){return{data:null,error:n}}}}};st.stats||(st.stats={async getLastViewedIndex(){return{data:0,error:null}}});function Kk(t){return t?`https://drive.google.com/uc?export=view&id=${t}`:""}function yb(t){const e=t.drive_file_id||t.file_id,n=t.full_url||t.url||(e?`https://drive.google.com/uc?export=download&id=${e}`:"");return Array.from(new Set([n,...uc(t)]))}function uc(t){const e=t.drive_file_id||t.file_id,n=t.thumbnail_url||t.thumb_url,r=t.full_url||t.url,s=Kk(e);return Array.from(new Set([n,r,s].filter(Boolean)))}const vb=({photo:t,className:e,alt:n,forceHighRes:r})=>{const s=m.useRef(new Set),[o,i]=m.useState(()=>(r?yb(t):uc(t))[0]||""),[a,l]=m.useState(!1);m.useEffect(()=>{const h=r?yb(t):uc(t);i(h[0]||""),s.current=new Set,l(!1)},[t,r]),m.useEffect(()=>{s.current.clear();const h=uc(t);l(!1),i(h[0]||"")},[t==null?void 0:t.id]);const u=()=>{const h=uc(t);s.current.add(o);const f=h.find(p=>!s.current.has(p));if(f){i(f);return}if(!a&&o){l(!0),i(o.includes("?")?`${o}&cb=${Date.now()}`:`${o}?cb=${Date.now()}`);return}i("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==")};return d.jsx("img",{src:o,onError:u,alt:n||t.filename||t.name||"photo",className:e,referrerPolicy:"no-referrer",loading:"lazy",decoding:"async"})},dc=t=>(t.folder_path&&String(t.folder_path)||t.folder_name&&String(t.folder_name)||"").trim(),wb=(t,e,n)=>{const r=dc(t);if(r)return r.split(/[\\/]/)[0]||"Uncategorized";const s=String(t.folderId||"").trim();if(!s)return"Uncategorized";const o=n==null?void 0:n[s];if(o&&o.trim())return o;const i=e.get(s);return i?`Album ${i}`:"Album"},aH=()=>{const{user:t,profile:e,loading:n}=zs(),r=ur(),[s]=HC(),o=s.get("mode")||"select",a=s.get("userId")||(e==null?void 0:e.id)||(t==null?void 0:t.uid),[l,u]=m.useState([]),[h,f]=m.useState({}),[p,y]=m.useState(null),[b,v]=m.useState(!1),[x,E]=m.useState(new Map),[w,T]=m.useState(!1),[k,D]=m.useState(!1),[M,I]=m.useState(0),S=b&&o==="select",R=()=>de.message("Selections locked  contact photographer to reopen"),[P,C]=m.useState("All"),[O,N]=m.useState("All"),U=m.useRef(null),ie=m.useRef(null),J=m.useRef(null),q=m.useRef(null);m.useEffect(()=>{!n&&!a&&r("/auth")},[n,a,r]);const F=m.useMemo(()=>{const B=Array.from(new Set(l.map(se=>String(se.folderId||"")).filter(Boolean))),Z=new Map;return B.forEach((se,ve)=>Z.set(se,ve+1)),Z},[l]),j=m.useMemo(()=>{const B=new Set;return l.forEach(Z=>{const se=dc(Z).split(/[\\/]/)[0];se?B.add(se):Z.folderId?B.add(wb(Z,F,h)):B.add("Uncategorized")}),["All",...Array.from(B).sort()]},[l,F]),H=m.useMemo(()=>{if(P==="All")return["All"];const B=new Set;return l.forEach(Z=>{const se=dc(Z);if(se){const ve=se.split(/[\\/]/);ve[0]===P&&ve[1]&&B.add(ve[1])}}),["All",...Array.from(B).sort()]},[l,P]),te=m.useMemo(()=>l.filter(B=>{const Z=dc(B).split(/[\\/]/)[0]||(B.folderId?wb(B,F,h):"Uncategorized");return!(P!=="All"&&Z!==P||O!=="All"&&dc(B).split(/[\\/]/)[1]!==O)}),[l,F,P,O]),X=te[M],[le,pe]=m.useState(1),[De,$e]=m.useState({x:0,y:0}),Y=m.useRef(null),[Oe,ke]=m.useState(!1);m.useEffect(()=>{(async()=>{var me,Me,tt,Ne;if(!a)return;T(!0);const Z=await st.profiles.get(a);Z!=null&&Z.data&&(y(Z.data.selection_limit??null),v(!!Z.data.selection_finalized||!!Z.data.selection_locked));const{data:se}=await st.photos.list(a);u(se||[]);try{const Be=await((Me=(me=st.driveFolders)==null?void 0:me.map)==null?void 0:Me.call(me,String(a)));f(Be||{})}catch{}try{const Be=await st.selections.list(a),Xn=await((Ne=(tt=st.selections2)==null?void 0:tt.listByUser)==null?void 0:Ne.call(tt,a)),Ko=new Map,Or=Yi=>{Array.isArray(Yi)&&Yi.forEach(Ft=>{const ns=Ft.photo_id||Ft.photoId||Ft.file_id||Ft.fileId||Ft.id,Jn=Ft.status||Ft.value||Ft.selection||Ft.state;ns&&Jn&&Ko.set(String(ns),Jn)})};Or(Be==null?void 0:Be.data),Or(Xn==null?void 0:Xn.data),E(Ko)}catch(Be){console.warn(" failed to load selections",Be)}const ve=await st.stats.getLastViewedIndex(a);typeof ve.data=="number"&&ve.data>0&&I(Math.min(ve.data,Math.max(0,((se==null?void 0:se.length)??1)-1))),T(!1)})()},[a]),m.useEffect(()=>{if(!k)return;const B=Z=>{if(Z.key==="ArrowLeft"&&I(se=>{var me,Me;const ve=Math.max(0,se-1);return(Me=(me=st.resume)==null?void 0:me.setIndex)==null||Me.call(me,String(a),ve),ve}),Z.key==="ArrowRight"&&I(se=>{var me,Me;const ve=Math.min(te.length-1,se+1);return(Me=(me=st.resume)==null?void 0:me.setIndex)==null||Me.call(me,String(a),ve),ve}),o==="select"){if(Z.key==="ArrowUp"){Z.preventDefault(),ce("selected");return}if(Z.key==="ArrowDown"){Z.preventDefault(),ce("later");return}}Z.key==="Escape"&&D(!1)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[k,o,te.length,a]);const W=async B=>{var Me,tt;if(S){R();return}const Z=X;if(!Z||!a)return;const se=String(Z.id||Z.file_id||Z.photoId||Z.fileId||"");if(!se)return;if(B==="selected"&&p!=null){const Ne=Array.from(x.values()).filter(Xn=>Xn==="selected").length,Be=x.get(se)==="selected";if(Ne>=p&&!Be){de.info(`You can select up to ${p} photos`);return}}const ve=new Map(x);ve.set(se,B),E(ve);const me=await((tt=(Me=st.selections2)==null?void 0:Me.setStatus)==null?void 0:tt.call(Me,String(a),se,B,M));me!=null&&me.error?console.error(me.error):B==="selected"?de.success("Added to Selected"):B==="later"&&de.message("Added to Later"),M<te.length-1&&I(M+1)},ee=async(B,Z,se)=>{var me,Me;if(S){R();return}if(!B||!a)return;if(Z==="selected"&&p!=null){const tt=Array.from(x.values()).filter(Be=>Be==="selected").length,Ne=x.get(B)==="selected";if(tt>=p&&!Ne){de.info(`You can select up to ${p} photos`);return}}const ve=new Map(x);ve.set(B,Z),E(ve);try{const tt=await((Me=(me=st.selections2)==null?void 0:me.setStatus)==null?void 0:Me.call(me,String(a),B,Z,typeof se=="number"?se:M));tt!=null&&tt.error&&console.error(tt.error)}catch(tt){console.error(tt)}},ce=async B=>{if(S){R();return}if(o==="view"||!X||!a)return;if(B==="selected"&&p!=null){const se=Array.from(x.values()).filter(me=>me==="selected").length,ve=x.get(X.id)==="selected";if(se>=p&&!ve){de.info(`You can select up to ${p} photos`);return}}const Z=new Map(x);Z.set(X.id,B),E(Z),await st.selections.upsert({user_id:a,photo_id:X.id,status:B,last_viewed_index:M,updated_at:new Date().toISOString()}),M<te.length-1&&I(M+1)},we=B=>{var Z,se;if(S){R();return}I(B),D(!0),(se=(Z=document.documentElement).requestFullscreen)==null||se.call(Z)};m.useEffect(()=>{const B=Z=>{var se;if(k){if(Z.key==="ArrowUp"&&k){Z.preventDefault();const ve=document.getElementById("select-btn");ve instanceof HTMLButtonElement?ve.click():ce("selected")}if(Z.key==="ArrowDown"&&k){Z.preventDefault();const ve=document.getElementById("later-btn");ve instanceof HTMLButtonElement?ve.click():ce("later")}Z.key==="Escape"&&k&&(Z.preventDefault(),D(!1),(se=document.exitFullscreen)==null||se.call(document))}};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[k,x,M,te]);const Fe=B=>{if(B.touches.length===2){const[Z,se]=[B.touches[0],B.touches[1]],ve=Z.clientX-se.clientX,me=Z.clientY-se.clientY;Y.current={d:Math.hypot(ve,me),cx:(Z.clientX+se.clientX)/2,cy:(Z.clientY+se.clientY)/2};return}U.current=B.touches[0].clientX,ie.current=null,J.current=B.touches[0].clientY,q.current=null},Rt=B=>{if(B.touches.length===2&&Y.current){const[Z,se]=[B.touches[0],B.touches[1]],ve=Z.clientX-se.clientX,me=Z.clientY-se.clientY,Me=Math.hypot(ve,me),tt=Math.min(4,Math.max(1,Me/(Y.current.d||Me)*le));pe(tt),tt>1.5&&ke(!0);return}ie.current=B.touches[0].clientX,q.current=B.touches[0].clientY},Lt=()=>{if(Y.current){Y.current=null,le<=1.05&&(pe(1),$e({x:0,y:0}),ke(!1));return}const B=U.current,Z=ie.current??B,se=J.current,ve=q.current??se;if(B!=null&&Z!=null){const me=Z-B;le<=1.05&&Math.abs(me)>40&&(me<0&&I(Me=>Math.min(te.length-1,Me+1)),me>0&&I(Me=>Math.max(0,Me-1)))}if(se!=null&&ve!=null){const me=ve-se;if(le<=1.05&&Math.abs(me)>40){if(me<0){const Me=document.getElementById("select-btn");Me?Me.click():ce("selected")}if(me>0){const Me=document.getElementById("select-btn");Me?Me.click():ce("later")}}}U.current=null,ie.current=null,J.current=null,q.current=null},Ht=B=>{const Z=B.full_url||B.url||Kk(B.drive_file_id||B.file_id)||B.thumbnail_url||B.thumb_url||"";if(!Z)return;const se=document.createElement("a");se.href=Z,se.download=B.filename||B.name||`photo-${B.id}`,se.target="_blank",document.body.appendChild(se),se.click(),se.remove()},hr=async()=>{var B,Z,se,ve;try{const me=await((Z=(B=st.resume)==null?void 0:B.get)==null?void 0:Z.call(B,String(a)));if(me!=null&&me.data&&typeof me.data.lastIndex=="number"){const Me=Math.min(me.data.lastIndex,Math.max(0,te.length-1));I(Me),setTimeout(()=>{var tt,Ne;D(!0),(Ne=(tt=document.documentElement).requestFullscreen)==null||Ne.call(tt)},50);return}}catch(me){console.warn("resume.get failed",me)}I(0),D(!0),(ve=(se=document.documentElement).requestFullscreen)==null||ve.call(se)};return m.useEffect(()=>{const B=document.documentElement.style.overflow,Z=document.body.style.overflow;return k?(document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"):(document.documentElement.style.overflow=B,document.body.style.overflow=Z),()=>{document.documentElement.style.overflow=B,document.body.style.overflow=Z}},[k]),m.useEffect(()=>{const B=Z=>{k&&Z.preventDefault()};return k&&window.addEventListener("touchmove",B,{passive:!1}),()=>{window.removeEventListener("touchmove",B)}},[k]),n||w?d.jsx("div",{className:"flex min-h-screen items-center justify-center",children:d.jsx(Us,{className:"h-8 w-8 animate-spin"})}):d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(iH,{title:"Gallery"}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[d.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(B=>d.jsx(fe,{variant:P===B?"default":"outline",size:"sm",onClick:()=>{C(B),N("All")},children:B},B))}),H.length>1&&d.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(B=>d.jsx(fe,{variant:O===B?"default":"outline",size:"sm",onClick:()=>N(B),children:B},B))}),o==="select"&&te.length>0&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx(fe,{variant:"outline",onClick:hr,size:"sm",children:"Resume"}),d.jsx(fe,{onClick:()=>r("/review"),className:"ml-2 bg-purple-600 hover:bg-purple-700 text-white",children:"Finalize"}),d.jsxs("div",{className:"text-sm text-muted-foreground self-center",children:["Limit: ",p??"","  Selected: ",Array.from(x.values()).filter(B=>B==="selected").length,"  Later: ",Array.from(x.values()).filter(B=>B==="later").length]})]}),te.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center space-y-4",children:[d.jsx("div",{className:"p-6 rounded-full bg-primary/10 border border-primary/20",children:d.jsx(Uf,{className:"h-12 w-12"})}),d.jsx("h2",{className:"text-2xl font-semibold",children:"No photos found"})]}):d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:te.map((B,Z)=>{const se=x.get(B.id);return d.jsxs(yt,{className:"relative overflow-hidden group cursor-pointer",onClick:()=>we(Z),children:[d.jsx(vb,{photo:B,alt:B.filename||B.name||"photo",className:"w-full h-40 object-cover"}),d.jsxs("div",{className:"absolute inset-0 flex items-start justify-end p-1 gap-1 pointer-events-none",children:[d.jsx("button",{className:`pointer-events-auto h-6 w-6 rounded-full bg-black/60 flex items-center justify-center shadow ${se==="selected"?"ring-2 ring-green-500":""}`,onClick:ve=>{ve.stopPropagation(),ee(String(B.id),"selected",Z)},title:"Select",children:d.jsx(Vf,{className:"h-3 w-3 text-white"})}),d.jsx("button",{className:`pointer-events-auto h-6 w-6 rounded-full bg-black/60 flex items-center justify-center shadow ${se==="later"?"ring-2 ring-amber-500":""}`,onClick:ve=>{ve.stopPropagation(),ee(String(B.id),"later",Z)},title:"Later",children:d.jsx(A1,{className:"h-3 w-3 text-white"})})]}),se&&d.jsx("span",{className:`absolute top-2 left-2 text-xs px-2 py-0.5 rounded-full ${se==="selected"?"bg-green-600 text-white":se==="later"?"bg-amber-600 text-white":"bg-gray-500 text-white"}`,children:se==="selected"?"Selected":se==="later"?"Later":"Skipped"})]},B.id)})})]}),k&&X&&d.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex flex-col",onTouchStart:Fe,onTouchMove:Rt,onTouchEnd:Lt,children:[d.jsxs("div",{className:"flex items-center justify-between p-3",children:[d.jsxs(fe,{variant:"secondary",size:"sm",onClick:()=>{var B;D(!1),(B=document.exitFullscreen)==null||B.call(document)},children:[d.jsx(D1,{className:"mr-2 h-4 w-4"})," Exit"]}),d.jsx("div",{className:"text-white text-sm",children:X.filename||X.name||""}),d.jsxs(fe,{variant:"secondary",size:"sm",onClick:()=>Ht(X),children:[d.jsx(sy,{className:"mr-2 h-4 w-4"})," Download"]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center px-2 overflow-hidden",children:d.jsx(vb,{photo:X,alt:X.filename||X.name||"",className:"max-h-full max-w-full object-contain"})}),d.jsxs("div",{className:"p-3 flex gap-3 justify-center",children:[d.jsx(fe,{variant:"outline",onClick:()=>I(B=>Math.max(0,B-1)),disabled:M===0,children:" Prev"}),o==="select"?d.jsxs(d.Fragment,{children:[d.jsx(fe,{variant:"outline",onClick:()=>W("later"),children:"Later"}),d.jsx(fe,{onClick:()=>W("selected"),className:"bg-gradient-primary",id:"select-btn",id:"select-btn","data-action":"select",children:"Select"})]}):d.jsxs(fe,{onClick:()=>Ht(X),className:"bg-gradient-primary",children:[d.jsx(sy,{className:"mr-2 h-4 w-4"})," Download"]}),d.jsx(fe,{variant:"outline",onClick:()=>I(B=>Math.min(te.length-1,B+1)),disabled:M===te.length-1,children:"Next "})]})]}),S&&d.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 backdrop-blur-md bg-black/60"}),d.jsxs("div",{className:"relative z-10 mx-4 w-full max-w-md rounded-2xl border border-yellow-500/30 bg-black/70 shadow-2xl p-8 text-center",children:[d.jsx("div",{className:"mx-auto mb-4 h-14 w-14 rounded-full border-2 border-yellow-500/60 grid place-items-center shadow-glow",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-yellow-400",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 1a5 5 0 00-5 5v3H6a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2v-8a2 2 0 00-2-2h-1V6a5 5 0 00-5-5zm-3 8V6a3 3 0 116 0v3H9z"})})}),d.jsx("h3",{className:"text-2xl font-bold tracking-wide text-yellow-400 mb-2",children:"Selections Locked"}),d.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"Your selections are finalized. Contact photographer to reopen."}),d.jsx(fe,{onClick:()=>r("/home"),className:"bg-gradient-to-r from-amber-500 to-yellow-400 text-black font-semibold px-6",children:"Go Home"})]})]})]})},ff=m.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ff.displayName="Textarea";var lH="Label",Qk=m.forwardRef((t,e)=>d.jsx(Ee.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Qk.displayName=lH;var Yk=Qk;const cH=Ff("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=m.forwardRef(({className:t,...e},n)=>d.jsx(Yk,{ref:n,className:ye(cH(),t),...e}));ft.displayName=Yk.displayName;var Dp="Dialog",[Xk]=Pr(Dp),[uH,Nr]=Xk(Dp),Jk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=m.useRef(null),l=m.useRef(null),[u,h]=Ri({prop:r,defaultProp:s??!1,onChange:o,caller:Dp});return d.jsx(uH,{scope:e,triggerRef:a,contentRef:l,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:i,children:n})};Jk.displayName=Dp;var Zk="DialogTrigger",dH=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(Zk,n),o=Ke(e,s.triggerRef);return d.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":F_(s.open),...r,ref:o,onClick:oe(t.onClick,s.onOpenToggle)})});dH.displayName=Zk;var j_="DialogPortal",[hH,eN]=Xk(j_,{forceMount:void 0}),tN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Nr(j_,e);return d.jsx(hH,{scope:e,forceMount:n,children:m.Children.map(r,i=>d.jsx(kr,{present:n||o.open,children:d.jsx(_u,{asChild:!0,container:s,children:i})}))})};tN.displayName=j_;var pf="DialogOverlay",nN=m.forwardRef((t,e)=>{const n=eN(pf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Nr(pf,t.__scopeDialog);return o.modal?d.jsx(kr,{present:r||o.open,children:d.jsx(pH,{...s,ref:e})}):null});nN.displayName=pf;var fH=Ci("DialogOverlay.RemoveScroll"),pH=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(pf,n);return d.jsx(Ap,{as:fH,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ee.div,{"data-state":F_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Mi="DialogContent",rN=m.forwardRef((t,e)=>{const n=eN(Mi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Nr(Mi,t.__scopeDialog);return d.jsx(kr,{present:r||o.open,children:o.modal?d.jsx(mH,{...s,ref:e}):d.jsx(gH,{...s,ref:e})})});rN.displayName=Mi;var mH=m.forwardRef((t,e)=>{const n=Nr(Mi,t.__scopeDialog),r=m.useRef(null),s=Ke(e,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return R_(o)},[]),d.jsx(sN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:oe(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:oe(t.onFocusOutside,o=>o.preventDefault())})}),gH=m.forwardRef((t,e)=>{const n=Nr(Mi,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return d.jsx(sN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),sN=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=Nr(Mi,n),l=m.useRef(null),u=Ke(e,l);return C_(),d.jsxs(d.Fragment,{children:[d.jsx(Ip,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:d.jsx(ml,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":F_(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(yH,{titleId:a.titleId}),d.jsx(wH,{contentRef:l,descriptionId:a.descriptionId})]})]})}),L_="DialogTitle",oN=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(L_,n);return d.jsx(Ee.h2,{id:s.titleId,...r,ref:e})});oN.displayName=L_;var iN="DialogDescription",aN=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(iN,n);return d.jsx(Ee.p,{id:s.descriptionId,...r,ref:e})});aN.displayName=iN;var lN="DialogClose",cN=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(lN,n);return d.jsx(Ee.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,()=>s.onOpenChange(!1))})});cN.displayName=lN;function F_(t){return t?"open":"closed"}var uN="DialogTitleWarning",[sK,dN]=kM(uN,{contentName:Mi,titleName:L_,docsSlug:"dialog"}),yH=({titleId:t})=>{const e=dN(uN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vH="DialogDescriptionWarning",wH=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dN(vH).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},_H=Jk,xH=tN,hN=nN,fN=rN,pN=oN,mN=aN,EH=cN;const V_=_H,TH=xH,gN=m.forwardRef(({className:t,...e},n)=>d.jsx(hN,{ref:n,className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));gN.displayName=hN.displayName;const Op=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(TH,{children:[d.jsx(gN,{}),d.jsxs(fN,{ref:r,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(EH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Bf,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Op.displayName=fN.displayName;const Mp=({className:t,...e})=>d.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mp.displayName="DialogHeader";const U_=({className:t,...e})=>d.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});U_.displayName="DialogFooter";const jp=m.forwardRef(({className:t,...e},n)=>d.jsx(pN,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",t),...e}));jp.displayName=pN.displayName;const $_=m.forwardRef(({className:t,...e},n)=>d.jsx(mN,{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));$_.displayName=mN.displayName;function bH(t){return t?`https://drive.google.com/uc?export=view&id=${t}`:""}function ig(t){const e=t.drive_file_id||t.file_id,n=t.thumbnail_url||t.thumb_url,r=t.full_url||t.url,s=bH(e);return Array.from(new Set([n,r,s].filter(Boolean)))}const _b=({photo:t,className:e,alt:n})=>{const r=m.useRef(new Set),[s,o]=m.useState(()=>ig(t)[0]||""),[i,a]=m.useState(!1);m.useEffect(()=>{r.current.clear(),a(!1),o(ig(t)[0]||"")},[t==null?void 0:t.id]);const l=()=>{const u=ig(t);r.current.add(s);const h=u.find(f=>!r.current.has(f));if(h)return o(h);if(!i&&s)return a(!0),o(s.includes("?")?`${s}&cb=${Date.now()}`:`${s}?cb=${Date.now()}`);o("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==")};return d.jsx("img",{src:s,onError:l,alt:n||t.filename||t.name||"photo",className:e,loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})},SH=()=>{const{user:t,profile:e,loading:n,signOut:r}=zs(),s=ur(),[o]=HC(),a=o.get("userId")||(e==null?void 0:e.id)||(t==null?void 0:t.uid),[l,u]=m.useState(null),[h,f]=m.useState(new Map),[p,y]=m.useState([]),[b,v]=m.useState(!0),[x,E]=m.useState("Selected"),[w,T]=m.useState(!1),[k,D]=m.useState(!1),[M,I]=m.useState(!1),[S,R]=m.useState(0),[P,C]=m.useState(0),[O,N]=m.useState(""),[U,ie]=m.useState(!1),[J,q]=m.useState(0),F=m.useRef(null),j=m.useRef(null);m.useEffect(()=>{!n&&!a&&s("/auth")},[n,a,s]),m.useEffect(()=>{let W=null;return(async()=>{if(!a)return;v(!0);try{const Fe=await st.profiles.get(a);Fe!=null&&Fe.data&&(u(Fe.data.selection_limit??null),ie(!!Fe.data.selection_finalized||!!Fe.data.selection_locked))}catch{}const ee=await st.photos.list(a),ce=(ee==null?void 0:ee.data)||[],we=Pt(Ae(K,"selections"),$t("userId","==",String(a)));W=bs(we,Fe=>{const Rt=new Map,Lt=new Set,Ht=new Set;Fe.forEach(B=>{const Z=B.data(),se=String(Z.photoId||Z.photo_id||Z.id||Z.file_id||""),ve=String(Z.status||"");se&&(ve==="selected"?(Rt.set(se,"selected"),Lt.add(se)):ve==="later"&&(Rt.set(se,"later"),Ht.add(se)))}),f(Rt);const hr=ce.filter(B=>{const Z=String(B.id||B.file_id);return Lt.has(Z)||Ht.has(Z)});y(hr),v(!1)})})(),()=>{W&&W()}},[a]);const H=m.useMemo(()=>{const W=x==="Selected"?"selected":"later";return p.filter(ee=>h.get(String(ee.id||ee.file_id))===W)},[p,h,x]),te=H[J],X=m.useMemo(()=>Array.from(h.values()).filter(W=>W==="selected").length,[h]),le=m.useMemo(()=>Array.from(h.values()).filter(W=>W==="later").length,[h]);m.useEffect(()=>{const W=ee=>{var ce;if(w){if(ee.key==="ArrowUp"&&w){ee.preventDefault();const we=document.getElementById("select-btn");we instanceof HTMLButtonElement?we.click():pe("selected")}if(ee.key==="ArrowDown"&&w){ee.preventDefault();const we=document.getElementById("later-btn");we instanceof HTMLButtonElement?we.click():pe("later")}ee.key==="Escape"&&w&&(ee.preventDefault(),T(!1),document.fullscreenElement&&((ce=document.exitFullscreen)==null||ce.call(document))),ee.key==="ArrowLeft"&&w&&q(we=>Math.max(0,we-1)),ee.key==="ArrowRight"&&w&&q(we=>Math.min(H.length-1,we+1))}};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[w,H.length]);const pe=async W=>{var Fe,Rt;if(U){de.message("Selections locked  contact photographer to reopen");return}const ee=te;if(!ee||!a)return;if(W==="selected"&&l!=null){const Lt=X,Ht=h.get(String(ee.id))==="selected";if(Lt>=l&&!Ht){de.info(`You can select up to ${l} photos`);return}}const ce=String(ee.id||ee.file_id),we=new Map(h);we.set(ce,W),f(we),await((Rt=(Fe=st.selections2)==null?void 0:Fe.setStatus)==null?void 0:Rt.call(Fe,String(a),ce,W,J)),W==="selected"?de.success("Added to Selected"):W==="later"&&de.message("Added to Later")},De=async(W,ee,ce)=>{if(U){de.message("Selections locked  contact photographer to reopen");return}q(ce),await pe(ee)},$e=async()=>{var we,Fe;if(U){de.message("Selections locked  contact photographer to reopen");return}const W=te;if(!W||!a)return;const ee=String(W.id||W.file_id),ce=new Map(h);ce.delete(ee),f(ce),await((Fe=(we=st.selections2)==null?void 0:we.setStatus)==null?void 0:Fe.call(we,String(a),ee,"skip",J)),de.message("Photo unmarked")},Y=W=>{F.current=W.touches[0].clientX,j.current=null},Oe=W=>{j.current=W.touches[0].clientX},ke=()=>{const W=F.current,ee=j.current??W;if(W!=null&&ee!=null){const ce=ee-W;Math.abs(ce)>40&&(ce<0&&q(we=>Math.min(H.length-1,we+1)),ce>0&&q(we=>Math.max(0,we-1)))}F.current=null,j.current=null};return m.useEffect(()=>{const W=document.documentElement.style.overflow,ee=document.body.style.overflow;return w?(document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"):(document.documentElement.style.overflow=W,document.body.style.overflow=ee),()=>{document.documentElement.style.overflow=W,document.body.style.overflow=ee}},[w]),m.useEffect(()=>{const W=ee=>{w&&ee.preventDefault()};return w&&window.addEventListener("touchmove",W,{passive:!1}),()=>{window.removeEventListener("touchmove",W)}},[w]),n||b?d.jsx("div",{className:"flex min-h-screen items-center justify-center",children:d.jsx(Us,{className:"h-8 w-8 animate-spin"})}):d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-30",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(dl,{className:"h-10 w-auto"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:H.length>0?`${J+1} of ${H.length}`:"Review Selection"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(fe,{variant:"outline",onClick:()=>s("/home"),size:"sm",children:[d.jsx(Ij,{className:"mr-2 h-4 w-4"})," Home"]}),d.jsxs(fe,{variant:"outline",onClick:r,size:"sm",children:[d.jsx($f,{className:"mr-2 h-4 w-4"})," Sign Out"]})]})]})}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(fe,{variant:x==="Selected"?"default":"outline",size:"sm",onClick:()=>{E("Selected"),q(0)},children:[" Selected ",X]}),d.jsxs(fe,{variant:x==="Later"?"default":"outline",size:"sm",onClick:()=>{E("Later"),q(0)},children:[" Later ",le]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(fe,{size:"sm",className:"mt-2 bg-gradient-to-r from-yellow-500 to-amber-600 text-black",onClick:()=>D(!0),children:"Finalize "})}),H.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center space-y-4",children:[d.jsx("div",{className:"p-6 rounded-full bg-primary/10 border border-primary/20",children:d.jsx(Uf,{className:"h-12 w-12"})}),d.jsx("h2",{className:"text-2xl font-semibold",children:"No photos found"})]}):d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:H.map((W,ee)=>{const ce=h.get(String(W.id||W.file_id));return d.jsxs(yt,{className:"relative overflow-hidden group cursor-pointer",onClick:()=>{if(U){de.message("Selections locked  contact photographer to reopen");return}q(ee),T(!0)},children:[d.jsx(_b,{photo:W,alt:W.filename||W.name||"photo",className:"w-full h-40 object-cover"}),d.jsxs("div",{className:"absolute inset-0 flex items-start justify-end p-1 gap-1 pointer-events-none",children:[d.jsx("button",{className:`pointer-events-auto h-6 w-6 rounded-full bg-black/60 flex items-center justify-center shadow ${ce==="selected"?"ring-2 ring-green-500":""}`,onClick:we=>{we.stopPropagation(),De(String(W.id||W.file_id),"selected",ee)},title:"Select",children:d.jsx(Vf,{className:"h-3 w-3 text-white"})}),d.jsx("button",{className:`pointer-events-auto h-6 w-6 rounded-full bg-black/60 flex items-center justify-center shadow ${ce==="later"?"ring-2 ring-amber-500":""}`,onClick:we=>{we.stopPropagation(),De(String(W.id||W.file_id),"later",ee)},title:"Later",children:d.jsx(A1,{className:"h-3 w-3 text-white"})})]}),ce&&d.jsx("span",{className:`absolute top-2 left-2 text-xs px-2 py-0.5 rounded-full ${ce==="selected"?"bg-green-600 text-white":ce==="later"?"bg-amber-600 text-white":"bg-gray-500 text-white"}`,children:ce==="selected"?"Selected":ce==="later"?"Later":"Skipped"})]},String(W.id||W.file_id))})})]}),w&&te&&d.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex flex-col",onTouchStart:Y,onTouchMove:Oe,onTouchEnd:ke,children:[d.jsxs("div",{className:"flex items-center justify-between p-3",children:[d.jsxs(fe,{variant:"secondary",size:"sm",onClick:()=>{var W;T(!1),document.fullscreenElement&&((W=document.exitFullscreen)==null||W.call(document))},children:[d.jsx(D1,{className:"mr-2 h-4 w-4"})," Exit"]}),d.jsx("div",{className:"text-white text-sm",children:te.filename||te.name||""}),d.jsxs(fe,{variant:"secondary",size:"sm",onClick:$e,children:[d.jsx(Bf,{className:"mr-2 h-4 w-4"})," Remove"]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center px-2 overflow-hidden",children:d.jsx(_b,{photo:te,alt:te.filename||te.name||"",className:"max-h-full max-w-full object-contain"})}),d.jsxs("div",{className:"p-3 flex gap-3 justify-center",children:[d.jsx(fe,{variant:"outline",onClick:()=>q(W=>Math.max(0,W-1)),disabled:J===0,children:" Prev"}),d.jsx(fe,{variant:"outline",onClick:()=>pe("later"),id:"later-btn",id:"later-btn","data-action":"later",children:"Later"}),d.jsx(fe,{onClick:()=>pe("selected"),className:"bg-gradient-primary",id:"select-btn",id:"select-btn","data-action":"select",children:"Select"}),d.jsx(fe,{variant:"outline",onClick:()=>q(W=>Math.min(H.length-1,W+1)),disabled:J===H.length-1,children:"Next "})]})]}),M&&d.jsxs("div",{className:"fixed inset-0 z-[999] bg-black/90 backdrop-blur-xl flex flex-col items-center justify-center text-center p-8 animate-fade-in",children:[d.jsx("div",{className:"animate-float mb-4",children:d.jsx(dl,{className:"h-16 opacity-90"})}),d.jsx("h2",{className:"text-3xl font-bold mb-2 text-white tracking-wide drop-shadow-lg",children:"Thank you!"}),d.jsx("p",{className:"text-gray-300 mb-8 max-w-sm leading-relaxed",children:"Your selections are locked. Well start working on your final edits."}),d.jsx(fe,{onClick:()=>s("/home"),className:"bg-gradient-to-r from-amber-500 to-yellow-400 text-black font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-amber-500/50 transition-all hover:scale-[1.05]",children:"Go Home"})]}),d.jsx(V_,{open:k,onOpenChange:D,children:d.jsxs(Op,{className:"space-y-4",children:[d.jsxs(Mp,{children:[d.jsx(jp,{children:"Finalize Selection"}),d.jsx($_,{children:"Rate your experience and add any notes."})]}),d.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:5}).map((W,ee)=>d.jsx("button",{type:"button",onMouseEnter:()=>C(ee+1),onMouseLeave:()=>C(0),onClick:()=>R(ee+1),className:"p-1","aria-label":`rate-${ee+1}`,children:d.jsx(M1,{className:(P||S)>ee?"fill-yellow-500 text-yellow-500":""})},ee))}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"fb",children:"Feedback"}),d.jsx(ff,{id:"fb",value:O,onChange:W=>N(W.target.value),placeholder:"Share your thoughts..."})]}),d.jsxs(U_,{children:[d.jsx(fe,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),d.jsx(fe,{onClick:async()=>{try{const W=String(a);if(!W)return;await vo(Ae(K,"feedback"),{user_id:W,rating:S,message:O,created_at:Xe()});try{await PT(_e(K,"selections",W),{finalized:!0})}catch{await pt(_e(K,"selections",W),{finalized:!0},{merge:!0})}D(!1),I(!0);try{await PT(_e(K,"profiles",W),{selection_finalized:!0,selection_locked:!0,finalized_at:Xe()})}catch{await pt(_e(K,"profiles",W),{selection_finalized:!0,selection_locked:!0,finalized_at:Xe()},{merge:!0})}de.success("Selections finalized"),setTimeout(()=>s("/home",{replace:!0}),1800)}catch(W){console.error(W),de.error("Finalize failed")}},children:"Submit & Finalize"})]})]})}),U&&d.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 backdrop-blur-md bg-black/60"}),d.jsxs("div",{className:"relative z-10 mx-4 w-full max-w-md rounded-2xl border border-yellow-500/30 bg-black/70 shadow-2xl p-8 text-center",children:[d.jsx("div",{className:"mx-auto mb-4 h-14 w-14 rounded-full border-2 border-yellow-500/60 grid place-items-center shadow-glow",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-yellow-400",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 1a5 5 0 00-5 5v3H6a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2v-8a2 2 0 00-2-2h-1V6a5 5 0 00-5-5zm-3 8V6a3 3 0 116 0v3H9z"})})}),d.jsx("h3",{className:"text-2xl font-bold tracking-wide text-yellow-400 mb-2",children:"Selections Locked"}),d.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"Your selections are finalized. Contact photographer to reopen."}),d.jsx(fe,{onClick:()=>s("/home"),className:"bg-gradient-to-r from-amber-500 to-yellow-400 text-black font-semibold px-6",children:"Go Home"})]})]})]})};var Lp="Tabs",[IH]=Pr(Lp,[Cp]),yN=Cp(),[CH,B_]=IH(Lp),vN=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=t,h=Sp(a),[f,p]=Ri({prop:r,onChange:s,defaultProp:o??"",caller:Lp});return d.jsx(CH,{scope:n,baseId:Gr(),value:f,onValueChange:p,orientation:i,dir:h,activationMode:l,children:d.jsx(Ee.div,{dir:h,"data-orientation":i,...u,ref:e})})});vN.displayName=Lp;var wN="TabsList",_N=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=B_(wN,n),i=yN(n);return d.jsx(WP,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:d.jsx(Ee.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});_N.displayName=wN;var xN="TabsTrigger",EN=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=B_(xN,n),a=yN(n),l=SN(i.baseId,r),u=IN(i.baseId,r),h=r===i.value;return d.jsx(HP,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(Ee.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:e,onMouseDown:oe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:oe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:oe(t.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!s&&f&&i.onValueChange(r)})})})});EN.displayName=xN;var TN="TabsContent",bN=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,a=B_(TN,n),l=SN(a.baseId,r),u=IN(a.baseId,r),h=r===a.value,f=m.useRef(h);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(kr,{present:s||h,children:({present:p})=>d.jsx(Ee.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});bN.displayName=TN;function SN(t,e){return`${t}-trigger-${e}`}function IN(t,e){return`${t}-content-${e}`}var RH=vN,CN=_N,RN=EN,AN=bN;const AH=RH,PN=m.forwardRef(({className:t,...e},n)=>d.jsx(CN,{ref:n,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));PN.displayName=CN.displayName;const ls=m.forwardRef(({className:t,...e},n)=>d.jsx(RN,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));ls.displayName=RN.displayName;const cs=m.forwardRef(({className:t,...e},n)=>d.jsx(AN,{ref:n,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));cs.displayName=AN.displayName;const PH=()=>{const[t,e]=m.useState({totalUsers:0,totalPhotos:0,totalSelections:0,totalFeedback:0});m.useEffect(()=>{n()},[]);const n=async()=>{const[s,o,i,a]=await Promise.all([Qe(Ae(K,"profiles")),Qe(Ae(K,"photos")),Qe(Ae(K,"selections")),Qe(Ae(K,"feedback"))]);e({totalUsers:s.size,totalPhotos:o.size,totalSelections:i.size,totalFeedback:a.size})},r=[{title:"Total Users",value:t.totalUsers,icon:F1,gradient:"from-blue-500 to-cyan-500"},{title:"Total Photos",value:t.totalPhotos,icon:Uf,gradient:"from-purple-500 to-pink-500"},{title:"Selections",value:t.totalSelections,icon:Aj,gradient:"from-green-500 to-emerald-500"},{title:"Feedback",value:t.totalFeedback,icon:N1,gradient:"from-orange-500 to-red-500"}];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Dashboard"}),d.jsx("p",{className:"text-muted-foreground",children:"Overview of your photo gallery system"})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:r.map(s=>{const o=s.icon;return d.jsxs(yt,{className:"overflow-hidden",children:[d.jsxs(pn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(mn,{className:"text-sm font-medium",children:s.title}),d.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${s.gradient}`,children:d.jsx(o,{className:"h-4 w-4 text-white"})})]}),d.jsx(Wt,{children:d.jsx("div",{className:"text-3xl font-bold",children:s.value})})]},s.title)})})]})},kN=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:ye("w-full caption-bottom text-sm",t),...e})}));kN.displayName="Table";const NN=m.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:ye("[&_tr]:border-b",t),...e}));NN.displayName="TableHeader";const DN=m.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:ye("[&_tr:last-child]:border-0",t),...e}));DN.displayName="TableBody";const kH=m.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));kH.displayName="TableFooter";const Jy=m.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:ye("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Jy.displayName="TableRow";const da=m.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));da.displayName="TableHead";const ha=m.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ha.displayName="TableCell";const NH=m.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:ye("mt-4 text-sm text-muted-foreground",t),...e}));NH.displayName="TableCaption";const DH=Ff("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xb({className:t,variant:e,...n}){return d.jsx("div",{className:ye(DH({variant:e}),t),...n})}var z_="Progress",W_=100,[OH]=Pr(z_),[MH,jH]=OH(z_),ON=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=LH,...i}=t;(s||s===0)&&!Eb(s)&&console.error(FH(`${s}`,"Progress"));const a=Eb(s)?s:W_;r!==null&&!Tb(r,a)&&console.error(VH(`${r}`,"Progress"));const l=Tb(r,a)?r:null,u=mf(l)?o(l,a):void 0;return d.jsx(MH,{scope:n,value:l,max:a,children:d.jsx(Ee.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":mf(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":LN(l,a),"data-value":l??void 0,"data-max":a,...i,ref:e})})});ON.displayName=z_;var MN="ProgressIndicator",jN=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=jH(MN,n);return d.jsx(Ee.div,{"data-state":LN(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});jN.displayName=MN;function LH(t,e){return`${Math.round(t/e*100)}%`}function LN(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function mf(t){return typeof t=="number"}function Eb(t){return mf(t)&&!isNaN(t)&&t>0}function Tb(t,e){return mf(t)&&!isNaN(t)&&t<=e&&t>=0}function FH(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${W_}\`.`}function VH(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${W_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var FN=ON,UH=jN;const VN=m.forwardRef(({className:t,value:e,...n},r)=>d.jsx(FN,{ref:r,className:ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(UH,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));VN.displayName=FN.displayName;const Tt=m.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Tt.displayName="Input";function bb(t,[e,n]){return Math.min(n,Math.max(e,t))}function $H(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var BH=[" ","Enter","ArrowUp","ArrowDown"],zH=[" ","Enter"],ji="Select",[Fp,Vp,WH]=Mf(ji),[Il]=Pr(ji,[WH,wl]),Up=wl(),[HH,qo]=Il(ji),[qH,GH]=Il(ji),UN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:h,autoComplete:f,disabled:p,required:y,form:b}=t,v=Up(e),[x,E]=m.useState(null),[w,T]=m.useState(null),[k,D]=m.useState(!1),M=Sp(u),[I,S]=Ri({prop:r,defaultProp:s??!1,onChange:o,caller:ji}),[R,P]=Ri({prop:i,defaultProp:a,onChange:l,caller:ji}),C=m.useRef(null),O=x?b||!!x.closest("form"):!0,[N,U]=m.useState(new Set),ie=Array.from(N).map(J=>J.props.value).join(";");return d.jsx(yC,{...v,children:d.jsxs(HH,{required:y,scope:e,trigger:x,onTriggerChange:E,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:k,onValueNodeHasChildrenChange:D,contentId:Gr(),value:R,onValueChange:P,open:I,onOpenChange:S,dir:M,triggerPointerDownPosRef:C,disabled:p,children:[d.jsx(Fp.Provider,{scope:e,children:d.jsx(qH,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(J=>{U(q=>new Set(q).add(J))},[]),onNativeOptionRemove:m.useCallback(J=>{U(q=>{const F=new Set(q);return F.delete(J),F})},[]),children:n})}),O?d.jsxs(u2,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:R,onChange:J=>P(J.target.value),disabled:p,form:b,children:[R===void 0?d.jsx("option",{value:""}):null,Array.from(N)]},ie):null]})})};UN.displayName=ji;var $N="SelectTrigger",BN=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Up(n),i=qo($N,n),a=i.disabled||r,l=Ke(e,i.onTriggerChange),u=Vp(n),h=m.useRef("touch"),[f,p,y]=h2(v=>{const x=u().filter(T=>!T.disabled),E=x.find(T=>T.value===i.value),w=f2(x,v,E);w!==void 0&&i.onValueChange(w.value)}),b=v=>{a||(i.onOpenChange(!0),y()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(fw,{asChild:!0,...o,children:d.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":d2(i.value)?"":void 0,...s,ref:l,onClick:oe(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&b(v)}),onPointerDown:oe(s.onPointerDown,v=>{h.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:oe(s.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(x&&v.key===" ")&&BH.includes(v.key)&&(b(),v.preventDefault())})})})});BN.displayName=$N;var zN="SelectValue",WN=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,l=qo(zN,n),{onValueNodeHasChildrenChange:u}=l,h=o!==void 0,f=Ke(e,l.onValueNodeChange);return tn(()=>{u(h)},[u,h]),d.jsx(Ee.span,{...a,ref:f,style:{pointerEvents:"none"},children:d2(l.value)?d.jsx(d.Fragment,{children:i}):o})});WN.displayName=zN;var KH="SelectIcon",HN=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Ee.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});HN.displayName=KH;var QH="SelectPortal",qN=t=>d.jsx(_u,{asChild:!0,...t});qN.displayName=QH;var Li="SelectContent",GN=m.forwardRef((t,e)=>{const n=qo(Li,t.__scopeSelect),[r,s]=m.useState();if(tn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?$i.createPortal(d.jsx(KN,{scope:t.__scopeSelect,children:d.jsx(Fp.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),o):null}return d.jsx(QN,{...t,ref:e})});GN.displayName=Li;var gr=10,[KN,Go]=Il(Li),YH="SelectContentImpl",XH=Ci("SelectContent.RemoveScroll"),QN=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:b,hideWhenDetached:v,avoidCollisions:x,...E}=t,w=qo(Li,n),[T,k]=m.useState(null),[D,M]=m.useState(null),I=Ke(e,Y=>k(Y)),[S,R]=m.useState(null),[P,C]=m.useState(null),O=Vp(n),[N,U]=m.useState(!1),ie=m.useRef(!1);m.useEffect(()=>{if(T)return R_(T)},[T]),C_();const J=m.useCallback(Y=>{const[Oe,...ke]=O().map(ce=>ce.ref.current),[W]=ke.slice(-1),ee=document.activeElement;for(const ce of Y)if(ce===ee||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===Oe&&D&&(D.scrollTop=0),ce===W&&D&&(D.scrollTop=D.scrollHeight),ce==null||ce.focus(),document.activeElement!==ee))return},[O,D]),q=m.useCallback(()=>J([S,T]),[J,S,T]);m.useEffect(()=>{N&&q()},[N,q]);const{onOpenChange:F,triggerPointerDownPosRef:j}=w;m.useEffect(()=>{if(T){let Y={x:0,y:0};const Oe=W=>{var ee,ce;Y={x:Math.abs(Math.round(W.pageX)-(((ee=j.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(W.pageY)-(((ce=j.current)==null?void 0:ce.y)??0))}},ke=W=>{Y.x<=10&&Y.y<=10?W.preventDefault():T.contains(W.target)||F(!1),document.removeEventListener("pointermove",Oe),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",ke,{capture:!0})}}},[T,F,j]),m.useEffect(()=>{const Y=()=>F(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[F]);const[H,te]=h2(Y=>{const Oe=O().filter(ee=>!ee.disabled),ke=Oe.find(ee=>ee.ref.current===document.activeElement),W=f2(Oe,Y,ke);W&&setTimeout(()=>W.ref.current.focus())}),X=m.useCallback((Y,Oe,ke)=>{const W=!ie.current&&!ke;(w.value!==void 0&&w.value===Oe||W)&&(R(Y),W&&(ie.current=!0))},[w.value]),le=m.useCallback(()=>T==null?void 0:T.focus(),[T]),pe=m.useCallback((Y,Oe,ke)=>{const W=!ie.current&&!ke;(w.value!==void 0&&w.value===Oe||W)&&C(Y)},[w.value]),De=r==="popper"?Zy:YN,$e=De===Zy?{side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:b,hideWhenDetached:v,avoidCollisions:x}:{};return d.jsx(KN,{scope:n,content:T,viewport:D,onViewportChange:M,itemRefCallback:X,selectedItem:S,onItemLeave:le,itemTextRefCallback:pe,focusSelectedItem:q,selectedItemText:P,position:r,isPositioned:N,searchRef:H,children:d.jsx(Ap,{as:XH,allowPinchZoom:!0,children:d.jsx(Ip,{asChild:!0,trapped:w.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:oe(s,Y=>{var Oe;(Oe=w.trigger)==null||Oe.focus({preventScroll:!0}),Y.preventDefault()}),children:d.jsx(ml,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(De,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Y=>Y.preventDefault(),...E,...$e,onPlaced:()=>U(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:oe(E.onKeyDown,Y=>{const Oe=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!Oe&&Y.key.length===1&&te(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let W=O().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ee=Y.target,ce=W.indexOf(ee);W=W.slice(ce+1)}setTimeout(()=>J(W)),Y.preventDefault()}})})})})})})});QN.displayName=YH;var JH="SelectItemAlignedPosition",YN=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=qo(Li,n),i=Go(Li,n),[a,l]=m.useState(null),[u,h]=m.useState(null),f=Ke(e,I=>h(I)),p=Vp(n),y=m.useRef(!1),b=m.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:E,focusSelectedItem:w}=i,T=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&v&&x&&E){const I=o.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(o.dir!=="rtl"){const ee=P.left-S.left,ce=R.left-ee,we=I.left-ce,Fe=I.width+we,Rt=Math.max(Fe,S.width),Lt=window.innerWidth-gr,Ht=bb(ce,[gr,Math.max(gr,Lt-Rt)]);a.style.minWidth=Fe+"px",a.style.left=Ht+"px"}else{const ee=S.right-P.right,ce=window.innerWidth-R.right-ee,we=window.innerWidth-I.right-ce,Fe=I.width+we,Rt=Math.max(Fe,S.width),Lt=window.innerWidth-gr,Ht=bb(ce,[gr,Math.max(gr,Lt-Rt)]);a.style.minWidth=Fe+"px",a.style.right=Ht+"px"}const C=p(),O=window.innerHeight-gr*2,N=v.scrollHeight,U=window.getComputedStyle(u),ie=parseInt(U.borderTopWidth,10),J=parseInt(U.paddingTop,10),q=parseInt(U.borderBottomWidth,10),F=parseInt(U.paddingBottom,10),j=ie+J+N+F+q,H=Math.min(x.offsetHeight*5,j),te=window.getComputedStyle(v),X=parseInt(te.paddingTop,10),le=parseInt(te.paddingBottom,10),pe=I.top+I.height/2-gr,De=O-pe,$e=x.offsetHeight/2,Y=x.offsetTop+$e,Oe=ie+J+Y,ke=j-Oe;if(Oe<=pe){const ee=C.length>0&&x===C[C.length-1].ref.current;a.style.bottom="0px";const ce=u.clientHeight-v.offsetTop-v.offsetHeight,we=Math.max(De,$e+(ee?le:0)+ce+q),Fe=Oe+we;a.style.height=Fe+"px"}else{const ee=C.length>0&&x===C[0].ref.current;a.style.top="0px";const we=Math.max(pe,ie+v.offsetTop+(ee?X:0)+$e)+ke;a.style.height=we+"px",v.scrollTop=Oe-pe+v.offsetTop}a.style.margin=`${gr}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,o.trigger,o.valueNode,a,u,v,x,E,o.dir,r]);tn(()=>T(),[T]);const[k,D]=m.useState();tn(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const M=m.useCallback(I=>{I&&b.current===!0&&(T(),w==null||w(),b.current=!1)},[T,w]);return d.jsx(eq,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:d.jsx(Ee.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});YN.displayName=JH;var ZH="SelectPopperPosition",Zy=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=gr,...o}=t,i=Up(n);return d.jsx(pw,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zy.displayName=ZH;var[eq,H_]=Il(Li,{}),ev="SelectViewport",XN=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Go(ev,n),i=H_(ev,n),a=Ke(e,o.onViewportChange),l=m.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Fp.Slot,{scope:n,children:d.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const y=Math.abs(l.current-h.scrollTop);if(y>0){const b=window.innerHeight-gr*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),E=Math.max(v,x);if(E<b){const w=E+y,T=Math.min(b,w),k=w-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});XN.displayName=ev;var JN="SelectGroup",[tq,nq]=Il(JN),rq=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gr();return d.jsx(tq,{scope:n,id:s,children:d.jsx(Ee.div,{role:"group","aria-labelledby":s,...r,ref:e})})});rq.displayName=JN;var ZN="SelectLabel",e2=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=nq(ZN,n);return d.jsx(Ee.div,{id:s.id,...r,ref:e})});e2.displayName=ZN;var gf="SelectItem",[sq,t2]=Il(gf),n2=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=qo(gf,n),l=Go(gf,n),u=a.value===r,[h,f]=m.useState(o??""),[p,y]=m.useState(!1),b=Ke(e,w=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,w,r,s)}),v=Gr(),x=m.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(sq,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(w=>{f(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(Fp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(Ee.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:oe(i.onFocus,()=>y(!0)),onBlur:oe(i.onBlur,()=>y(!1)),onClick:oe(i.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:oe(i.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:oe(i.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:oe(i.onPointerMove,w=>{var T;x.current=w.pointerType,s?(T=l.onItemLeave)==null||T.call(l):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(i.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:oe(i.onKeyDown,w=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(zH.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});n2.displayName=gf;var hc="SelectItemText",r2=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=qo(hc,n),a=Go(hc,n),l=t2(hc,n),u=GH(hc,n),[h,f]=m.useState(null),p=Ke(e,E=>f(E),l.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,l.value,l.disabled)}),y=h==null?void 0:h.textContent,b=m.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return tn(()=>(v(b),()=>x(b)),[v,x,b]),d.jsxs(d.Fragment,{children:[d.jsx(Ee.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?$i.createPortal(o.children,i.valueNode):null]})});r2.displayName=hc;var s2="SelectItemIndicator",o2=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return t2(s2,n).isSelected?d.jsx(Ee.span,{"aria-hidden":!0,...r,ref:e}):null});o2.displayName=s2;var tv="SelectScrollUpButton",i2=m.forwardRef((t,e)=>{const n=Go(tv,t.__scopeSelect),r=H_(tv,t.__scopeSelect),[s,o]=m.useState(!1),i=Ke(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(l2,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});i2.displayName=tv;var nv="SelectScrollDownButton",a2=m.forwardRef((t,e)=>{const n=Go(nv,t.__scopeSelect),r=H_(nv,t.__scopeSelect),[s,o]=m.useState(!1),i=Ke(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;o(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(l2,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});a2.displayName=nv;var l2=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Go("SelectScrollButton",n),i=m.useRef(null),a=Vp(n),l=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),tn(()=>{var h;const u=a().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(Ee.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{l()})})}),oq="SelectSeparator",c2=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Ee.div,{"aria-hidden":!0,...r,ref:e})});c2.displayName=oq;var rv="SelectArrow",iq=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Up(n),o=qo(rv,n),i=Go(rv,n);return o.open&&i.position==="popper"?d.jsx(mw,{...s,...r,ref:e}):null});iq.displayName=rv;var aq="SelectBubbleInput",u2=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),o=Ke(r,s),i=$H(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[i,e]),d.jsx(Ee.select,{...n,style:{...o1,...n.style},ref:o,defaultValue:e})});u2.displayName=aq;function d2(t){return t===""||t===void 0}function h2(t){const e=Fn(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const a=n.current+i;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function f2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=lq(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function lq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cq=UN,p2=BN,uq=WN,dq=HN,hq=qN,m2=GN,fq=XN,g2=e2,y2=n2,pq=r2,mq=o2,v2=i2,w2=a2,_2=c2;const x2=cq,E2=uq,q_=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(p2,{ref:r,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(dq,{asChild:!0,children:d.jsx(R1,{className:"h-4 w-4 opacity-50"})})]}));q_.displayName=p2.displayName;const T2=m.forwardRef(({className:t,...e},n)=>d.jsx(v2,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Rj,{className:"h-4 w-4"})}));T2.displayName=v2.displayName;const b2=m.forwardRef(({className:t,...e},n)=>d.jsx(w2,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(R1,{className:"h-4 w-4"})}));b2.displayName=w2.displayName;const G_=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(hq,{children:d.jsxs(m2,{ref:s,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(T2,{}),d.jsx(fq,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(b2,{})]})}));G_.displayName=m2.displayName;const gq=m.forwardRef(({className:t,...e},n)=>d.jsx(g2,{ref:n,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));gq.displayName=g2.displayName;const uu=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(y2,{ref:r,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(mq,{children:d.jsx(Vf,{className:"h-4 w-4"})})}),d.jsx(pq,{children:e})]}));uu.displayName=y2.displayName;const yq=m.forwardRef(({className:t,...e},n)=>d.jsx(_2,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",t),...e}));yq.displayName=_2.displayName;const vq=({open:t,onOpenChange:e,onUserAdded:n})=>{const[r,s]=m.useState(!1),[o,i]=m.useState({name:"",email:"",password:"",role:"client",selectionLimit:"50",driveFolderLink:""}),a=u=>{const h=u.match(/folders\/([a-zA-Z0-9_-]+)/);return h?h[1]:u},l=async u=>{u.preventDefault(),s(!0);try{const f=await(window._secondaryApp||(window._secondaryApp=ni(async()=>{const{initializeApp:v}=await Promise.resolve().then(()=>GB);return{initializeApp:v}},void 0).then(({initializeApp:v})=>v(Gi.options,"SecondaryApp")))),p=xp(f),y=await ZA(p,o.email,o.password);o.name&&await tP(y.user,{displayName:o.name});const b=o.driveFolderLink?a(o.driveFolderLink):null;await pt(_e(K,"profiles",y.user.uid),{id:y.user.uid,email:o.email,full_name:o.name,selection_limit:Number(o.selectionLimit)||50,google_drive_folder_id:b||null,google_drive_connected:!!b,created_at:Xe(),updated_at:Xe()},{merge:!0}),await pt(_e(K,"user_roles",y.user.uid),{user_id:y.user.uid,role:o.role,created_at:Xe()},{merge:!0});try{await vo(Ae(K,"activity_logs"),{type:"user_created",user_id:y.user.uid,email:o.email,role:o.role,created_at:Xe()})}catch{console.warn("Activity log write failed, continuing...")}await p.signOut(),de.success(`User ${o.name} created successfully`),i({name:"",email:"",password:"",role:"client",selectionLimit:"50",driveFolderLink:""}),e(!1),n()}catch(h){console.error("Add user error:",h),de.error((h==null?void 0:h.message)||"Failed to create user")}finally{s(!1)}};return d.jsx(V_,{open:t,onOpenChange:e,children:d.jsxs(Op,{className:"sm:max-w-[500px]",children:[d.jsxs(Mp,{children:[d.jsx(jp,{children:"Add New User"}),d.jsx($_,{children:"Create a new user account with credentials and optional Drive access"})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"name",children:"Full Name"}),d.jsx(Tt,{id:"name",value:o.name,onChange:u=>i({...o,name:u.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"email",children:"Email"}),d.jsx(Tt,{id:"email",type:"email",value:o.email,onChange:u=>i({...o,email:u.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"password",children:"Password"}),d.jsx(Tt,{id:"password",type:"password",value:o.password,onChange:u=>i({...o,password:u.target.value}),required:!0,minLength:6})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{children:"Role"}),d.jsxs(x2,{value:o.role,onValueChange:u=>i({...o,role:u}),children:[d.jsx(q_,{children:d.jsx(E2,{})}),d.jsxs(G_,{children:[d.jsx(uu,{value:"client",children:"Client"}),d.jsx(uu,{value:"admin",children:"Admin"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{children:"Selection Limit"}),d.jsx(Tt,{type:"number",value:o.selectionLimit,onChange:u=>i({...o,selectionLimit:u.target.value}),min:"1"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{children:"Google Drive Folder Link (Optional)"}),d.jsx(Tt,{value:o.driveFolderLink,onChange:u=>i({...o,driveFolderLink:u.target.value})})]}),d.jsxs("div",{className:"flex gap-2 pt-4",children:[d.jsx(fe,{type:"button",variant:"outline",onClick:()=>e(!1),className:"flex-1",children:"Cancel"}),d.jsxs(fe,{type:"submit",disabled:r,className:"flex-1 bg-gradient-primary",children:[r&&d.jsx(Us,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]})]})]})]})})},wq=({open:t,onOpenChange:e,onUserUpdated:n,user:r})=>{if(!r)return null;const s=r??{},[o,i]=m.useState(s.full_name||""),[a,l]=m.useState(s.role||"client"),[u,h]=m.useState(""),[f,p]=m.useState(!1),[y,b]=m.useState(s.selection_limit??null),[v,x]=m.useState("");m.useEffect(()=>{s.google_drive_folder_id?h(`https://drive.google.com/drive/folders/${s.google_drive_folder_id}`):h("")},[s.google_drive_folder_id]);const E=D=>{if(!D)return"";const M=String(D).match(/folders\/([a-zA-Z0-9_-]+)/);return M?M[1]:""},w=async D=>{D.preventDefault(),p(!0);try{await st.profiles.update(s.id,{full_name:o||s.full_name||"",email:s.email||"",selection_limit:0,driveFolderLink:u||"",google_drive_folder_id:E(u),google_drive_connected:!!u,updated_at:new Date}),a!==s.role&&await pt(_e(K,"user_roles",s.id),{user_id:s.id,role:a,updated_at:new Date().toISOString()},{merge:!0}),await vo(Ae(K,"activity_logs"),{type:"user_updated",user_id:s.id,full_name:o,role:a,drive_folder:E(u),timestamp:new Date().toISOString()}),de.success("User updated successfully"),n&&n(),e(!1)}catch(M){console.error("Error updating user:",M),de.error("Failed to update user")}finally{p(!1)}},T=async()=>{try{p(!0),await pt(_e(K,"profiles",s.id),{selection_finalized:!1,selection_locked:!1,updated_at:Xe()},{merge:!0});try{await pt(_e(K,"selections",String(s.id)),{userId:String(s.id),finalized:!1,updated_at:Xe()},{merge:!0})}catch{}try{await vo(Ae(K,"activity_logs"),{type:"unfinalize",user_id:s.id,by:"admin",created_at:Xe()})}catch{}de.success("Selections re-enabled for user")}catch(D){console.error(D),de.error("Failed to re-enable user selections")}finally{p(!1)}},k=async()=>{try{p(!0);const D={updated_at:Xe()};y!=null&&!Number.isNaN(y)&&(D.selection_limit=Number(y)),v&&v.length>0&&(D.temp_password=v),await pt(_e(K,"profiles",s.id),D,{merge:!0}),de.success("Admin changes saved")}catch(D){console.error(D),de.error("Failed to save admin changes")}finally{p(!1)}};return d.jsx(V_,{open:t,onOpenChange:e,children:d.jsxs(Op,{className:"sm:max-w-[500px]",children:[d.jsx(Mp,{children:d.jsx(jp,{children:"Edit User"})}),d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"email",children:"Email (Read-only)"}),d.jsx(Tt,{id:"email",value:s.email,disabled:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"fullName",children:"Full Name"}),d.jsx(Tt,{id:"fullName",value:o,onChange:D=>i(D.target.value),placeholder:"Enter full name",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"role",children:"Role"}),d.jsxs(x2,{value:a,onValueChange:D=>l(D),children:[d.jsx(q_,{children:d.jsx(E2,{})}),d.jsxs(G_,{children:[d.jsx(uu,{value:"client",children:"Client"}),d.jsx(uu,{value:"admin",children:"Admin"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"driveFolder",children:"Google Drive Folder Link (Optional)"}),d.jsx(Tt,{id:"driveFolder",value:u,onChange:D=>h(D.target.value),placeholder:"https://drive.google.com/drive/folders/..."}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the full Google Drive folder link"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"selectionLimit",children:"Selection Limit"}),d.jsx(Tt,{id:"selectionLimit",type:"number",min:1,value:(y??s.selection_limit??50).toString(),onChange:D=>b(Number(D.target.value||0)),placeholder:"e.g., 50"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"tempPassword",children:"Temporary Password"}),d.jsx(Tt,{id:"tempPassword",type:"text",value:v,onChange:D=>x(D.target.value),placeholder:"Set a temporary password note"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: This does not change Firebase Auth actual password."})]}),d.jsxs("div",{className:"flex items-center justify-between pt-2",children:[d.jsx(fe,{type:"button",variant:"outline",onClick:T,children:"Re-enable selections"}),d.jsx(fe,{type:"button",variant:"outline",onClick:k,children:"Apply Admin Changes"})]}),d.jsxs(U_,{children:[d.jsx(fe,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsxs(fe,{type:"submit",disabled:f,className:"bg-gradient-primary",children:[f&&d.jsx(Us,{className:"mr-2 h-4 w-4 animate-spin"}),"Update User"]})]})]})]})})};async function _q(t){try{const e=Ae(K,"selections"),n=Pt(e,$t("status","==","selected")),r=await Qe(n),s=[];return r.forEach(o=>{const i=o.data();(i.user_id===t||i.userId===t||i.user===t)&&(i.photo_id?s.push(String(i.photo_id)):i.photoId?s.push(String(i.photoId)):i.photo&&(i.photo.id||i.photoId)?s.push(String(i.photo.id||i.photoId)):i.file&&i.file.id&&s.push(String(i.file.id)))}),s}catch(e){return console.error("fetchSelectedPhotoIdsForUser error",e),[]}}const xq=()=>{var D;const t=ur(),[e,n]=m.useState([]),[r,s]=m.useState(!0),[o,i]=m.useState(null),[a,l]=m.useState(new Set),[u,h]=m.useState(!1),[f,p]=m.useState(null),[y,b]=m.useState(null),v=async()=>{s(!0);try{const I=(await Qe(Ae(K,"profiles"))).docs.map(O=>({id:O.id,...O.data()})),R=(await Qe(Ae(K,"user_roles"))).docs.map(O=>({id:O.id,...O.data()})),P=new Map(R.map(O=>[O.id,O.role])),C=I.map(O=>({...O,role:P.get(O.id)||O.role||"client"}));n(C)}catch(M){console.error(M),de.error("Failed to load users")}finally{s(!1)}};m.useEffect(()=>{v();const M=bs(Ae(K,"profiles"),v),I=bs(Ae(K,"user_roles"),v);return()=>{M(),I()}},[]),m.useEffect(()=>{const M=_e(K,"drive_sync_status","current"),I=bs(M,S=>{if(!S.exists()){i(null);return}const R=S.data();i({id:S.id,...R})},S=>{console.warn("drive_sync_status listener error",S)});return()=>I()},[]);const x=async M=>{var I,S;try{s(!0),de.info("Deleting user (Firestore only)"),await Promise.all([oi(_e(K,"profiles",M.id)),oi(_e(K,"user_roles",M.id)),oi(_e(K,"users",M.id))]);const R=Pt(Ae(K,"selections"),$t("user_id","==",M.id)),P=await Qe(R);await Promise.all(P.docs.map(N=>oi(N.ref)));const C=Pt(Ae(K,"photos"),$t("user_id","==",M.id)),O=await Qe(C);await Promise.all(O.docs.map(N=>oi(N.ref)));try{await((S=(I=st.activityLogs).create)==null?void 0:S.call(I,"user_delete",M.id,{method:"firestore-only"}))}catch{}de.success(`User ${M.email} deleted`),await v()}catch(R){console.warn("Delete finished with warnings:",R),de.success("User deleted"),await v()}finally{s(!1)}},E=async M=>{var I,S,R,P;try{l(q=>new Set(q).add(M.id));const C=M.driveFolderLink||M.google_drive_link||M.drive_folder_link||((I=M.profile)==null?void 0:I.driveFolderLink)||"";let N=M.google_drive_folder_id||M.drive_folder||M.driveFolder||((S=M.profile)==null?void 0:S.google_drive_folder_id)||"";if(!N&&C){const q=/\/folders\/([a-zA-Z0-9_-]+)/.exec(C)||/[?&]id=([a-zA-Z0-9_-]+)/.exec(C);N=(q==null?void 0:q[1])??""}if(!N){const q=window.prompt("Paste Google Drive Folder Link to sync for this user:");if(!q){de.error("Drive folder link is required");return}const F=/\/folders\/([a-zA-Z0-9_-]+)/.exec(q)||/[?&]id=([a-zA-Z0-9_-]+)/.exec(q);N=(F==null?void 0:F[1])??"",await st.profiles.update(M.id,{driveFolderLink:q,google_drive_folder_id:N,google_drive_connected:!!N})}const{data:U,error:ie}=await st.functions.syncDrive(M.id,N);if(ie||(U==null?void 0:U.ok)===!1){const q=(U==null?void 0:U.error)||(ie==null?void 0:ie.message)||"sync failed";de.error(`Drive sync failed: ${q}`);return}const J=(U==null?void 0:U.photos_synced)??(U==null?void 0:U.synced)??0;de.success(`Drive Synced  (${J} photos)`);try{await((P=(R=st.activityLogs).create)==null?void 0:P.call(R,"drive_sync",M.id,{photos_synced:J}))}catch{}v()}catch(C){console.error(C),de.error("Failed to sync Drive photos")}finally{l(C=>{const O=new Set(C);return O.delete(M.id),O})}},w=M=>{t(`/gallery?userId=${M}&mode=view`)},T=async M=>{try{b(M.id),de("Preparing BAT script...",{duration:2e3});const I=await _q(M.id);if(!I.length){de.info("No selected photos for this user");return}let S=[];try{const q=await st.photos.list(M.id);S=q&&q.data||[]}catch{try{const F=Ae(K,"photos"),j=Pt(F,$t("userId","==",M.id));S=(await Qe(j)).docs.map(te=>({id:te.id,...te.data()}))}catch{}}const R=new Set;S.forEach(q=>{const F=q.id||q.file_id||q.photoId||q.photo_id;if(F&&I.includes(String(F))){const j=q.name||q.filename||q.fileName||q.title||"";if(!j)return;const H=j.split(".")[0];H&&R.add(H)}});const P=Array.from(R);if(!P.length){de.info("No filenames matched");return}const C=[];C.push("@echo off"),C.push("chcp 65001 >nul"),C.push("setlocal EnableDelayedExpansion"),C.push(""),C.push("REM ============================================================="),C.push("REM    CINEMATIC PHOTO COPY SCRIPT    Ravi Sharma Photo & Films"),C.push("REM ============================================================="),C.push(""),C.push('set "SOURCE=%cd%"'),C.push('set "DEST=%SOURCE%\\SELECTED_WITH_RSF"'),C.push('if not exist "%DEST%" mkdir "%DEST%"'),C.push(""),C.push("REM --- Prefix list ---"),C.push(`set PREFIX_COUNT=${P.length}`),P.forEach((q,F)=>{const j=q.replace(/[^A-Za-z0-9_.-]/g,"_");C.push(`set PREFIX[${F+1}]=${j}`)}),C.push(""),C.push("set /a TOTAL=%PREFIX_COUNT%"),C.push("set /a COPIED=0"),C.push("set /a BAR_WIDTH=30"),C.push(""),C.push("cls"),C.push("echo."),C.push("echo "),C.push("echo          Copying Selected Photos  Please Wait...         "),C.push("echo "),C.push("echo."),C.push(""),C.push("for /L %%I in (1,1,%PREFIX_COUNT%) do ("),C.push('    set "CURRENT_PREFIX=!PREFIX[%%I]!"'),C.push('    call :COPY_PREFIX "%%I" "!CURRENT_PREFIX!"'),C.push(")"),C.push(""),C.push("cls"),C.push("echo."),C.push("echo "),C.push("echo          All %TOTAL% prefix groups processed successfully.         "),C.push("echo            Files saved inside: SELECTED_WITH_RSF folder.           "),C.push("echo "),C.push("echo."),C.push("pause"),C.push("exit /b"),C.push(""),C.push(""),C.push(":COPY_PREFIX"),C.push("setlocal"),C.push('set "INDEX=%~1"'),C.push('set "PREFIX=%~2"'),C.push(""),C.push("set /a COPIED+=1"),C.push("set /a PERCENT=(COPIED*100)/TOTAL"),C.push("set /a FILLS=(PERCENT*BAR_WIDTH)/100"),C.push('set "BAR="'),C.push('for /L %%K in (1,1,%FILLS%) do set "BAR=!BAR!"'),C.push("set /a EMPTY=BAR_WIDTH-FILLS"),C.push('for /L %%L in (1,1,%EMPTY%) do set "BAR=!BAR!"'),C.push(""),C.push("cls"),C.push("echo."),C.push("echo.            EASY GALLERY BY RAVI SHARMA PHOTO FILMS"),C.push("echo "),C.push("echo  Copying Selected Photos  %PERCENT%%%  (%COPIED%/%TOTAL%)  [%BAR%] "),C.push("echo "),C.push("echo.     Searching for prefix: %PREFIX%*"),C.push("echo."),C.push(""),C.push("REM --- Exclude the destination folder from the search ---"),C.push(`for /F "delims=" %%F in ('dir /B /S "%PREFIX%*" ^| findstr /V /I "\\\\SELECTED_WITH_RSF\\\\"') do (`),C.push('    echo Copying "%%~nxF" ...'),C.push('    set "FULLDIR=%%~dpF"'),C.push('    set "RELPATH=!FULLDIR:%SOURCE%=!"'),C.push('    if "!RELPATH:~0,1!"=="\\" set "RELPATH=!RELPATH:~1!"'),C.push("    if defined RELPATH ("),C.push('        set "TARGETDIR=%DEST%\\!RELPATH!"'),C.push('        if not exist "!TARGETDIR!" mkdir "!TARGETDIR!"'),C.push('        copy /-Y "%%F" "!TARGETDIR!" >nul'),C.push("    ) else ("),C.push('        copy /-Y "%%F" "%DEST%" >nul'),C.push("    )"),C.push(")"),C.push("endlocal"),C.push('powershell -noprofile -command "Start-Sleep -Milliseconds 150" >nul'),C.push("exit /b");const O=C.join(`\r
`),N=(M.email||M.id).replace(/[^a-zA-Z0-9._-]/g,"_"),U=new Blob([O],{type:"application/octet-stream"}),ie=URL.createObjectURL(U),J=document.createElement("a");J.href=ie,J.download=`copy_selected_with_rsf_${N}.bat`,J.click(),URL.revokeObjectURL(ie),de.success("BAT downloaded  ready to run")}catch(I){console.error("BAT export failed",I),de.error("Failed to create BAT")}finally{b(null)}},k=M=>{if(!M)return"-";try{let I=M;M!=null&&M.seconds?I=new Date(M.seconds*1e3):I=new Date(M);const S=Math.max(0,Date.now()-I.getTime()),R=Math.floor(S/1e3),P=Math.floor(R/60),C=R%60;return`${P}m ${C}s`}catch{return"-"}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("style",{children:`
.cinematic-progress {
  box-shadow: 0 6px 30px rgba(255, 192, 70, 0.08), 0 0 10px rgba(255, 192, 70, 0.06) inset;
  border: 1px solid rgba(255, 200, 100, 0.18);
  transition: box-shadow .25s ease, transform .15s ease;
  padding: 12px;
  border-radius: 10px;
}
.cinematic-progress:hover { transform: translateY(-2px); box-shadow: 0 10px 40px rgba(255,192,70,0.10); }
.cinematic-progress .indicator { filter: drop-shadow(0 4px 12px rgba(255,192,70,0.12)); }
`}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Users"}),d.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and permissions"})]}),d.jsxs(fe,{className:"bg-gradient-primary",onClick:()=>h(!0),children:[d.jsx(Gj,{className:"mr-2 h-4 w-4"})," Add User"]})]}),o&&o.status==="running"&&d.jsxs(yt,{className:"cinematic-progress",children:[d.jsx(pn,{children:d.jsx(mn,{children:"Drive Sync  In Progress"})}),d.jsx(Wt,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"w-2/3",children:[d.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:((D=o.details)==null?void 0:D.message)||"Syncing photos from Drive"}),d.jsx(VN,{value:o.percent||0,className:"indicator"}),d.jsxs("div",{className:"text-xs mt-2 text-muted-foreground",children:[o.processed||0," / ",o.total||"-","  ",Math.round(o.percent||0),"%"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm",children:"Elapsed"}),d.jsx("div",{className:"font-mono",children:k(o.started_at)})]})]})})]}),o&&o.status==="finished"&&d.jsxs(yt,{className:"cinematic-progress",children:[d.jsx(pn,{children:d.jsx(mn,{children:"Drive Sync  Completed"})}),d.jsx(Wt,{children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed at"}),d.jsx("div",{children:o.finished_at&&(o.finished_at.seconds?new Date(o.finished_at.seconds*1e3).toLocaleString():new Date(o.finished_at).toLocaleString())||"-"}),d.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Processed: ",o.processed||0]})]})})})]}),d.jsxs(yt,{children:[d.jsx(pn,{children:d.jsx(mn,{children:"User List"})}),d.jsx(Wt,{children:r?d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading users..."}):e.length===0?d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users found"}):d.jsxs(kN,{children:[d.jsx(NN,{children:d.jsxs(Jy,{children:[d.jsx(da,{children:"Email"}),d.jsx(da,{children:"Name"}),d.jsx(da,{children:"Role"}),d.jsx(da,{children:"Drive"}),d.jsx(da,{className:"text-right",children:"Actions"})]})}),d.jsx(DN,{children:e.map(M=>d.jsxs(Jy,{children:[d.jsx(ha,{children:M.email}),d.jsx(ha,{children:M.full_name||"-"}),d.jsx(ha,{children:d.jsx(xb,{variant:M.role==="admin"?"default":"secondary",children:M.role})}),d.jsx(ha,{children:d.jsx(xb,{variant:M.google_drive_connected?"default":"outline",children:M.google_drive_connected?"Connected":"Not Connected"})}),d.jsxs(ha,{className:"text-right space-x-2",children:[d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>w(M.id),children:d.jsx(P1,{className:"h-4 w-4"})}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>E(M),disabled:a.has(M.id)||!M.google_drive_connected,title:"Sync Drive",children:d.jsx(kj,{className:`h-4 w-4 ${a.has(M.id)?"animate-spin":""}`})}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>T(M),disabled:y===M.id,title:"Download Copy Script (BAT)","aria-label":"Download Copy Script (BAT)",children:d.jsx(qj,{className:"h-4 w-4"})}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>handleDownloadCSV_new(M),disabled:y===M.id,title:"Download Selected (CSV)","aria-label":"Download Selected (CSV)",children:d.jsx(Oj,{className:"h-4 w-4"})}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>p(M),children:d.jsx(Uj,{className:"h-4 w-4"})}),d.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>x(M),className:"hover:text-destructive",children:d.jsx(j1,{className:"h-4 w-4"})})]})]},M.id))})]})})]}),d.jsx(vq,{open:u,onOpenChange:h,onUserAdded:v}),f&&d.jsx(wq,{open:!!f,onOpenChange:M=>!M&&p(null),user:f,onUserUpdated:v})]})},Bd=OP(Gi),wo={async uploadFile(t,e){try{const n=lc(Bd,t);return await l8(n,e),{data:!0,error:null}}catch(n){return console.error("Storage upload error:",n),{data:null,error:n}}},async getPublicUrl(t){try{const e=lc(Bd,t);return await DP(e)}catch(e){return console.error("Storage url error:",e),null}},async listFiles(t){try{const e=lc(Bd,t.endsWith("/")?t:`${t}/`);return{data:(await NP(e)).items,error:null}}catch(e){return console.error("Storage list error:",e),{data:[],error:e}}},async deleteFile(t){try{const e=lc(Bd,t);return await c8(e),{data:!0,error:null}}catch(e){return console.error("Storage delete error:",e),{data:null,error:e}}}},Eq=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!1),[s,o]=m.useState(!0);m.useEffect(()=>{i()},[]);const i=async()=>{o(!0);try{const{data:u,error:h}=await wo.listFiles("hero-images");if(h)throw h;const f=await Promise.all(u.filter(p=>p.name!==".emptyFolderPlaceholder").map(async p=>({name:p.name,url:await wo.getPublicUrl(`hero-images/${p.name}`),created_at:null})));e(f)}catch(u){console.error("Error loading images:",u),de.error("Failed to load hero images")}finally{o(!1)}},a=async u=>{const h=u.target.files;if(!(!h||h.length===0)){r(!0);try{for(const f of Array.from(h)){const p=f.name.split(".").pop(),y=`hero-${Date.now()}-${Math.random().toString(36).substring(7)}.${p}`,{error:b}=await wo.uploadFile(`hero-images/${y}`,f);if(b)throw b}de.success(`Uploaded ${h.length} image(s) successfully`),await i()}catch(f){console.error("Upload error:",f),de.error("Failed to upload images")}finally{r(!1),u.target.value=""}}},l=async u=>{try{const{error:h}=await wo.deleteFile(`hero-images/${u}`);if(h)throw h;de.success("Image deleted successfully"),await i()}catch(h){console.error("Delete error:",h),de.error("Failed to delete image")}};return d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{children:"Hero Slideshow Images"}),d.jsx(Is,{children:"Upload and manage images for the home page slideshow"})]}),d.jsxs(Wt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Tt,{id:"hero-upload",type:"file",accept:"image/*",multiple:!0,onChange:a,disabled:n,className:"flex-1"}),d.jsxs(fe,{variant:"outline",disabled:n,onClick:()=>{var u;return(u=document.querySelector("#hero-upload"))==null?void 0:u.click()},children:[d.jsx(L1,{className:"mr-2 h-4 w-4"}),n?"Uploading...":"Upload"]})]}),s?d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx(Us,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):t.length===0?d.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hero images uploaded yet. Upload some to create a slideshow."}):d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map(u=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:u.url,alt:"Hero",className:"w-full h-32 object-cover rounded-lg border border-border"}),d.jsx(fe,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>l(u.name),children:d.jsx(j1,{className:"h-4 w-4"})})]},u.name))})]})]})},Tq=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!1),[s,o]=m.useState({headerFont:"",titleFont:"",secondaryFont:"",buttonFont:"",titleColor:"#ffffff",secondaryColor:"#bfbfbf",buttonColor:"#f5f5f5"});m.useEffect(()=>{i()},[]);const i=async()=>{try{const f=(await Qe(Ae(K,"site_fonts"))).docs.map(p=>({id:p.id,...p.data()}));e(f)}catch(h){console.error(h),de.error("Failed to load fonts (check permissions)")}},a=async h=>{var b;const f=(b=h.target.files)==null?void 0:b[0];if(!f)return;const p=f.name,y=`fonts/${Date.now()}_${p}`;r(!0);try{const v=await wo.uploadFile(y,f);if(v.error)throw v.error;const x=await wo.getPublicUrl(y),E=`${Date.now()}_${p.replace(/\W+/g,"_")}`;await pt(_e(K,"site_fonts",E),{name:p,storagePath:y,publicUrl:x,mimeType:f.type,createdAt:Xe()}),de.success("Font uploaded"),i()}catch(v){console.error(v),de.error("Upload failed")}finally{r(!1)}},l=async()=>{try{const h={fonts:s,font_family:s.titleFont||s.headerFont||"",fontFamily:s.titleFont||s.headerFont||""};await pt(_e(K,"settings","design"),h,{merge:!0}),de.success("Font design settings saved (refresh to apply)")}catch(h){console.error(h),de.error("Save failed")}},u=(h,f)=>{o(p=>({...p,[h]:f}))};return d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{children:"Font Management"}),d.jsx(Is,{children:"Upload and assign fonts globally"})]}),d.jsxs(Wt,{className:"space-y-4",children:[d.jsx("div",{children:d.jsx(Tt,{type:"file",accept:".ttf,.otf,.woff",onChange:a,disabled:n})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["headerFont","titleFont","secondaryFont","buttonFont"].map(h=>d.jsxs("div",{children:[d.jsx(ft,{className:"capitalize",children:h.replace("Font"," Font")}),d.jsxs("select",{className:"border rounded w-full p-2 bg-black text-white",value:s[h],onChange:f=>u(h,f.target.value),children:[d.jsx("option",{value:"",children:"Select Font"}),t.map(f=>d.jsx("option",{value:f.publicUrl||f.storagePath||f.id,children:f.name},f.id))]})]},h))}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:["titleColor","secondaryColor","buttonColor"].map(h=>d.jsxs("div",{children:[d.jsx(ft,{className:"capitalize",children:h.replace("Color"," Color")}),d.jsx("input",{type:"color",value:s[h],onChange:f=>u(h,f.target.value),className:"w-full h-10"})]},h))}),d.jsx(fe,{onClick:l,className:"mt-4 bg-gradient-to-r from-yellow-600 to-yellow-400 text-black",children:"Save Font Settings"}),d.jsxs("div",{className:"mt-6 space-y-2",children:[d.jsx("h4",{className:"text-sm text-muted-foreground",children:"Preview"}),d.jsx("div",{style:{fontFamily:`${s.titleFont}`,color:s.titleColor,fontSize:"1.5rem"},children:"Title Font Example"}),d.jsx("div",{style:{fontFamily:`${s.secondaryFont}`,color:s.secondaryColor},children:"Secondary Text Example"}),d.jsx("button",{style:{fontFamily:`${s.buttonFont}`,color:s.buttonColor,background:"#222",padding:"6px 12px",borderRadius:"4px"},children:"Button Example"})]})]})]})},bq=()=>{const[t,e]=m.useState({logo_url:"",primary_color:"#8B5CF6",secondary_color:"#0EA5E9",font_family:"Inter"}),[n,r]=m.useState(!1),[s,o]=m.useState(!1);m.useEffect(()=>{i()},[]);const i=async()=>{try{const h=await $n(_e(K,"settings","design"));if(h.exists()){const f=h.data();e({logo_url:f.logo_url||"",primary_color:f.primary_color||"#8B5CF6",secondary_color:f.secondary_color||"#0EA5E9",font_family:f.font_family||"Inter"})}}catch(h){console.error(h),de.error("Failed to load design settings")}},a=async h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];if(f){o(!0);try{const y=f.name.split(".").pop(),b=`logo-${Date.now()}.${y}`,{error:v}=await wo.uploadFile(`logos/${b}`,f);if(v)throw v;const x=await wo.getPublicUrl(`logos/${b}`);e(E=>({...E,logo_url:x})),await pt(_e(K,"settings","design"),{logo_url:x,logoUrl:x},{merge:!0}),de.success("Logo uploaded successfully")}catch(y){console.error("Upload error:",y),de.error("Failed to upload logo")}finally{o(!1)}}},l=async()=>{r(!0);try{const h={logo_url:t.logo_url,logoUrl:t.logo_url,primary_color:t.primary_color,primaryColor:t.primary_color,secondary_color:t.secondary_color,secondaryColor:t.secondary_color,font_family:t.font_family,fontFamily:t.font_family};await pt(_e(K,"settings","design"),h,{merge:!0}),de.success("Design settings saved"),window.dispatchEvent(new Event("design-updated"))}catch(h){console.error(h),de.error("Failed to save design settings")}finally{r(!1)}},u=async()=>{const h={logo_url:"",primary_color:"#8B5CF6",secondary_color:"#0EA5E9",font_family:"Inter"};e(h),r(!0);try{const f={logo_url:h.logo_url,logoUrl:h.logo_url,primary_color:h.primary_color,primaryColor:h.primary_color,secondary_color:h.secondary_color,secondaryColor:h.secondary_color,font_family:h.font_family,fontFamily:h.font_family};await pt(_e(K,"settings","design"),f,{merge:!0}),de.success("Design settings reset to default"),window.dispatchEvent(new Event("design-updated"))}catch(f){console.error(f),de.error("Failed to reset")}finally{r(!1)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Design"}),d.jsx("p",{className:"text-muted-foreground",children:"Customize the look and feel of your gallery"})]}),d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{children:"Brand Settings"}),d.jsx(Is,{children:"Upload your logo and set your brand colors"})]}),d.jsxs(Wt,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{children:"Logo"}),d.jsxs("div",{className:"space-y-4",children:[t.logo_url&&d.jsx("div",{className:"p-4 border rounded-lg bg-muted/30",children:d.jsx("img",{src:t.logo_url,alt:"Logo",className:"h-16 w-auto"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Tt,{id:"brand-logo-input",type:"file",accept:"image/*",onChange:a,disabled:s,className:"flex-1"}),d.jsxs(fe,{variant:"outline",disabled:s,onClick:()=>{var h;return(h=document.querySelector("#brand-logo-input"))==null?void 0:h.click()},children:[d.jsx(L1,{className:"mr-2 h-4 w-4"}),s?"Uploading...":"Upload"]})]}),d.jsx(Tt,{placeholder:"Or paste logo URL",value:t.logo_url,onChange:h=>e({...t,logo_url:h.target.value})})]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"primary_color",children:"Primary Color"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Tt,{id:"primary_color",type:"color",value:t.primary_color,onChange:h=>e({...t,primary_color:h.target.value}),className:"w-20 h-10"}),d.jsx(Tt,{type:"text",value:t.primary_color,onChange:h=>e({...t,primary_color:h.target.value}),className:"flex-1"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"secondary_color",children:"Secondary Color"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Tt,{id:"secondary_color",type:"color",value:t.secondary_color,onChange:h=>e({...t,secondary_color:h.target.value}),className:"w-20 h-10"}),d.jsx(Tt,{type:"text",value:t.secondary_color,onChange:h=>e({...t,secondary_color:h.target.value}),className:"flex-1"})]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs(fe,{onClick:l,disabled:n,className:"bg-gradient-primary",children:[d.jsx(O1,{className:"mr-2 h-4 w-4"}),"Save Brand Settings"]}),d.jsx(fe,{onClick:u,disabled:n,variant:"outline",children:"Reset to Default"})]})]})]}),d.jsx(Eq,{}),d.jsx(Tq,{})]})},Sq=()=>{const[t,e]=m.useState({hero_title:"",hero_subtitle:"",contact_email:"",contact_phone:"",feedback_prompt:""}),[n,r]=m.useState(!1);m.useEffect(()=>{s()},[]);const s=async()=>{try{const i=await $n(_e(K,"settings","app"));if(i.exists()){const a=i.data();e({hero_title:a.hero_title||"",hero_subtitle:a.hero_subtitle||"",contact_email:a.contact_email||"",contact_phone:a.contact_phone||"",feedback_prompt:a.feedback_prompt||""})}}catch(i){console.error(i),de.error("Failed to load settings")}},o=async()=>{r(!0);try{await pt(_e(K,"settings","app"),t,{merge:!0}),de.success("Settings saved successfully")}catch(i){console.error(i),de.error("Failed to save settings")}finally{r(!1)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Settings"}),d.jsx("p",{className:"text-muted-foreground",children:"Configure your application settings"})]}),d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{children:"Hero Section"}),d.jsx(Is,{children:"Customize the main landing page content"})]}),d.jsxs(Wt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"hero_title",children:"Hero Title"}),d.jsx(Tt,{id:"hero_title",value:t.hero_title,onChange:i=>e({...t,hero_title:i.target.value}),placeholder:"Your Photo Gallery"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"hero_subtitle",children:"Hero Subtitle"}),d.jsx(ff,{id:"hero_subtitle",value:t.hero_subtitle,onChange:i=>e({...t,hero_subtitle:i.target.value}),placeholder:"Select your favorite moments",rows:3})]})]})]}),d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{children:"Contact Information"}),d.jsx(Is,{children:"Set your contact details"})]}),d.jsx(Wt,{className:"space-y-4",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"contact_email",children:"Contact Email"}),d.jsx(Tt,{id:"contact_email",type:"email",value:t.contact_email||"",onChange:i=>e({...t,contact_email:i.target.value}),placeholder:"contact@example.com"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"contact_phone",children:"Contact Phone"}),d.jsx(Tt,{id:"contact_phone",type:"tel",value:t.contact_phone||"",onChange:i=>e({...t,contact_phone:i.target.value}),placeholder:"+1 (555) 123-4567"})]})]})})]}),d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{children:"Feedback Settings"}),d.jsx(Is,{children:"Customize the feedback prompt"})]}),d.jsx(Wt,{className:"space-y-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ft,{htmlFor:"feedback_prompt",children:"Feedback Prompt"}),d.jsx(ff,{id:"feedback_prompt",value:t.feedback_prompt,onChange:i=>e({...t,feedback_prompt:i.target.value}),placeholder:"We value your feedback",rows:3})]})})]}),d.jsxs(fe,{onClick:o,disabled:n,className:"bg-gradient-primary",children:[d.jsx(O1,{className:"mr-2 h-4 w-4"}),"Save All Settings"]})]})};function Iq(t){if(!t||typeof t!="string")return null;const e=t.lastIndexOf("."),n=e>0?t.slice(0,e):t;return n.trim()?n.trim():null}async function Cq(t){var s,o;const e=(t||"").trim();if(!e)return null;try{const i=await $n(_e(K,"profiles",e));if(i.exists())return{id:i.id,email:(s=i.data())==null?void 0:s.email}}catch{}const n=Pt(Ae(K,"profiles"),$t("email","==",e)),r=await Qe(n);if(!r.empty){const i=r.docs[0];return{id:i.id,email:(o=i.data())==null?void 0:o.email}}return null}async function Rq(t){const e=Pt(Ae(K,"selections"),$t("userId","==",t),$t("status","==","selected")),r=(await Qe(e)).docs.map(a=>a.data().photoId).filter(Boolean),{data:s}=await st.photos.list(t),o=s||[],i=new Set;return o.forEach(a=>{if(r.includes(a.id)){const l=Iq(a.name||a.filename||a.fileName||a.title||a.original_name);l&&i.add(l+"*")}}),Array.from(i)}function Aq(t){return`@echo off
setlocal enabledelayedexpansion
chcp 65001 >nul

set "SOURCE=%~dp0"
set "DEST=%SOURCE%SELECTED_WITH_RSF"
if not exist "%DEST%" mkdir "%DEST%"

echo Copying selected files...
echo.

for %%F in (
${t.map(e=>"  "+e).join(`\r
`)}
) do (
  for /R "%SOURCE%" %%B in (%%F) do (
    echo Copying %%B
    copy /-Y "%%B" "%DEST%" >nul
  )
)

echo.
echo  DONE  Files copied to SELECTED_WITH_RSF
echo.
pause
`}function Pq(t,e){const n=new Blob([e],{type:"application/octet-stream;charset=utf-8"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=t,s.click(),URL.revokeObjectURL(r)}function kq(){const[t,e]=m.useState(!1);async function n(){const r=window.prompt("Enter Client Email OR User ID:");if(r){e(!0);try{const s=await Cq(r);if(!s)return de.error("User not found");const o=await Rq(s.id);if(!o.length)return de.info("No selections for this user");const i=Aq(o),a=(s.email||s.id).replace(/[^a-zA-Z0-9._-]/g,"_");Pq(`copy_selected_${a}.bat`,i),de.success(" BAT ready  save & run inside client's folder")}catch(s){console.error(s),de.error("Failed generating BAT file")}finally{e(!1)}}}return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Advanced"}),d.jsx("p",{className:"text-muted-foreground",children:"System utilities & deliverable tools"})]}),d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{children:"Google Drive Sync"}),d.jsx(Is,{children:"Trigger full sync"})]}),d.jsx(Wt,{children:d.jsxs(fe,{disabled:!0,variant:"outline",children:[d.jsx(Bj,{className:"h-4 w-4 mr-2"})," Coming Soon"]})})]}),d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{children:"Deliverables"}),d.jsx(Is,{children:"Export client selections"})]}),d.jsx(Wt,{className:"space-y-2",children:d.jsxs(fe,{onClick:n,disabled:t,children:[d.jsx(sy,{className:"h-4 w-4 mr-2"})," Download .BAT Script (Selected)"]})})]})]})}function Dr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Fi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const S2=6048e5,Nq=864e5;let Dq={};function $p(){return Dq}function du(t,e){var a,l,u,h;const n=$p(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Dr(t),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function yf(t){return du(t,{weekStartsOn:1})}function I2(t){const e=Dr(t),n=e.getFullYear(),r=Fi(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=yf(r),o=Fi(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=yf(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function Sb(t){const e=Dr(t);return e.setHours(0,0,0,0),e}function Ib(t){const e=Dr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Oq(t,e){const n=Sb(t),r=Sb(e),s=+n-Ib(n),o=+r-Ib(r);return Math.round((s-o)/Nq)}function Mq(t){const e=I2(t),n=Fi(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),yf(n)}function jq(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lq(t){if(!jq(t)&&typeof t!="number")return!1;const e=Dr(t);return!isNaN(Number(e))}function Fq(t){const e=Dr(t),n=Fi(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Vq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uq=(t,e,n)=>{let r;const s=Vq[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ag(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const $q={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wq={date:ag({formats:$q,defaultWidth:"full"}),time:ag({formats:Bq,defaultWidth:"full"}),dateTime:ag({formats:zq,defaultWidth:"full"})},Hq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qq=(t,e,n,r)=>Hq[t];function Yl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=t.formattingValues[a]||t.formattingValues[i]}else{const i=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const Gq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zq=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eG={ordinalNumber:Zq,era:Yl({values:Gq,defaultWidth:"wide"}),quarter:Yl({values:Kq,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yl({values:Qq,defaultWidth:"wide"}),day:Yl({values:Yq,defaultWidth:"wide"}),dayPeriod:Yl({values:Xq,defaultWidth:"wide",formattingValues:Jq,defaultFormattingWidth:"wide"})};function Xl(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?nG(a,f=>f.test(i)):tG(a,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(i.length);return{value:u,rest:h}}}function tG(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rG(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=e.slice(s.length);return{value:i,rest:a}}}const sG=/^(\d+)(th|st|nd|rd)?/i,oG=/\d+/i,iG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aG={any:[/^b/i,/^(a|c)/i]},lG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cG={any:[/1/i,/2/i,/3/i,/4/i]},uG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gG={ordinalNumber:rG({matchPattern:sG,parsePattern:oG,valueCallback:t=>parseInt(t,10)}),era:Xl({matchPatterns:iG,defaultMatchWidth:"wide",parsePatterns:aG,defaultParseWidth:"any"}),quarter:Xl({matchPatterns:lG,defaultMatchWidth:"wide",parsePatterns:cG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xl({matchPatterns:uG,defaultMatchWidth:"wide",parsePatterns:dG,defaultParseWidth:"any"}),day:Xl({matchPatterns:hG,defaultMatchWidth:"wide",parsePatterns:fG,defaultParseWidth:"any"}),dayPeriod:Xl({matchPatterns:pG,defaultMatchWidth:"any",parsePatterns:mG,defaultParseWidth:"any"})},yG={code:"en-US",formatDistance:Uq,formatLong:Wq,formatRelative:qq,localize:eG,match:gG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vG(t){const e=Dr(t);return Oq(e,Fq(e))+1}function wG(t){const e=Dr(t),n=+yf(e)-+Mq(e);return Math.round(n/S2)+1}function C2(t,e){var h,f,p,y;const n=Dr(t),r=n.getFullYear(),s=$p(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(p=s.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,i=Fi(t,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=du(i,e),l=Fi(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=du(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function _G(t,e){var a,l,u,h;const n=$p(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=C2(t,e),o=Fi(t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),du(o,e)}function xG(t,e){const n=Dr(t),r=+du(n,e)-+_G(n,e);return Math.round(r/S2)+1}function Je(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Js={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Je(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Je(n+1,2)},d(t,e){return Je(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Je(t.getHours()%12||12,e.length)},H(t,e){return Je(t.getHours(),e.length)},m(t,e){return Je(t.getMinutes(),e.length)},s(t,e){return Je(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Je(s,e.length)}},ia={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Js.y(t,e)},Y:function(t,e,n,r){const s=C2(t,r),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return Je(i,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Je(o,e.length)},R:function(t,e){const n=I2(t);return Je(n,e.length)},u:function(t,e){const n=t.getFullYear();return Je(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Je(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Je(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Js.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Je(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=xG(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Je(s,e.length)},I:function(t,e,n){const r=wG(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Je(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Js.d(t,e)},D:function(t,e,n){const r=vG(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Je(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Je(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Je(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Je(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ia.noon:r===0?s=ia.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ia.evening:r>=12?s=ia.afternoon:r>=4?s=ia.morning:s=ia.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Js.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Js.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Js.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Js.s(t,e)},S:function(t,e){return Js.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Ab(r);case"XXXX":case"XX":return si(r);case"XXXXX":case"XXX":default:return si(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Ab(r);case"xxxx":case"xx":return si(r);case"xxxxx":case"xxx":default:return si(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Rb(r,":");case"OOOO":default:return"GMT"+si(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Rb(r,":");case"zzzz":default:return"GMT"+si(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Je(r,e.length)},T:function(t,e,n){const r=t.getTime();return Je(r,e.length)}};function Rb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+Je(o,2)}function Ab(t,e){return t%60===0?(t>0?"-":"+")+Je(Math.abs(t)/60,2):si(t,e)}function si(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Je(Math.trunc(r/60),2),o=Je(r%60,2);return n+s+e+o}const Pb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},R2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},EG=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Pb(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Pb(r,e)).replace("{{time}}",R2(s,e))},TG={p:R2,P:EG},bG=/^D+$/,SG=/^Y+$/,IG=["D","DD","YY","YYYY"];function CG(t){return bG.test(t)}function RG(t){return SG.test(t)}function AG(t,e,n){const r=PG(t,e,n);if(console.warn(r),IG.includes(t))throw new RangeError(r)}function PG(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DG=/^'([^]*?)'?$/,OG=/''/g,MG=/[a-zA-Z]/;function A2(t,e,n){var h,f,p,y;const r=$p(),s=r.locale??yG,o=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,a=Dr(t);if(!Lq(a))throw new RangeError("Invalid time value");let l=e.match(NG).map(b=>{const v=b[0];if(v==="p"||v==="P"){const x=TG[v];return x(b,s.formatLong)}return b}).join("").match(kG).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:jG(b)};if(Cb[v])return{isToken:!0,value:b};if(v.match(MG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(b=>{if(!b.isToken)return b.value;const v=b.value;(RG(v)||CG(v))&&AG(v,e,String(t));const x=Cb[v[0]];return x(a,v,s.localize,u)}).join("")}function jG(t){const e=t.match(DG);return e?e[1].replace(OG,"'"):t}function LG(t){try{return t!=null&&t.seconds?t=new Date(t.seconds*1e3):t=new Date(t),isNaN(t.getTime())?"-":A2(t,"PPpp")}catch{return"-"}}function FG(){const[t,e]=m.useState([]);async function n(){var s,o;let r=[];try{r=(await Qe(Ae(K,"feedback"))).docs.map(a=>({id:a.id,...a.data()}))}catch{}try{const i=await((s=K.feedback)==null?void 0:s.call(K));(o=i==null?void 0:i.data)!=null&&o.length&&(r=i.data)}catch{}e(r)}return m.useEffect(()=>{n()},[]),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{children:d.jsx("h2",{className:"text-3xl font-bold",children:"Feedback"})}),t.length===0&&d.jsx(yt,{children:d.jsx(Wt,{className:"py-8 text-center text-muted-foreground",children:"No feedback yet"})}),t.map(r=>d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsx(mn,{className:"text-base",children:r.email||r.user||"Unknown"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:LG(r.created_at||r.createdAt||r.timestamp)})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"mb-2",children:Array.from({length:5}).map((s,o)=>d.jsx("span",{children:o<Math.round(r.rating||0)?"":""},o))}),d.jsx("div",{children:r.message||"-"})]})]},r.id))]})}const VG=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Contacts"}),d.jsx("p",{className:"text-muted-foreground",children:"Contact requests from users"})]}),d.jsxs(yt,{children:[d.jsx(pn,{children:d.jsx(mn,{children:"Contact List"})}),d.jsx(Wt,{className:"py-8 text-center text-muted-foreground",children:"No contact requests yet"})]})]});function UG(t){try{return t!=null&&t.seconds?t=new Date(t.seconds*1e3):t=new Date(t),isNaN(t.getTime())?"-":A2(t,"PPpp")}catch{return"-"}}function $G(){const[t,e]=m.useState([]);async function n(){try{const r=Pt(Ae(K,"activity_logs"),lh("created_at","desc")),o=(await Qe(r)).docs.map(i=>({id:i.id,...i.data()}));e(o)}catch{e([])}}return m.useEffect(()=>{n()},[]),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Activity Logs"}),d.jsx("p",{className:"text-muted-foreground",children:"System and user activity"})]}),t.length===0&&d.jsx(yt,{children:d.jsx(Wt,{className:"py-8 text-center text-muted-foreground",children:"No logs found"})}),t.map(r=>d.jsxs(yt,{children:[d.jsxs(pn,{children:[d.jsxs(mn,{className:"text-base",children:[r.user_id||r.user||"System","  ",r.action||"-"," ",r.count?`(${r.count})`:""]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:UG(r.created_at||r.timestamp)})]}),d.jsx(Wt,{children:d.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:13,margin:0},children:JSON.stringify(r.details||r,null,2)})})]},r.id))]})}const BG=()=>{const{loading:t,signOut:e}=zs();ur();const[n,r]=m.useState("dashboard");return t?d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx(Us,{className:"h-8 w-8 animate-spin text-primary"})}):d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(dl,{className:"h-10 w-auto"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Admin Panel"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your photo gallery system"})]})]}),d.jsxs(fe,{variant:"outline",onClick:e,className:"border-border hover:bg-destructive/10 hover:text-destructive",children:[d.jsx($f,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})})}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs(AH,{value:n,onValueChange:r,className:"space-y-6",children:[d.jsxs(PN,{className:"grid w-full grid-cols-4 lg:grid-cols-8 gap-2 bg-card/50 p-2",children:[d.jsxs(ls,{value:"dashboard",className:"flex items-center gap-2",children:[d.jsx(Mj,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),d.jsxs(ls,{value:"users",className:"flex items-center gap-2",children:[d.jsx(F1,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),d.jsxs(ls,{value:"design",className:"flex items-center gap-2",children:[d.jsx(Vj,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Design"})]}),d.jsxs(ls,{value:"settings",className:"flex items-center gap-2",children:[d.jsx(zj,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Settings"})]}),d.jsxs(ls,{value:"advanced",className:"flex items-center gap-2",children:[d.jsx(Kj,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Advanced"})]}),d.jsxs(ls,{value:"feedback",className:"flex items-center gap-2",children:[d.jsx(N1,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Feedback"})]}),d.jsxs(ls,{value:"contacts",className:"flex items-center gap-2",children:[d.jsx(jj,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Contacts"})]}),d.jsxs(ls,{value:"logs",className:"flex items-center gap-2",children:[d.jsx(Sj,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Logs"})]})]}),d.jsx(cs,{value:"dashboard",children:d.jsx(PH,{})}),d.jsx(cs,{value:"users",children:d.jsx(xq,{})}),d.jsx(cs,{value:"design",children:d.jsx(bq,{})}),d.jsx(cs,{value:"settings",children:d.jsx(Sq,{})}),d.jsx(cs,{value:"advanced",children:d.jsx(kq,{})}),d.jsx(cs,{value:"feedback",children:d.jsx(FG,{})}),d.jsx(cs,{value:"contacts",children:d.jsx(VG,{})}),d.jsx(cs,{value:"logs",children:d.jsx($G,{})})]})})]})},zG=()=>{const t=zi();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},WG=["ravi.rv73838@gmail.com","ravi.rv738382@icloud.com"];function HG({children:t}){const{user:e,profile:n,loading:r}=zs();return e&&(WG.includes(e.email||"")||n&&n.role==="admin")?t:r||e&&n===void 0?d.jsx("div",{className:"flex h-screen items-center justify-center",children:d.jsx(Us,{className:"h-8 w-8 animate-spin text-primary"})}):e?n&&n.role==="admin"?t:d.jsx(AE,{to:"/gallery",replace:!0}):d.jsx(AE,{to:"/auth",replace:!0})}const qG=new w4,GG=()=>d.jsx(x4,{client:qG,children:d.jsxs(qV,{children:[d.jsx(PL,{}),d.jsx(aF,{}),d.jsx(mU,{children:d.jsxs(dU,{children:[d.jsx(eo,{path:"/",element:d.jsx(M8,{})}),d.jsx(eo,{path:"/auth",element:d.jsx(j8,{})}),d.jsx(eo,{path:"/home",element:d.jsx(U8,{})}),d.jsx(eo,{path:"/gallery",element:d.jsx(aH,{})}),d.jsx(eo,{path:"/review",element:d.jsx(SH,{})}),d.jsx(eo,{path:"/admin",element:d.jsx(HG,{children:d.jsx(BG,{})})}),d.jsx(eo,{path:"*",element:d.jsx(zG,{})})]})})]})});sH();e1(document.getElementById("root")).render(d.jsx(GG,{}));
